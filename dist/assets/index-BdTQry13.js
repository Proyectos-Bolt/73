var HN=Object.defineProperty;var WN=(t,e,n)=>e in t?HN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yn=(t,e,n)=>WN(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var GU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T4={exports:{}},Yg={},k4={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),KN=Symbol.for("react.portal"),YN=Symbol.for("react.fragment"),QN=Symbol.for("react.strict_mode"),XN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),eT=Symbol.for("react.forward_ref"),tT=Symbol.for("react.suspense"),nT=Symbol.for("react.memo"),rT=Symbol.for("react.lazy"),Y5=Symbol.iterator;function iT(t){return t===null||typeof t!="object"?null:(t=Y5&&t[Y5]||t["@@iterator"],typeof t=="function"?t:null)}var P4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C4=Object.assign,R4={};function eh(t,e,n){this.props=t,this.context=e,this.refs=R4,this.updater=n||P4}eh.prototype.isReactComponent={};eh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L4(){}L4.prototype=eh.prototype;function ry(t,e,n){this.props=t,this.context=e,this.refs=R4,this.updater=n||P4}var iy=ry.prototype=new L4;iy.constructor=ry;C4(iy,eh.prototype);iy.isPureReactComponent=!0;var Q5=Array.isArray,D4=Object.prototype.hasOwnProperty,sy={current:null},O4={key:!0,ref:!0,__self:!0,__source:!0};function M4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)D4.call(e,r)&&!O4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:td,type:t,key:s,ref:o,props:i,_owner:sy.current}}function sT(t,e){return{$$typeof:td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===td}function oT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var X5=/\/+/g;function J0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oT(""+t.key):e.toString(36)}function wp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case td:case KN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+J0(o,0):r,Q5(i)?(n="",t!=null&&(n=t.replace(X5,"$&/")+"/"),wp(i,e,n,"",function(u){return u})):i!=null&&(oy(i)&&(i=sT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(X5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Q5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+J0(s,a);o+=wp(s,e,n,l,i)}else if(l=iT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+J0(s,a++),o+=wp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vd(t,e,n){if(t==null)return t;var r=[],i=0;return wp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mi={current:null},bp={transition:null},lT={ReactCurrentDispatcher:Mi,ReactCurrentBatchConfig:bp,ReactCurrentOwner:sy};function F4(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:Vd,forEach:function(t,e,n){Vd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vd(t,function(){e++}),e},toArray:function(t){return Vd(t,function(e){return e})||[]},only:function(t){if(!oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=eh;Ht.Fragment=YN;Ht.Profiler=XN;Ht.PureComponent=ry;Ht.StrictMode=QN;Ht.Suspense=tT;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT;Ht.act=F4;Ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=C4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)D4.call(e,l)&&!O4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:td,type:t.type,key:i,ref:s,props:r,_owner:o}};Ht.createContext=function(t){return t={$$typeof:ZN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JN,_context:t},t.Consumer=t};Ht.createElement=M4;Ht.createFactory=function(t){var e=M4.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:eT,render:t}};Ht.isValidElement=oy;Ht.lazy=function(t){return{$$typeof:rT,_payload:{_status:-1,_result:t},_init:aT}};Ht.memo=function(t,e){return{$$typeof:nT,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=bp.transition;bp.transition={};try{t()}finally{bp.transition=e}};Ht.unstable_act=F4;Ht.useCallback=function(t,e){return Mi.current.useCallback(t,e)};Ht.useContext=function(t){return Mi.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return Mi.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return Mi.current.useEffect(t,e)};Ht.useId=function(){return Mi.current.useId()};Ht.useImperativeHandle=function(t,e,n){return Mi.current.useImperativeHandle(t,e,n)};Ht.useInsertionEffect=function(t,e){return Mi.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return Mi.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return Mi.current.useMemo(t,e)};Ht.useReducer=function(t,e,n){return Mi.current.useReducer(t,e,n)};Ht.useRef=function(t){return Mi.current.useRef(t)};Ht.useState=function(t){return Mi.current.useState(t)};Ht.useSyncExternalStore=function(t,e,n){return Mi.current.useSyncExternalStore(t,e,n)};Ht.useTransition=function(){return Mi.current.useTransition()};Ht.version="18.3.1";k4.exports=Ht;var qe=k4.exports;const J5=GN(qe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT=qe,cT=Symbol.for("react.element"),hT=Symbol.for("react.fragment"),fT=Object.prototype.hasOwnProperty,dT=uT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pT={key:!0,ref:!0,__self:!0,__source:!0};function j4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fT.call(e,r)&&!pT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cT,type:t,key:s,ref:o,props:i,_owner:dT.current}}Yg.Fragment=hT;Yg.jsx=j4;Yg.jsxs=j4;T4.exports=Yg;var M=T4.exports,V4={exports:{}},_s={},U4={exports:{}},B4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,le){var we=J.length;J.push(le);e:for(;0<we;){var _e=we-1>>>1,j=J[_e];if(0<i(j,le))J[_e]=le,J[we]=j,we=_e;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],we=J.pop();if(we!==le){J[0]=we;e:for(var _e=0,j=J.length,W=j>>>1;_e<W;){var Q=2*(_e+1)-1,te=J[Q],re=Q+1,oe=J[re];if(0>i(te,we))re<j&&0>i(oe,te)?(J[_e]=oe,J[re]=we,_e=re):(J[_e]=te,J[Q]=we,_e=Q);else if(re<j&&0>i(oe,we))J[_e]=oe,J[re]=we,_e=re;else break e}}return le}function i(J,le){var we=J.sortIndex-le.sortIndex;return we!==0?we:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,g=null,y=3,p=!1,I=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=J)r(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(u)}}function U(J){if(S=!1,L(J),!I)if(n(l)!==null)I=!0,ge(Z);else{var le=n(u);le!==null&&ye(U,le.startTime-J)}}function Z(J,le){I=!1,S&&(S=!1,x(N),N=-1),p=!0;var we=y;try{for(L(le),g=n(l);g!==null&&(!(g.expirationTime>le)||J&&!w());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,y=g.priorityLevel;var j=_e(g.expirationTime<=le);le=t.unstable_now(),typeof j=="function"?g.callback=j:g===n(l)&&r(l),L(le)}else r(l);g=n(l)}if(g!==null)var W=!0;else{var Q=n(u);Q!==null&&ye(U,Q.startTime-le),W=!1}return W}finally{g=null,y=we,p=!1}}var ie=!1,F=null,N=-1,E=5,D=-1;function w(){return!(t.unstable_now()-D<E)}function T(){if(F!==null){var J=t.unstable_now();D=J;var le=!0;try{le=F(!0,J)}finally{le?k():(ie=!1,F=null)}}else ie=!1}var k;if(typeof P=="function")k=function(){P(T)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=T,k=function(){ce.postMessage(null)}}else k=function(){O(T,0)};function ge(J){F=J,ie||(ie=!0,k())}function ye(J,le){N=O(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){I||p||(I=!0,ge(Z))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var we=y;y=le;try{return J()}finally{y=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var we=y;y=J;try{return le()}finally{y=we}},t.unstable_scheduleCallback=function(J,le,we){var _e=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?_e+we:_e):we=_e,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=we+j,J={id:f++,callback:le,priorityLevel:J,startTime:we,expirationTime:j,sortIndex:-1},we>_e?(J.sortIndex=we,e(u,J),n(l)===null&&J===n(u)&&(S?(x(N),N=-1):S=!0,ye(U,we-_e))):(J.sortIndex=j,e(l,J),I||p||(I=!0,ge(Z))),J},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(J){var le=y;return function(){var we=y;y=le;try{return J.apply(this,arguments)}finally{y=we}}}})(B4);U4.exports=B4;var gT=U4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT=qe,vs=gT;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z4=new Set,wf={};function Pu(t,e){Fc(t,e),Fc(t+"Capture",e)}function Fc(t,e){for(wf[t]=e,t=0;t<e.length;t++)z4.add(e[t])}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_m=Object.prototype.hasOwnProperty,yT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z5={},e_={};function vT(t){return _m.call(e_,t)?!0:_m.call(Z5,t)?!1:yT.test(t)?e_[t]=!0:(Z5[t]=!0,!1)}function _T(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wT(t,e,n,r){if(e===null||typeof e>"u"||_T(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zr[t]=new Fi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zr[e]=new Fi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zr[t]=new Fi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zr[t]=new Fi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zr[t]=new Fi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zr[t]=new Fi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zr[t]=new Fi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zr[t]=new Fi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zr[t]=new Fi(t,5,!1,t.toLowerCase(),null,!1,!1)});var ay=/[\-:]([a-z])/g;function ly(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ay,ly);Zr[e]=new Fi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ay,ly);Zr[e]=new Fi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ay,ly);Zr[e]=new Fi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zr[t]=new Fi(t,1,!1,t.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zr[t]=new Fi(t,1,!1,t.toLowerCase(),null,!0,!0)});function uy(t,e,n,r){var i=Zr.hasOwnProperty(e)?Zr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wT(e,n,i,r)&&(n=null),r||i===null?vT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ia=mT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),oc=Symbol.for("react.portal"),ac=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),q4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),bm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),H4=Symbol.for("react.offscreen"),t_=Symbol.iterator;function Ph(t){return t===null||typeof t!="object"?null:(t=t_&&t[t_]||t["@@iterator"],typeof t=="function"?t:null)}var Qn=Object.assign,Z0;function zh(t){if(Z0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Z0=e&&e[1]||""}return`
`+Z0+t}var e1=!1;function t1(t,e){if(!t||e1)return"";e1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{e1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zh(t):""}function bT(t){switch(t.tag){case 5:return zh(t.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return t=t1(t.type,!1),t;case 11:return t=t1(t.type.render,!1),t;case 1:return t=t1(t.type,!0),t;default:return""}}function Sm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ac:return"Fragment";case oc:return"Portal";case wm:return"Profiler";case cy:return"StrictMode";case bm:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $4:return(t.displayName||"Context")+".Consumer";case q4:return(t._context.displayName||"Context")+".Provider";case hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fy:return e=t.displayName||null,e!==null?e:Sm(t.type)||"Memo";case Za:e=t._payload,t=t._init;try{return Sm(t(e))}catch{}}return null}function xT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sm(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ST(t){var e=W4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bd(t){t._valueTracker||(t._valueTracker=ST(t))}function G4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Am(t,e){var n=e.checked;return Qn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function K4(t,e){e=e.checked,e!=null&&uy(t,"checked",e,!1)}function Em(t,e){K4(t,e);var n=Nl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,n):e.hasOwnProperty("defaultValue")&&Im(t,e.type,Nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Im(t,e,n){(e!=="number"||Qp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qh=Array.isArray;function _c(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Qn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(qh(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nl(n)}}function Y4(t,e){var n=Nl(e.value),r=Nl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zd,X4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zd=zd||document.createElement("div"),zd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AT=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(t){AT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jh[e]=Jh[t]})});function J4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jh.hasOwnProperty(t)&&Jh[t]?(""+e).trim():e+"px"}function Z4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=J4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ET=Qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(ET[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function Pm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function dy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,wc=null,bc=null;function o_(t){if(t=id(t)){if(typeof Rm!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=e0(e),Rm(t.stateNode,t.type,e))}}function e3(t){wc?bc?bc.push(t):bc=[t]:wc=t}function t3(){if(wc){var t=wc,e=bc;if(bc=wc=null,o_(t),e)for(t=0;t<e.length;t++)o_(e[t])}}function n3(t,e){return t(e)}function r3(){}var n1=!1;function i3(t,e,n){if(n1)return t(e,n);n1=!0;try{return n3(t,e,n)}finally{n1=!1,(wc!==null||bc!==null)&&(r3(),t3())}}function xf(t,e){var n=t.stateNode;if(n===null)return null;var r=e0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var Lm=!1;if(ya)try{var Ch={};Object.defineProperty(Ch,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Ch,Ch),window.removeEventListener("test",Ch,Ch)}catch{Lm=!1}function IT(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Zh=!1,Xp=null,Jp=!1,Dm=null,NT={onError:function(t){Zh=!0,Xp=t}};function TT(t,e,n,r,i,s,o,a,l){Zh=!1,Xp=null,IT.apply(NT,arguments)}function kT(t,e,n,r,i,s,o,a,l){if(TT.apply(this,arguments),Zh){if(Zh){var u=Xp;Zh=!1,Xp=null}else throw Error(Oe(198));Jp||(Jp=!0,Dm=u)}}function Cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a_(t){if(Cu(t)!==t)throw Error(Oe(188))}function PT(t){var e=t.alternate;if(!e){if(e=Cu(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a_(i),t;if(s===r)return a_(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function o3(t){return t=PT(t),t!==null?a3(t):null}function a3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a3(t);if(e!==null)return e;t=t.sibling}return null}var l3=vs.unstable_scheduleCallback,l_=vs.unstable_cancelCallback,CT=vs.unstable_shouldYield,RT=vs.unstable_requestPaint,fr=vs.unstable_now,LT=vs.unstable_getCurrentPriorityLevel,py=vs.unstable_ImmediatePriority,u3=vs.unstable_UserBlockingPriority,Zp=vs.unstable_NormalPriority,DT=vs.unstable_LowPriority,c3=vs.unstable_IdlePriority,Qg=null,Lo=null;function OT(t){if(Lo&&typeof Lo.onCommitFiberRoot=="function")try{Lo.onCommitFiberRoot(Qg,t,void 0,(t.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:jT,MT=Math.log,FT=Math.LN2;function jT(t){return t>>>=0,t===0?32:31-(MT(t)/FT|0)|0}var qd=64,$d=4194304;function $h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=$h(a):(s&=o,s!==0&&(r=$h(s)))}else o=n&~i,o!==0?r=$h(o):s!==0&&(r=$h(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-io(e),i=1<<n,r|=t[n],e&=~i;return r}function VT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-io(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h3(){var t=qd;return qd<<=1,!(qd&4194240)&&(qd=64),t}function r1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-io(e),t[e]=n}function BT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-io(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-io(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _n=0;function f3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d3,my,p3,g3,m3,Mm=!1,Hd=[],fl=null,dl=null,pl=null,Sf=new Map,Af=new Map,tl=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u_(t,e){switch(t){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":Sf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(e.pointerId)}}function Rh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=id(e),e!==null&&my(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qT(t,e,n,r,i){switch(e){case"focusin":return fl=Rh(fl,t,e,n,r,i),!0;case"dragenter":return dl=Rh(dl,t,e,n,r,i),!0;case"mouseover":return pl=Rh(pl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sf.set(s,Rh(Sf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Af.set(s,Rh(Af.get(s)||null,t,e,n,r,i)),!0}return!1}function y3(t){var e=ru(t.target);if(e!==null){var n=Cu(e);if(n!==null){if(e=n.tag,e===13){if(e=s3(n),e!==null){t.blockedOn=e,m3(t.priority,function(){p3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return e=id(n),e!==null&&my(e),t.blockedOn=n,!1;e.shift()}return!0}function c_(t,e,n){xp(t)&&n.delete(e)}function $T(){Mm=!1,fl!==null&&xp(fl)&&(fl=null),dl!==null&&xp(dl)&&(dl=null),pl!==null&&xp(pl)&&(pl=null),Sf.forEach(c_),Af.forEach(c_)}function Lh(t,e){t.blockedOn===e&&(t.blockedOn=null,Mm||(Mm=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,$T)))}function Ef(t){function e(i){return Lh(i,t)}if(0<Hd.length){Lh(Hd[0],t);for(var n=1;n<Hd.length;n++){var r=Hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fl!==null&&Lh(fl,t),dl!==null&&Lh(dl,t),pl!==null&&Lh(pl,t),Sf.forEach(e),Af.forEach(e),n=0;n<tl.length;n++)r=tl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tl.length&&(n=tl[0],n.blockedOn===null);)y3(n),n.blockedOn===null&&tl.shift()}var xc=Ia.ReactCurrentBatchConfig,tg=!0;function HT(t,e,n,r){var i=_n,s=xc.transition;xc.transition=null;try{_n=1,yy(t,e,n,r)}finally{_n=i,xc.transition=s}}function WT(t,e,n,r){var i=_n,s=xc.transition;xc.transition=null;try{_n=4,yy(t,e,n,r)}finally{_n=i,xc.transition=s}}function yy(t,e,n,r){if(tg){var i=Fm(t,e,n,r);if(i===null)d1(t,e,r,ng,n),u_(t,r);else if(qT(i,t,e,n,r))r.stopPropagation();else if(u_(t,r),e&4&&-1<zT.indexOf(t)){for(;i!==null;){var s=id(i);if(s!==null&&d3(s),s=Fm(t,e,n,r),s===null&&d1(t,e,r,ng,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else d1(t,e,r,null,n)}}var ng=null;function Fm(t,e,n,r){if(ng=null,t=dy(r),t=ru(t),t!==null)if(e=Cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=s3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ng=t,null}function v3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LT()){case py:return 1;case u3:return 4;case Zp:case DT:return 16;case c3:return 536870912;default:return 16}default:return 16}}var al=null,vy=null,Sp=null;function _3(){if(Sp)return Sp;var t,e=vy,n=e.length,r,i="value"in al?al.value:al.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Sp=i.slice(t,1<r?1-r:void 0)}function Ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wd(){return!0}function h_(){return!1}function ws(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wd:h_,this.isPropagationStopped=h_,this}return Qn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),e}var th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=ws(th),rd=Qn({},th,{view:0,detail:0}),GT=ws(rd),i1,s1,Dh,Xg=Qn({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dh&&(Dh&&t.type==="mousemove"?(i1=t.screenX-Dh.screenX,s1=t.screenY-Dh.screenY):s1=i1=0,Dh=t),i1)},movementY:function(t){return"movementY"in t?t.movementY:s1}}),f_=ws(Xg),KT=Qn({},Xg,{dataTransfer:0}),YT=ws(KT),QT=Qn({},rd,{relatedTarget:0}),o1=ws(QT),XT=Qn({},th,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=ws(XT),ZT=Qn({},th,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ek=ws(ZT),tk=Qn({},th,{data:0}),d_=ws(tk),nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ik[t])?!!e[t]:!1}function wy(){return sk}var ok=Qn({},rd,{key:function(t){if(t.key){var e=nk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?Ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ak=ws(ok),lk=Qn({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p_=ws(lk),uk=Qn({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),ck=ws(uk),hk=Qn({},th,{propertyName:0,elapsedTime:0,pseudoElement:0}),fk=ws(hk),dk=Qn({},Xg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pk=ws(dk),gk=[9,13,27,32],by=ya&&"CompositionEvent"in window,ef=null;ya&&"documentMode"in document&&(ef=document.documentMode);var mk=ya&&"TextEvent"in window&&!ef,w3=ya&&(!by||ef&&8<ef&&11>=ef),g_=" ",m_=!1;function b3(t,e){switch(t){case"keyup":return gk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lc=!1;function yk(t,e){switch(t){case"compositionend":return x3(e);case"keypress":return e.which!==32?null:(m_=!0,g_);case"textInput":return t=e.data,t===g_&&m_?null:t;default:return null}}function vk(t,e){if(lc)return t==="compositionend"||!by&&b3(t,e)?(t=_3(),Sp=vy=al=null,lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w3&&e.locale!=="ko"?null:e.data;default:return null}}var _k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_k[t.type]:e==="textarea"}function S3(t,e,n,r){e3(r),e=rg(e,"onChange"),0<e.length&&(n=new _y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tf=null,If=null;function wk(t){D3(t,0)}function Jg(t){var e=hc(t);if(G4(e))return t}function bk(t,e){if(t==="change")return e}var A3=!1;if(ya){var a1;if(ya){var l1="oninput"in document;if(!l1){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),l1=typeof v_.oninput=="function"}a1=l1}else a1=!1;A3=a1&&(!document.documentMode||9<document.documentMode)}function __(){tf&&(tf.detachEvent("onpropertychange",E3),If=tf=null)}function E3(t){if(t.propertyName==="value"&&Jg(If)){var e=[];S3(e,If,t,dy(t)),i3(wk,e)}}function xk(t,e,n){t==="focusin"?(__(),tf=e,If=n,tf.attachEvent("onpropertychange",E3)):t==="focusout"&&__()}function Sk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jg(If)}function Ak(t,e){if(t==="click")return Jg(e)}function Ek(t,e){if(t==="input"||t==="change")return Jg(e)}function Ik(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ao=typeof Object.is=="function"?Object.is:Ik;function Nf(t,e){if(ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_m.call(e,i)||!ao(t[i],e[i]))return!1}return!0}function w_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b_(t,e){var n=w_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w_(n)}}function I3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N3(){for(var t=window,e=Qp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qp(t.document)}return e}function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nk(t){var e=N3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&I3(n.ownerDocument.documentElement,n)){if(r!==null&&xy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=b_(n,s);var o=b_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tk=ya&&"documentMode"in document&&11>=document.documentMode,uc=null,jm=null,nf=null,Vm=!1;function x_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vm||uc==null||uc!==Qp(r)||(r=uc,"selectionStart"in r&&xy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nf&&Nf(nf,r)||(nf=r,r=rg(jm,"onSelect"),0<r.length&&(e=new _y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uc)))}function Gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cc={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},u1={},T3={};ya&&(T3=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function Zg(t){if(u1[t])return u1[t];if(!cc[t])return t;var e=cc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T3)return u1[t]=e[n];return t}var k3=Zg("animationend"),P3=Zg("animationiteration"),C3=Zg("animationstart"),R3=Zg("transitionend"),L3=new Map,S_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(t,e){L3.set(t,e),Pu(e,[t])}for(var c1=0;c1<S_.length;c1++){var h1=S_[c1],kk=h1.toLowerCase(),Pk=h1[0].toUpperCase()+h1.slice(1);jl(kk,"on"+Pk)}jl(k3,"onAnimationEnd");jl(P3,"onAnimationIteration");jl(C3,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(R3,"onTransitionEnd");Fc("onMouseEnter",["mouseout","mouseover"]);Fc("onMouseLeave",["mouseout","mouseover"]);Fc("onPointerEnter",["pointerout","pointerover"]);Fc("onPointerLeave",["pointerout","pointerover"]);Pu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function A_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kT(r,e,void 0,t),t.currentTarget=null}function D3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;A_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;A_(i,a,u),s=l}}}if(Jp)throw t=Dm,Jp=!1,Dm=null,t}function Vn(t,e){var n=e[$m];n===void 0&&(n=e[$m]=new Set);var r=t+"__bubble";n.has(r)||(O3(e,t,2,!1),n.add(r))}function f1(t,e,n){var r=0;e&&(r|=4),O3(n,t,r,e)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[Kd]){t[Kd]=!0,z4.forEach(function(n){n!=="selectionchange"&&(Ck.has(n)||f1(n,!1,t),f1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kd]||(e[Kd]=!0,f1("selectionchange",!1,e))}}function O3(t,e,n,r){switch(v3(e)){case 1:var i=HT;break;case 4:i=WT;break;default:i=yy}n=i.bind(null,e,n,t),i=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function d1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ru(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}i3(function(){var u=s,f=dy(n),g=[];e:{var y=L3.get(t);if(y!==void 0){var p=_y,I=t;switch(t){case"keypress":if(Ap(n)===0)break e;case"keydown":case"keyup":p=ak;break;case"focusin":I="focus",p=o1;break;case"focusout":I="blur",p=o1;break;case"beforeblur":case"afterblur":p=o1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=f_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ck;break;case k3:case P3:case C3:p=JT;break;case R3:p=fk;break;case"scroll":p=GT;break;case"wheel":p=pk;break;case"copy":case"cut":case"paste":p=ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=p_}var S=(e&4)!==0,O=!S&&t==="scroll",x=S?y!==null?y+"Capture":null:y;S=[];for(var P=u,L;P!==null;){L=P;var U=L.stateNode;if(L.tag===5&&U!==null&&(L=U,x!==null&&(U=xf(P,x),U!=null&&S.push(kf(P,U,L)))),O)break;P=P.return}0<S.length&&(y=new p(y,I,null,n,f),g.push({event:y,listeners:S}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",y&&n!==Cm&&(I=n.relatedTarget||n.fromElement)&&(ru(I)||I[va]))break e;if((p||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,p?(I=n.relatedTarget||n.toElement,p=u,I=I?ru(I):null,I!==null&&(O=Cu(I),I!==O||I.tag!==5&&I.tag!==6)&&(I=null)):(p=null,I=u),p!==I)){if(S=f_,U="onMouseLeave",x="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(S=p_,U="onPointerLeave",x="onPointerEnter",P="pointer"),O=p==null?y:hc(p),L=I==null?y:hc(I),y=new S(U,P+"leave",p,n,f),y.target=O,y.relatedTarget=L,U=null,ru(f)===u&&(S=new S(x,P+"enter",I,n,f),S.target=L,S.relatedTarget=O,U=S),O=U,p&&I)t:{for(S=p,x=I,P=0,L=S;L;L=Yu(L))P++;for(L=0,U=x;U;U=Yu(U))L++;for(;0<P-L;)S=Yu(S),P--;for(;0<L-P;)x=Yu(x),L--;for(;P--;){if(S===x||x!==null&&S===x.alternate)break t;S=Yu(S),x=Yu(x)}S=null}else S=null;p!==null&&E_(g,y,p,S,!1),I!==null&&O!==null&&E_(g,O,I,S,!0)}}e:{if(y=u?hc(u):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var Z=bk;else if(y_(y))if(A3)Z=Ek;else{Z=Sk;var ie=xk}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Z=Ak);if(Z&&(Z=Z(t,u))){S3(g,Z,n,f);break e}ie&&ie(t,y,u),t==="focusout"&&(ie=y._wrapperState)&&ie.controlled&&y.type==="number"&&Im(y,"number",y.value)}switch(ie=u?hc(u):window,t){case"focusin":(y_(ie)||ie.contentEditable==="true")&&(uc=ie,jm=u,nf=null);break;case"focusout":nf=jm=uc=null;break;case"mousedown":Vm=!0;break;case"contextmenu":case"mouseup":case"dragend":Vm=!1,x_(g,n,f);break;case"selectionchange":if(Tk)break;case"keydown":case"keyup":x_(g,n,f)}var F;if(by)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else lc?b3(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(w3&&n.locale!=="ko"&&(lc||N!=="onCompositionStart"?N==="onCompositionEnd"&&lc&&(F=_3()):(al=f,vy="value"in al?al.value:al.textContent,lc=!0)),ie=rg(u,N),0<ie.length&&(N=new d_(N,t,null,n,f),g.push({event:N,listeners:ie}),F?N.data=F:(F=x3(n),F!==null&&(N.data=F)))),(F=mk?yk(t,n):vk(t,n))&&(u=rg(u,"onBeforeInput"),0<u.length&&(f=new d_("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=F))}D3(g,e)})}function kf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xf(t,n),s!=null&&r.unshift(kf(t,s,i)),s=xf(t,e),s!=null&&r.push(kf(t,s,i))),t=t.return}return r}function Yu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xf(n,s),l!=null&&o.unshift(kf(n,l,a))):i||(l=xf(n,s),l!=null&&o.push(kf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rk=/\r\n?/g,Lk=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(Rk,`
`).replace(Lk,"")}function Yd(t,e,n){if(e=I_(e),I_(t)!==e&&n)throw Error(Oe(425))}function ig(){}var Um=null,Bm=null;function zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qm=typeof setTimeout=="function"?setTimeout:void 0,Dk=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,Ok=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(Mk)}:qm;function Mk(t){setTimeout(function(){throw t})}function p1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ef(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ef(e)}function gl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nh=Math.random().toString(36).slice(2),Po="__reactFiber$"+nh,Pf="__reactProps$"+nh,va="__reactContainer$"+nh,$m="__reactEvents$"+nh,Fk="__reactListeners$"+nh,jk="__reactHandles$"+nh;function ru(t){var e=t[Po];if(e)return e;for(var n=t.parentNode;n;){if(e=n[va]||n[Po]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[Po])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function id(t){return t=t[Po]||t[va],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function e0(t){return t[Pf]||null}var Hm=[],fc=-1;function Vl(t){return{current:t}}function zn(t){0>fc||(t.current=Hm[fc],Hm[fc]=null,fc--)}function Mn(t,e){fc++,Hm[fc]=t.current,t.current=e}var Tl={},bi=Vl(Tl),Ki=Vl(!1),yu=Tl;function jc(t,e){var n=t.type.contextTypes;if(!n)return Tl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yi(t){return t=t.childContextTypes,t!=null}function sg(){zn(Ki),zn(bi)}function k_(t,e,n){if(bi.current!==Tl)throw Error(Oe(168));Mn(bi,e),Mn(Ki,n)}function M3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,xT(t)||"Unknown",i));return Qn({},n,r)}function og(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tl,yu=bi.current,Mn(bi,t),Mn(Ki,Ki.current),!0}function P_(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=M3(t,e,yu),r.__reactInternalMemoizedMergedChildContext=t,zn(Ki),zn(bi),Mn(bi,t)):zn(Ki),Mn(Ki,n)}var oa=null,t0=!1,g1=!1;function F3(t){oa===null?oa=[t]:oa.push(t)}function Vk(t){t0=!0,F3(t)}function Ul(){if(!g1&&oa!==null){g1=!0;var t=0,e=_n;try{var n=oa;for(_n=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oa=null,t0=!1}catch(i){throw oa!==null&&(oa=oa.slice(t+1)),l3(py,Ul),i}finally{_n=e,g1=!1}}return null}var dc=[],pc=0,ag=null,lg=0,Cs=[],Rs=0,vu=null,ca=1,ha="";function Jl(t,e){dc[pc++]=lg,dc[pc++]=ag,ag=t,lg=e}function j3(t,e,n){Cs[Rs++]=ca,Cs[Rs++]=ha,Cs[Rs++]=vu,vu=t;var r=ca;t=ha;var i=32-io(r)-1;r&=~(1<<i),n+=1;var s=32-io(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ca=1<<32-io(e)+i|n<<i|r,ha=s+t}else ca=1<<s|n<<i|r,ha=t}function Sy(t){t.return!==null&&(Jl(t,1),j3(t,1,0))}function Ay(t){for(;t===ag;)ag=dc[--pc],dc[pc]=null,lg=dc[--pc],dc[pc]=null;for(;t===vu;)vu=Cs[--Rs],Cs[Rs]=null,ha=Cs[--Rs],Cs[Rs]=null,ca=Cs[--Rs],Cs[Rs]=null}var ms=null,ds=null,Hn=!1,eo=null;function V3(t,e){var n=Ms(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ms=t,ds=gl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ms=t,ds=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vu!==null?{id:ca,overflow:ha}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ms(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ms=t,ds=null,!0):!1;default:return!1}}function Wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gm(t){if(Hn){var e=ds;if(e){var n=e;if(!C_(t,e)){if(Wm(t))throw Error(Oe(418));e=gl(n.nextSibling);var r=ms;e&&C_(t,e)?V3(r,n):(t.flags=t.flags&-4097|2,Hn=!1,ms=t)}}else{if(Wm(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Hn=!1,ms=t}}}function R_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ms=t}function Qd(t){if(t!==ms)return!1;if(!Hn)return R_(t),Hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zm(t.type,t.memoizedProps)),e&&(e=ds)){if(Wm(t))throw U3(),Error(Oe(418));for(;e;)V3(t,e),e=gl(e.nextSibling)}if(R_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ds=gl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ds=null}}else ds=ms?gl(t.stateNode.nextSibling):null;return!0}function U3(){for(var t=ds;t;)t=gl(t.nextSibling)}function Vc(){ds=ms=null,Hn=!1}function Ey(t){eo===null?eo=[t]:eo.push(t)}var Uk=Ia.ReactCurrentBatchConfig;function Oh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Xd(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L_(t){var e=t._init;return e(t._payload)}function B3(t){function e(x,P){if(t){var L=x.deletions;L===null?(x.deletions=[P],x.flags|=16):L.push(P)}}function n(x,P){if(!t)return null;for(;P!==null;)e(x,P),P=P.sibling;return null}function r(x,P){for(x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function i(x,P){return x=_l(x,P),x.index=0,x.sibling=null,x}function s(x,P,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<P?(x.flags|=2,P):L):(x.flags|=2,P)):(x.flags|=1048576,P)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,P,L,U){return P===null||P.tag!==6?(P=x1(L,x.mode,U),P.return=x,P):(P=i(P,L),P.return=x,P)}function l(x,P,L,U){var Z=L.type;return Z===ac?f(x,P,L.props.children,U,L.key):P!==null&&(P.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Za&&L_(Z)===P.type)?(U=i(P,L.props),U.ref=Oh(x,P,L),U.return=x,U):(U=Cp(L.type,L.key,L.props,null,x.mode,U),U.ref=Oh(x,P,L),U.return=x,U)}function u(x,P,L,U){return P===null||P.tag!==4||P.stateNode.containerInfo!==L.containerInfo||P.stateNode.implementation!==L.implementation?(P=S1(L,x.mode,U),P.return=x,P):(P=i(P,L.children||[]),P.return=x,P)}function f(x,P,L,U,Z){return P===null||P.tag!==7?(P=du(L,x.mode,U,Z),P.return=x,P):(P=i(P,L),P.return=x,P)}function g(x,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return P=x1(""+P,x.mode,L),P.return=x,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ud:return L=Cp(P.type,P.key,P.props,null,x.mode,L),L.ref=Oh(x,null,P),L.return=x,L;case oc:return P=S1(P,x.mode,L),P.return=x,P;case Za:var U=P._init;return g(x,U(P._payload),L)}if(qh(P)||Ph(P))return P=du(P,x.mode,L,null),P.return=x,P;Xd(x,P)}return null}function y(x,P,L,U){var Z=P!==null?P.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return Z!==null?null:a(x,P,""+L,U);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ud:return L.key===Z?l(x,P,L,U):null;case oc:return L.key===Z?u(x,P,L,U):null;case Za:return Z=L._init,y(x,P,Z(L._payload),U)}if(qh(L)||Ph(L))return Z!==null?null:f(x,P,L,U,null);Xd(x,L)}return null}function p(x,P,L,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(L)||null,a(P,x,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ud:return x=x.get(U.key===null?L:U.key)||null,l(P,x,U,Z);case oc:return x=x.get(U.key===null?L:U.key)||null,u(P,x,U,Z);case Za:var ie=U._init;return p(x,P,L,ie(U._payload),Z)}if(qh(U)||Ph(U))return x=x.get(L)||null,f(P,x,U,Z,null);Xd(P,U)}return null}function I(x,P,L,U){for(var Z=null,ie=null,F=P,N=P=0,E=null;F!==null&&N<L.length;N++){F.index>N?(E=F,F=null):E=F.sibling;var D=y(x,F,L[N],U);if(D===null){F===null&&(F=E);break}t&&F&&D.alternate===null&&e(x,F),P=s(D,P,N),ie===null?Z=D:ie.sibling=D,ie=D,F=E}if(N===L.length)return n(x,F),Hn&&Jl(x,N),Z;if(F===null){for(;N<L.length;N++)F=g(x,L[N],U),F!==null&&(P=s(F,P,N),ie===null?Z=F:ie.sibling=F,ie=F);return Hn&&Jl(x,N),Z}for(F=r(x,F);N<L.length;N++)E=p(F,x,N,L[N],U),E!==null&&(t&&E.alternate!==null&&F.delete(E.key===null?N:E.key),P=s(E,P,N),ie===null?Z=E:ie.sibling=E,ie=E);return t&&F.forEach(function(w){return e(x,w)}),Hn&&Jl(x,N),Z}function S(x,P,L,U){var Z=Ph(L);if(typeof Z!="function")throw Error(Oe(150));if(L=Z.call(L),L==null)throw Error(Oe(151));for(var ie=Z=null,F=P,N=P=0,E=null,D=L.next();F!==null&&!D.done;N++,D=L.next()){F.index>N?(E=F,F=null):E=F.sibling;var w=y(x,F,D.value,U);if(w===null){F===null&&(F=E);break}t&&F&&w.alternate===null&&e(x,F),P=s(w,P,N),ie===null?Z=w:ie.sibling=w,ie=w,F=E}if(D.done)return n(x,F),Hn&&Jl(x,N),Z;if(F===null){for(;!D.done;N++,D=L.next())D=g(x,D.value,U),D!==null&&(P=s(D,P,N),ie===null?Z=D:ie.sibling=D,ie=D);return Hn&&Jl(x,N),Z}for(F=r(x,F);!D.done;N++,D=L.next())D=p(F,x,N,D.value,U),D!==null&&(t&&D.alternate!==null&&F.delete(D.key===null?N:D.key),P=s(D,P,N),ie===null?Z=D:ie.sibling=D,ie=D);return t&&F.forEach(function(T){return e(x,T)}),Hn&&Jl(x,N),Z}function O(x,P,L,U){if(typeof L=="object"&&L!==null&&L.type===ac&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Ud:e:{for(var Z=L.key,ie=P;ie!==null;){if(ie.key===Z){if(Z=L.type,Z===ac){if(ie.tag===7){n(x,ie.sibling),P=i(ie,L.props.children),P.return=x,x=P;break e}}else if(ie.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Za&&L_(Z)===ie.type){n(x,ie.sibling),P=i(ie,L.props),P.ref=Oh(x,ie,L),P.return=x,x=P;break e}n(x,ie);break}else e(x,ie);ie=ie.sibling}L.type===ac?(P=du(L.props.children,x.mode,U,L.key),P.return=x,x=P):(U=Cp(L.type,L.key,L.props,null,x.mode,U),U.ref=Oh(x,P,L),U.return=x,x=U)}return o(x);case oc:e:{for(ie=L.key;P!==null;){if(P.key===ie)if(P.tag===4&&P.stateNode.containerInfo===L.containerInfo&&P.stateNode.implementation===L.implementation){n(x,P.sibling),P=i(P,L.children||[]),P.return=x,x=P;break e}else{n(x,P);break}else e(x,P);P=P.sibling}P=S1(L,x.mode,U),P.return=x,x=P}return o(x);case Za:return ie=L._init,O(x,P,ie(L._payload),U)}if(qh(L))return I(x,P,L,U);if(Ph(L))return S(x,P,L,U);Xd(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,P!==null&&P.tag===6?(n(x,P.sibling),P=i(P,L),P.return=x,x=P):(n(x,P),P=x1(L,x.mode,U),P.return=x,x=P),o(x)):n(x,P)}return O}var Uc=B3(!0),z3=B3(!1),ug=Vl(null),cg=null,gc=null,Iy=null;function Ny(){Iy=gc=cg=null}function Ty(t){var e=ug.current;zn(ug),t._currentValue=e}function Km(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sc(t,e){cg=t,Iy=gc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wi=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(Iy!==t)if(t={context:t,memoizedValue:e,next:null},gc===null){if(cg===null)throw Error(Oe(308));gc=t,cg.dependencies={lanes:0,firstContext:t}}else gc=gc.next=t;return e}var iu=null;function ky(t){iu===null?iu=[t]:iu.push(t)}function q3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ky(e)):(n.next=i.next,i.next=n),e.interleaved=n,_a(t,r)}function _a(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var el=!1;function Py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ga(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ml(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,un&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_a(t,n)}return i=r.interleaved,i===null?(e.next=e,ky(r)):(e.next=i.next,i.next=e),r.interleaved=e,_a(t,n)}function Ep(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gy(t,n)}}function D_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hg(t,e,n,r){var i=t.updateQueue;el=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,f=u=l=null,a=s;do{var y=a.lane,p=a.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,S=a;switch(y=e,p=n,S.tag){case 1:if(I=S.payload,typeof I=="function"){g=I.call(p,g,y);break e}g=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=S.payload,y=typeof I=="function"?I.call(p,g,y):I,y==null)break e;g=Qn({},g,y);break e;case 2:el=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else p={eventTime:p,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=g):f=f.next=p,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wu|=o,t.lanes=o,t.memoizedState=g}}function O_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var sd={},Do=Vl(sd),Cf=Vl(sd),Rf=Vl(sd);function su(t){if(t===sd)throw Error(Oe(174));return t}function Cy(t,e){switch(Mn(Rf,e),Mn(Cf,t),Mn(Do,sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tm(e,t)}zn(Do),Mn(Do,e)}function Bc(){zn(Do),zn(Cf),zn(Rf)}function H3(t){su(Rf.current);var e=su(Do.current),n=Tm(e,t.type);e!==n&&(Mn(Cf,t),Mn(Do,n))}function Ry(t){Cf.current===t&&(zn(Do),zn(Cf))}var Kn=Vl(0);function fg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var m1=[];function Ly(){for(var t=0;t<m1.length;t++)m1[t]._workInProgressVersionPrimary=null;m1.length=0}var Ip=Ia.ReactCurrentDispatcher,y1=Ia.ReactCurrentBatchConfig,_u=0,Yn=null,kr=null,Fr=null,dg=!1,rf=!1,Lf=0,Bk=0;function hi(){throw Error(Oe(321))}function Dy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ao(t[n],e[n]))return!1;return!0}function Oy(t,e,n,r,i,s){if(_u=s,Yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?Hk:Wk,t=n(r,i),rf){s=0;do{if(rf=!1,Lf=0,25<=s)throw Error(Oe(301));s+=1,Fr=kr=null,e.updateQueue=null,Ip.current=Gk,t=n(r,i)}while(rf)}if(Ip.current=pg,e=kr!==null&&kr.next!==null,_u=0,Fr=kr=Yn=null,dg=!1,e)throw Error(Oe(300));return t}function My(){var t=Lf!==0;return Lf=0,t}function No(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Yn.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function Us(){if(kr===null){var t=Yn.alternate;t=t!==null?t.memoizedState:null}else t=kr.next;var e=Fr===null?Yn.memoizedState:Fr.next;if(e!==null)Fr=e,kr=t;else{if(t===null)throw Error(Oe(310));kr=t,t={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Fr===null?Yn.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Df(t,e){return typeof e=="function"?e(t):e}function v1(t){var e=Us(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=kr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((_u&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,Yn.lanes|=f,wu|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ao(r,e.memoizedState)||(Wi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yn.lanes|=s,wu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _1(t){var e=Us(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ao(s,e.memoizedState)||(Wi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function W3(){}function G3(t,e){var n=Yn,r=Us(),i=e(),s=!ao(r.memoizedState,i);if(s&&(r.memoizedState=i,Wi=!0),r=r.queue,Fy(Q3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fr!==null&&Fr.memoizedState.tag&1){if(n.flags|=2048,Of(9,Y3.bind(null,n,r,i,e),void 0,null),Vr===null)throw Error(Oe(349));_u&30||K3(n,e,i)}return i}function K3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yn.updateQueue,e===null?(e={lastEffect:null,stores:null},Yn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y3(t,e,n,r){e.value=n,e.getSnapshot=r,X3(e)&&J3(t)}function Q3(t,e,n){return n(function(){X3(e)&&J3(t)})}function X3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ao(t,n)}catch{return!0}}function J3(t){var e=_a(t,1);e!==null&&so(e,t,1,-1)}function M_(t){var e=No();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:t},e.queue=t,t=t.dispatch=$k.bind(null,Yn,t),[e.memoizedState,t]}function Of(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yn.updateQueue,e===null?(e={lastEffect:null,stores:null},Yn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z3(){return Us().memoizedState}function Np(t,e,n,r){var i=No();Yn.flags|=t,i.memoizedState=Of(1|e,n,void 0,r===void 0?null:r)}function n0(t,e,n,r){var i=Us();r=r===void 0?null:r;var s=void 0;if(kr!==null){var o=kr.memoizedState;if(s=o.destroy,r!==null&&Dy(r,o.deps)){i.memoizedState=Of(e,n,s,r);return}}Yn.flags|=t,i.memoizedState=Of(1|e,n,s,r)}function F_(t,e){return Np(8390656,8,t,e)}function Fy(t,e){return n0(2048,8,t,e)}function eS(t,e){return n0(4,2,t,e)}function tS(t,e){return n0(4,4,t,e)}function nS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rS(t,e,n){return n=n!=null?n.concat([t]):null,n0(4,4,nS.bind(null,e,t),n)}function jy(){}function iS(t,e){var n=Us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sS(t,e){var n=Us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oS(t,e,n){return _u&21?(ao(n,e)||(n=h3(),Yn.lanes|=n,wu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wi=!0),t.memoizedState=n)}function zk(t,e){var n=_n;_n=n!==0&&4>n?n:4,t(!0);var r=y1.transition;y1.transition={};try{t(!1),e()}finally{_n=n,y1.transition=r}}function aS(){return Us().memoizedState}function qk(t,e,n){var r=vl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lS(t))uS(e,n);else if(n=q3(t,e,n,r),n!==null){var i=Di();so(n,t,r,i),cS(n,e,r)}}function $k(t,e,n){var r=vl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lS(t))uS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ao(a,o)){var l=e.interleaved;l===null?(i.next=i,ky(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=q3(t,e,i,r),n!==null&&(i=Di(),so(n,t,r,i),cS(n,e,r))}}function lS(t){var e=t.alternate;return t===Yn||e!==null&&e===Yn}function uS(t,e){rf=dg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gy(t,n)}}var pg={readContext:Vs,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Hk={readContext:Vs,useCallback:function(t,e){return No().memoizedState=[t,e===void 0?null:e],t},useContext:Vs,useEffect:F_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Np(4194308,4,nS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Np(4194308,4,t,e)},useInsertionEffect:function(t,e){return Np(4,2,t,e)},useMemo:function(t,e){var n=No();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=No();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qk.bind(null,Yn,t),[r.memoizedState,t]},useRef:function(t){var e=No();return t={current:t},e.memoizedState=t},useState:M_,useDebugValue:jy,useDeferredValue:function(t){return No().memoizedState=t},useTransition:function(){var t=M_(!1),e=t[0];return t=zk.bind(null,t[1]),No().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yn,i=No();if(Hn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Vr===null)throw Error(Oe(349));_u&30||K3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,F_(Q3.bind(null,r,s,t),[t]),r.flags|=2048,Of(9,Y3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=No(),e=Vr.identifierPrefix;if(Hn){var n=ha,r=ca;n=(r&~(1<<32-io(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wk={readContext:Vs,useCallback:iS,useContext:Vs,useEffect:Fy,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:sS,useReducer:v1,useRef:Z3,useState:function(){return v1(Df)},useDebugValue:jy,useDeferredValue:function(t){var e=Us();return oS(e,kr.memoizedState,t)},useTransition:function(){var t=v1(Df)[0],e=Us().memoizedState;return[t,e]},useMutableSource:W3,useSyncExternalStore:G3,useId:aS,unstable_isNewReconciler:!1},Gk={readContext:Vs,useCallback:iS,useContext:Vs,useEffect:Fy,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:sS,useReducer:_1,useRef:Z3,useState:function(){return _1(Df)},useDebugValue:jy,useDeferredValue:function(t){var e=Us();return kr===null?e.memoizedState=t:oS(e,kr.memoizedState,t)},useTransition:function(){var t=_1(Df)[0],e=Us().memoizedState;return[t,e]},useMutableSource:W3,useSyncExternalStore:G3,useId:aS,unstable_isNewReconciler:!1};function Xs(t,e){if(t&&t.defaultProps){e=Qn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var r0={isMounted:function(t){return(t=t._reactInternals)?Cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Di(),i=vl(t),s=ga(r,i);s.payload=e,n!=null&&(s.callback=n),e=ml(t,s,i),e!==null&&(so(e,t,i,r),Ep(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Di(),i=vl(t),s=ga(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ml(t,s,i),e!==null&&(so(e,t,i,r),Ep(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Di(),r=vl(t),i=ga(n,r);i.tag=2,e!=null&&(i.callback=e),e=ml(t,i,r),e!==null&&(so(e,t,r,n),Ep(e,t,r))}};function j_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nf(n,r)||!Nf(i,s):!0}function hS(t,e,n){var r=!1,i=Tl,s=e.contextType;return typeof s=="object"&&s!==null?s=Vs(s):(i=Yi(e)?yu:bi.current,r=e.contextTypes,s=(r=r!=null)?jc(t,i):Tl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=r0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function V_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&r0.enqueueReplaceState(e,e.state,null)}function Qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vs(s):(s=Yi(e)?yu:bi.current,i.context=jc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ym(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&r0.enqueueReplaceState(i,i.state,null),hg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zc(t,e){try{var n="",r=e;do n+=bT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function w1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kk=typeof WeakMap=="function"?WeakMap:Map;function fS(t,e,n){n=ga(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mg||(mg=!0,a2=r),Xm(t,e)},n}function dS(t,e,n){n=ga(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xm(t,e),typeof r!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function U_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lP.bind(null,t,e,n),e.then(t,t))}function B_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ga(-1,1),e.tag=2,ml(n,e,1))),n.lanes|=1),t)}var Yk=Ia.ReactCurrentOwner,Wi=!1;function Ri(t,e,n,r){e.child=t===null?z3(e,null,n,r):Uc(e,t.child,n,r)}function q_(t,e,n,r,i){n=n.render;var s=e.ref;return Sc(e,i),r=Oy(t,e,n,r,s,i),n=My(),t!==null&&!Wi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wa(t,e,i)):(Hn&&n&&Sy(e),e.flags|=1,Ri(t,e,r,i),e.child)}function $_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pS(t,e,s,r,i)):(t=Cp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nf,n(o,r)&&t.ref===e.ref)return wa(t,e,i)}return e.flags|=1,t=_l(s,r),t.ref=e.ref,t.return=e,e.child=t}function pS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Nf(s,r)&&t.ref===e.ref)if(Wi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wi=!0);else return e.lanes=t.lanes,wa(t,e,i)}return Jm(t,e,n,r,i)}function gS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(yc,fs),fs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mn(yc,fs),fs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Mn(yc,fs),fs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Mn(yc,fs),fs|=r;return Ri(t,e,i,n),e.child}function mS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jm(t,e,n,r,i){var s=Yi(n)?yu:bi.current;return s=jc(e,s),Sc(e,i),n=Oy(t,e,n,r,s,i),r=My(),t!==null&&!Wi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wa(t,e,i)):(Hn&&r&&Sy(e),e.flags|=1,Ri(t,e,n,i),e.child)}function H_(t,e,n,r,i){if(Yi(n)){var s=!0;og(e)}else s=!1;if(Sc(e,i),e.stateNode===null)Tp(t,e),hS(e,n,r),Qm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vs(u):(u=Yi(n)?yu:bi.current,u=jc(e,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&V_(e,o,r,u),el=!1;var y=e.memoizedState;o.state=y,hg(e,r,o,i),l=e.memoizedState,a!==r||y!==l||Ki.current||el?(typeof f=="function"&&(Ym(e,n,f,r),l=e.memoizedState),(a=el||j_(e,n,a,r,y,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$3(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xs(e.type,a),o.props=u,g=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vs(l):(l=Yi(n)?yu:bi.current,l=jc(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||y!==l)&&V_(e,o,r,l),el=!1,y=e.memoizedState,o.state=y,hg(e,r,o,i);var I=e.memoizedState;a!==g||y!==I||Ki.current||el?(typeof p=="function"&&(Ym(e,n,p,r),I=e.memoizedState),(u=el||j_(e,n,u,r,y,I,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Zm(t,e,n,r,s,i)}function Zm(t,e,n,r,i,s){mS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P_(e,n,!1),wa(t,e,s);r=e.stateNode,Yk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uc(e,t.child,null,s),e.child=Uc(e,null,a,s)):Ri(t,e,a,s),e.memoizedState=r.state,i&&P_(e,n,!0),e.child}function yS(t){var e=t.stateNode;e.pendingContext?k_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k_(t,e.context,!1),Cy(t,e.containerInfo)}function W_(t,e,n,r,i){return Vc(),Ey(i),e.flags|=256,Ri(t,e,n,r),e.child}var e2={dehydrated:null,treeContext:null,retryLane:0};function t2(t){return{baseLanes:t,cachePool:null,transitions:null}}function vS(t,e,n){var r=e.pendingProps,i=Kn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mn(Kn,i&1),t===null)return Gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=o0(o,r,0,null),t=du(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=t2(n),e.memoizedState=e2,t):Vy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Qk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_l(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_l(a,s):(s=du(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?t2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=e2,r}return s=t.child,t=s.sibling,r=_l(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vy(t,e){return e=o0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jd(t,e,n,r){return r!==null&&Ey(r),Uc(e,t.child,null,n),t=Vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=w1(Error(Oe(422))),Jd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=o0({mode:"visible",children:r.children},i,0,null),s=du(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uc(e,t.child,null,o),e.child.memoizedState=t2(o),e.memoizedState=e2,s);if(!(e.mode&1))return Jd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=w1(s,r,void 0),Jd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wi||a){if(r=Vr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_a(t,i),so(r,t,i,-1))}return Hy(),r=w1(Error(Oe(421))),Jd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ds=gl(i.nextSibling),ms=e,Hn=!0,eo=null,t!==null&&(Cs[Rs++]=ca,Cs[Rs++]=ha,Cs[Rs++]=vu,ca=t.id,ha=t.overflow,vu=e),e=Vy(e,r.children),e.flags|=4096,e)}function G_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Km(t.return,e,n)}function b1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _S(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ri(t,e,r.children,n),r=Kn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,n,e);else if(t.tag===19)G_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Mn(Kn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),b1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}b1(e,!0,n,null,s);break;case"together":b1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=_l(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_l(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xk(t,e,n){switch(e.tag){case 3:yS(e),Vc();break;case 5:H3(e);break;case 1:Yi(e.type)&&og(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Mn(ug,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Mn(Kn,Kn.current&1),e.flags|=128,null):n&e.child.childLanes?vS(t,e,n):(Mn(Kn,Kn.current&1),t=wa(t,e,n),t!==null?t.sibling:null);Mn(Kn,Kn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _S(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mn(Kn,Kn.current),r)break;return null;case 22:case 23:return e.lanes=0,gS(t,e,n)}return wa(t,e,n)}var wS,n2,bS,xS;wS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n2=function(){};bS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,su(Do.current);var s=null;switch(n){case"input":i=Am(t,i),r=Am(t,r),s=[];break;case"select":i=Qn({},i,{value:void 0}),r=Qn({},r,{value:void 0}),s=[];break;case"textarea":i=Nm(t,i),r=Nm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ig)}km(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mh(t,e){if(!Hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jk(t,e,n){var r=e.pendingProps;switch(Ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(e),null;case 1:return Yi(e.type)&&sg(),fi(e),null;case 3:return r=e.stateNode,Bc(),zn(Ki),zn(bi),Ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eo!==null&&(c2(eo),eo=null))),n2(t,e),fi(e),null;case 5:Ry(e);var i=su(Rf.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return fi(e),null}if(t=su(Do.current),Qd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Po]=e,r[Pf]=s,t=(e.mode&1)!==0,n){case"dialog":Vn("cancel",r),Vn("close",r);break;case"iframe":case"object":case"embed":Vn("load",r);break;case"video":case"audio":for(i=0;i<Hh.length;i++)Vn(Hh[i],r);break;case"source":Vn("error",r);break;case"img":case"image":case"link":Vn("error",r),Vn("load",r);break;case"details":Vn("toggle",r);break;case"input":n_(r,s),Vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vn("invalid",r);break;case"textarea":i_(r,s),Vn("invalid",r)}km(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yd(r.textContent,a,t),i=["children",""+a]):wf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Vn("scroll",r)}switch(n){case"input":Bd(r),r_(r,s,!0);break;case"textarea":Bd(r),s_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ig)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Po]=e,t[Pf]=r,wS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pm(n,r),n){case"dialog":Vn("cancel",t),Vn("close",t),i=r;break;case"iframe":case"object":case"embed":Vn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hh.length;i++)Vn(Hh[i],t);i=r;break;case"source":Vn("error",t),i=r;break;case"img":case"image":case"link":Vn("error",t),Vn("load",t),i=r;break;case"details":Vn("toggle",t),i=r;break;case"input":n_(t,r),i=Am(t,r),Vn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qn({},r,{value:void 0}),Vn("invalid",t);break;case"textarea":i_(t,r),i=Nm(t,r),Vn("invalid",t);break;default:i=r}km(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Z4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&X4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bf(t,l):typeof l=="number"&&bf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vn("scroll",t):l!=null&&uy(t,s,l,o))}switch(n){case"input":Bd(t),r_(t,r,!1);break;case"textarea":Bd(t),s_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_c(t,!!r.multiple,s,!1):r.defaultValue!=null&&_c(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ig)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fi(e),null;case 6:if(t&&e.stateNode!=null)xS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=su(Rf.current),su(Do.current),Qd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Po]=e,(s=r.nodeValue!==n)&&(t=ms,t!==null))switch(t.tag){case 3:Yd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Po]=e,e.stateNode=r}return fi(e),null;case 13:if(zn(Kn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hn&&ds!==null&&e.mode&1&&!(e.flags&128))U3(),Vc(),e.flags|=98560,s=!1;else if(s=Qd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[Po]=e}else Vc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fi(e),s=!1}else eo!==null&&(c2(eo),eo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kn.current&1?Pr===0&&(Pr=3):Hy())),e.updateQueue!==null&&(e.flags|=4),fi(e),null);case 4:return Bc(),n2(t,e),t===null&&Tf(e.stateNode.containerInfo),fi(e),null;case 10:return Ty(e.type._context),fi(e),null;case 17:return Yi(e.type)&&sg(),fi(e),null;case 19:if(zn(Kn),s=e.memoizedState,s===null)return fi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mh(s,!1);else{if(Pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fg(t),o!==null){for(e.flags|=128,Mh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mn(Kn,Kn.current&1|2),e.child}t=t.sibling}s.tail!==null&&fr()>qc&&(e.flags|=128,r=!0,Mh(s,!1),e.lanes=4194304)}else{if(!r)if(t=fg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Hn)return fi(e),null}else 2*fr()-s.renderingStartTime>qc&&n!==1073741824&&(e.flags|=128,r=!0,Mh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fr(),e.sibling=null,n=Kn.current,Mn(Kn,r?n&1|2:n&1),e):(fi(e),null);case 22:case 23:return $y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fs&1073741824&&(fi(e),e.subtreeFlags&6&&(e.flags|=8192)):fi(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function Zk(t,e){switch(Ay(e),e.tag){case 1:return Yi(e.type)&&sg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bc(),zn(Ki),zn(bi),Ly(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ry(e),null;case 13:if(zn(Kn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Vc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zn(Kn),null;case 4:return Bc(),null;case 10:return Ty(e.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var Zd=!1,_i=!1,eP=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function mc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ir(t,e,r)}else n.current=null}function r2(t,e,n){try{n()}catch(r){ir(t,e,r)}}var K_=!1;function tP(t,e){if(Um=tg,t=N3(),xy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,g=t,y=null;t:for(;;){for(var p;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(p=g.firstChild)!==null;)y=g,g=p;for(;;){if(g===t)break t;if(y===n&&++u===i&&(a=o),y===s&&++f===r&&(l=o),(p=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bm={focusedElem:t,selectionRange:n},tg=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var S=I.memoizedProps,O=I.memoizedState,x=e.stateNode,P=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:Xs(e.type,S),O);x.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var L=e.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(U){ir(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return I=K_,K_=!1,I}function sf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&r2(e,n,s)}i=i.next}while(i!==r)}}function i0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function i2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SS(t){var e=t.alternate;e!==null&&(t.alternate=null,SS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Po],delete e[Pf],delete e[$m],delete e[Fk],delete e[jk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AS(t){return t.tag===5||t.tag===3||t.tag===4}function Y_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function s2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ig));else if(r!==4&&(t=t.child,t!==null))for(s2(t,e,n),t=t.sibling;t!==null;)s2(t,e,n),t=t.sibling}function o2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o2(t,e,n),t=t.sibling;t!==null;)o2(t,e,n),t=t.sibling}var Kr=null,Zs=!1;function Ya(t,e,n){for(n=n.child;n!==null;)ES(t,e,n),n=n.sibling}function ES(t,e,n){if(Lo&&typeof Lo.onCommitFiberUnmount=="function")try{Lo.onCommitFiberUnmount(Qg,n)}catch{}switch(n.tag){case 5:_i||mc(n,e);case 6:var r=Kr,i=Zs;Kr=null,Ya(t,e,n),Kr=r,Zs=i,Kr!==null&&(Zs?(t=Kr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kr.removeChild(n.stateNode));break;case 18:Kr!==null&&(Zs?(t=Kr,n=n.stateNode,t.nodeType===8?p1(t.parentNode,n):t.nodeType===1&&p1(t,n),Ef(t)):p1(Kr,n.stateNode));break;case 4:r=Kr,i=Zs,Kr=n.stateNode.containerInfo,Zs=!0,Ya(t,e,n),Kr=r,Zs=i;break;case 0:case 11:case 14:case 15:if(!_i&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r2(n,e,o),i=i.next}while(i!==r)}Ya(t,e,n);break;case 1:if(!_i&&(mc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ir(n,e,a)}Ya(t,e,n);break;case 21:Ya(t,e,n);break;case 22:n.mode&1?(_i=(r=_i)||n.memoizedState!==null,Ya(t,e,n),_i=r):Ya(t,e,n);break;default:Ya(t,e,n)}}function Q_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eP),e.forEach(function(r){var i=cP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ys(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kr=a.stateNode,Zs=!1;break e;case 3:Kr=a.stateNode.containerInfo,Zs=!0;break e;case 4:Kr=a.stateNode.containerInfo,Zs=!0;break e}a=a.return}if(Kr===null)throw Error(Oe(160));ES(s,o,i),Kr=null,Zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ir(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IS(e,t),e=e.sibling}function IS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ys(e,t),Ao(t),r&4){try{sf(3,t,t.return),i0(3,t)}catch(S){ir(t,t.return,S)}try{sf(5,t,t.return)}catch(S){ir(t,t.return,S)}}break;case 1:Ys(e,t),Ao(t),r&512&&n!==null&&mc(n,n.return);break;case 5:if(Ys(e,t),Ao(t),r&512&&n!==null&&mc(n,n.return),t.flags&32){var i=t.stateNode;try{bf(i,"")}catch(S){ir(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&K4(i,s),Pm(a,o);var u=Pm(a,s);for(o=0;o<l.length;o+=2){var f=l[o],g=l[o+1];f==="style"?Z4(i,g):f==="dangerouslySetInnerHTML"?X4(i,g):f==="children"?bf(i,g):uy(i,f,g,u)}switch(a){case"input":Em(i,s);break;case"textarea":Y4(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?_c(i,!!s.multiple,p,!1):y!==!!s.multiple&&(s.defaultValue!=null?_c(i,!!s.multiple,s.defaultValue,!0):_c(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pf]=s}catch(S){ir(t,t.return,S)}}break;case 6:if(Ys(e,t),Ao(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){ir(t,t.return,S)}}break;case 3:if(Ys(e,t),Ao(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ef(e.containerInfo)}catch(S){ir(t,t.return,S)}break;case 4:Ys(e,t),Ao(t);break;case 13:Ys(e,t),Ao(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zy=fr())),r&4&&Q_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(_i=(u=_i)||f,Ys(e,t),_i=u):Ys(e,t),Ao(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Qe=t,f=t.child;f!==null;){for(g=Qe=f;Qe!==null;){switch(y=Qe,p=y.child,y.tag){case 0:case 11:case 14:case 15:sf(4,y,y.return);break;case 1:mc(y,y.return);var I=y.stateNode;if(typeof I.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(S){ir(r,n,S)}}break;case 5:mc(y,y.return);break;case 22:if(y.memoizedState!==null){J_(g);continue}}p!==null?(p.return=y,Qe=p):J_(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=J4("display",o))}catch(S){ir(t,t.return,S)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(S){ir(t,t.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ys(e,t),Ao(t),r&4&&Q_(t);break;case 21:break;default:Ys(e,t),Ao(t)}}function Ao(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AS(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bf(i,""),r.flags&=-33);var s=Y_(t);o2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Y_(t);s2(t,a,o);break;default:throw Error(Oe(161))}}catch(l){ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nP(t,e,n){Qe=t,NS(t)}function NS(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_i;a=Zd;var u=_i;if(Zd=o,(_i=l)&&!u)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?Z_(i):l!==null?(l.return=o,Qe=l):Z_(i);for(;s!==null;)Qe=s,NS(s),s=s.sibling;Qe=i,Zd=a,_i=u}X_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):X_(t)}}function X_(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_i||i0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_i)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&O_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Ef(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}_i||e.flags&512&&i2(e)}catch(y){ir(e,e.return,y)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function J_(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function Z_(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{i0(4,e)}catch(l){ir(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ir(e,i,l)}}var s=e.return;try{i2(e)}catch(l){ir(e,s,l)}break;case 5:var o=e.return;try{i2(e)}catch(l){ir(e,o,l)}}}catch(l){ir(e,e.return,l)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var rP=Math.ceil,gg=Ia.ReactCurrentDispatcher,Uy=Ia.ReactCurrentOwner,Fs=Ia.ReactCurrentBatchConfig,un=0,Vr=null,vr=null,Jr=0,fs=0,yc=Vl(0),Pr=0,Mf=null,wu=0,s0=0,By=0,of=null,Hi=null,zy=0,qc=1/0,sa=null,mg=!1,a2=null,yl=null,ep=!1,ll=null,yg=0,af=0,l2=null,kp=-1,Pp=0;function Di(){return un&6?fr():kp!==-1?kp:kp=fr()}function vl(t){return t.mode&1?un&2&&Jr!==0?Jr&-Jr:Uk.transition!==null?(Pp===0&&(Pp=h3()),Pp):(t=_n,t!==0||(t=window.event,t=t===void 0?16:v3(t.type)),t):1}function so(t,e,n,r){if(50<af)throw af=0,l2=null,Error(Oe(185));nd(t,n,r),(!(un&2)||t!==Vr)&&(t===Vr&&(!(un&2)&&(s0|=n),Pr===4&&nl(t,Jr)),Qi(t,r),n===1&&un===0&&!(e.mode&1)&&(qc=fr()+500,t0&&Ul()))}function Qi(t,e){var n=t.callbackNode;UT(t,e);var r=eg(t,t===Vr?Jr:0);if(r===0)n!==null&&l_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l_(n),e===1)t.tag===0?Vk(ew.bind(null,t)):F3(ew.bind(null,t)),Ok(function(){!(un&6)&&Ul()}),n=null;else{switch(f3(r)){case 1:n=py;break;case 4:n=u3;break;case 16:n=Zp;break;case 536870912:n=c3;break;default:n=Zp}n=OS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(kp=-1,Pp=0,un&6)throw Error(Oe(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var r=eg(t,t===Vr?Jr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vg(t,r);else{e=r;var i=un;un|=2;var s=PS();(Vr!==t||Jr!==e)&&(sa=null,qc=fr()+500,fu(t,e));do try{oP();break}catch(a){kS(t,a)}while(!0);Ny(),gg.current=s,un=i,vr!==null?e=0:(Vr=null,Jr=0,e=Pr)}if(e!==0){if(e===2&&(i=Om(t),i!==0&&(r=i,e=u2(t,i))),e===1)throw n=Mf,fu(t,0),nl(t,r),Qi(t,fr()),n;if(e===6)nl(t,r);else{if(i=t.current.alternate,!(r&30)&&!iP(i)&&(e=vg(t,r),e===2&&(s=Om(t),s!==0&&(r=s,e=u2(t,s))),e===1))throw n=Mf,fu(t,0),nl(t,r),Qi(t,fr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:Zl(t,Hi,sa);break;case 3:if(nl(t,r),(r&130023424)===r&&(e=zy+500-fr(),10<e)){if(eg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qm(Zl.bind(null,t,Hi,sa),e);break}Zl(t,Hi,sa);break;case 4:if(nl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-io(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rP(r/1960))-r,10<r){t.timeoutHandle=qm(Zl.bind(null,t,Hi,sa),r);break}Zl(t,Hi,sa);break;case 5:Zl(t,Hi,sa);break;default:throw Error(Oe(329))}}}return Qi(t,fr()),t.callbackNode===n?TS.bind(null,t):null}function u2(t,e){var n=of;return t.current.memoizedState.isDehydrated&&(fu(t,e).flags|=256),t=vg(t,e),t!==2&&(e=Hi,Hi=n,e!==null&&c2(e)),t}function c2(t){Hi===null?Hi=t:Hi.push.apply(Hi,t)}function iP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ao(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nl(t,e){for(e&=~By,e&=~s0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-io(e),r=1<<n;t[n]=-1,e&=~r}}function ew(t){if(un&6)throw Error(Oe(327));Ac();var e=eg(t,0);if(!(e&1))return Qi(t,fr()),null;var n=vg(t,e);if(t.tag!==0&&n===2){var r=Om(t);r!==0&&(e=r,n=u2(t,r))}if(n===1)throw n=Mf,fu(t,0),nl(t,e),Qi(t,fr()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zl(t,Hi,sa),Qi(t,fr()),null}function qy(t,e){var n=un;un|=1;try{return t(e)}finally{un=n,un===0&&(qc=fr()+500,t0&&Ul())}}function bu(t){ll!==null&&ll.tag===0&&!(un&6)&&Ac();var e=un;un|=1;var n=Fs.transition,r=_n;try{if(Fs.transition=null,_n=1,t)return t()}finally{_n=r,Fs.transition=n,un=e,!(un&6)&&Ul()}}function $y(){fs=yc.current,zn(yc)}function fu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Dk(n)),vr!==null)for(n=vr.return;n!==null;){var r=n;switch(Ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sg();break;case 3:Bc(),zn(Ki),zn(bi),Ly();break;case 5:Ry(r);break;case 4:Bc();break;case 13:zn(Kn);break;case 19:zn(Kn);break;case 10:Ty(r.type._context);break;case 22:case 23:$y()}n=n.return}if(Vr=t,vr=t=_l(t.current,null),Jr=fs=e,Pr=0,Mf=null,By=s0=wu=0,Hi=of=null,iu!==null){for(e=0;e<iu.length;e++)if(n=iu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}iu=null}return t}function kS(t,e){do{var n=vr;try{if(Ny(),Ip.current=pg,dg){for(var r=Yn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dg=!1}if(_u=0,Fr=kr=Yn=null,rf=!1,Lf=0,Uy.current=null,n===null||n.return===null){Pr=1,Mf=e,vr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Jr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=B_(o);if(p!==null){p.flags&=-257,z_(p,o,a,s,e),p.mode&1&&U_(s,u,e),e=p,l=u;var I=e.updateQueue;if(I===null){var S=new Set;S.add(l),e.updateQueue=S}else I.add(l);break e}else{if(!(e&1)){U_(s,u,e),Hy();break e}l=Error(Oe(426))}}else if(Hn&&a.mode&1){var O=B_(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),z_(O,o,a,s,e),Ey(zc(l,a));break e}}s=l=zc(l,a),Pr!==4&&(Pr=2),of===null?of=[s]:of.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=fS(s,l,e);D_(s,x);break e;case 1:a=l;var P=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof P.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(yl===null||!yl.has(L)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=dS(s,a,e);D_(s,U);break e}}s=s.return}while(s!==null)}RS(n)}catch(Z){e=Z,vr===n&&n!==null&&(vr=n=n.return);continue}break}while(!0)}function PS(){var t=gg.current;return gg.current=pg,t===null?pg:t}function Hy(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Vr===null||!(wu&268435455)&&!(s0&268435455)||nl(Vr,Jr)}function vg(t,e){var n=un;un|=2;var r=PS();(Vr!==t||Jr!==e)&&(sa=null,fu(t,e));do try{sP();break}catch(i){kS(t,i)}while(!0);if(Ny(),un=n,gg.current=r,vr!==null)throw Error(Oe(261));return Vr=null,Jr=0,Pr}function sP(){for(;vr!==null;)CS(vr)}function oP(){for(;vr!==null&&!CT();)CS(vr)}function CS(t){var e=DS(t.alternate,t,fs);t.memoizedProps=t.pendingProps,e===null?RS(t):vr=e,Uy.current=null}function RS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zk(n,e),n!==null){n.flags&=32767,vr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pr=6,vr=null;return}}else if(n=Jk(n,e,fs),n!==null){vr=n;return}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);Pr===0&&(Pr=5)}function Zl(t,e,n){var r=_n,i=Fs.transition;try{Fs.transition=null,_n=1,aP(t,e,n,r)}finally{Fs.transition=i,_n=r}return null}function aP(t,e,n,r){do Ac();while(ll!==null);if(un&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(BT(t,s),t===Vr&&(vr=Vr=null,Jr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ep||(ep=!0,OS(Zp,function(){return Ac(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fs.transition,Fs.transition=null;var o=_n;_n=1;var a=un;un|=4,Uy.current=null,tP(t,n),IS(n,t),Nk(Bm),tg=!!Um,Bm=Um=null,t.current=n,nP(n),RT(),un=a,_n=o,Fs.transition=s}else t.current=n;if(ep&&(ep=!1,ll=t,yg=i),s=t.pendingLanes,s===0&&(yl=null),OT(n.stateNode),Qi(t,fr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mg)throw mg=!1,t=a2,a2=null,t;return yg&1&&t.tag!==0&&Ac(),s=t.pendingLanes,s&1?t===l2?af++:(af=0,l2=t):af=0,Ul(),null}function Ac(){if(ll!==null){var t=f3(yg),e=Fs.transition,n=_n;try{if(Fs.transition=null,_n=16>t?16:t,ll===null)var r=!1;else{if(t=ll,ll=null,yg=0,un&6)throw Error(Oe(331));var i=un;for(un|=4,Qe=t.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Qe=u;Qe!==null;){var f=Qe;switch(f.tag){case 0:case 11:case 15:sf(8,f,s)}var g=f.child;if(g!==null)g.return=f,Qe=g;else for(;Qe!==null;){f=Qe;var y=f.sibling,p=f.return;if(SS(f),f===u){Qe=null;break}if(y!==null){y.return=p,Qe=y;break}Qe=p}}}var I=s.alternate;if(I!==null){var S=I.child;if(S!==null){I.child=null;do{var O=S.sibling;S.sibling=null,S=O}while(S!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Qe=x;break e}Qe=s.return}}var P=t.current;for(Qe=P;Qe!==null;){o=Qe;var L=o.child;if(o.subtreeFlags&2064&&L!==null)L.return=o,Qe=L;else e:for(o=P;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:i0(9,a)}}catch(Z){ir(a,a.return,Z)}if(a===o){Qe=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,Qe=U;break e}Qe=a.return}}if(un=i,Ul(),Lo&&typeof Lo.onPostCommitFiberRoot=="function")try{Lo.onPostCommitFiberRoot(Qg,t)}catch{}r=!0}return r}finally{_n=n,Fs.transition=e}}return!1}function tw(t,e,n){e=zc(n,e),e=fS(t,e,1),t=ml(t,e,1),e=Di(),t!==null&&(nd(t,1,e),Qi(t,e))}function ir(t,e,n){if(t.tag===3)tw(t,t,n);else for(;e!==null;){if(e.tag===3){tw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yl===null||!yl.has(r))){t=zc(n,t),t=dS(e,t,1),e=ml(e,t,1),t=Di(),e!==null&&(nd(e,1,t),Qi(e,t));break}}e=e.return}}function lP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Di(),t.pingedLanes|=t.suspendedLanes&n,Vr===t&&(Jr&n)===n&&(Pr===4||Pr===3&&(Jr&130023424)===Jr&&500>fr()-zy?fu(t,0):By|=n),Qi(t,e)}function LS(t,e){e===0&&(t.mode&1?(e=$d,$d<<=1,!($d&130023424)&&($d=4194304)):e=1);var n=Di();t=_a(t,e),t!==null&&(nd(t,e,n),Qi(t,n))}function uP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LS(t,n)}function cP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),LS(t,n)}var DS;DS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ki.current)Wi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wi=!1,Xk(t,e,n);Wi=!!(t.flags&131072)}else Wi=!1,Hn&&e.flags&1048576&&j3(e,lg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tp(t,e),t=e.pendingProps;var i=jc(e,bi.current);Sc(e,n),i=Oy(null,e,r,t,i,n);var s=My();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yi(r)?(s=!0,og(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Py(e),i.updater=r0,e.stateNode=i,i._reactInternals=e,Qm(e,r,t,n),e=Zm(null,e,r,!0,s,n)):(e.tag=0,Hn&&s&&Sy(e),Ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fP(r),t=Xs(r,t),i){case 0:e=Jm(null,e,r,t,n);break e;case 1:e=H_(null,e,r,t,n);break e;case 11:e=q_(null,e,r,t,n);break e;case 14:e=$_(null,e,r,Xs(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),Jm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),H_(t,e,r,i,n);case 3:e:{if(yS(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$3(t,e),hg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zc(Error(Oe(423)),e),e=W_(t,e,r,n,i);break e}else if(r!==i){i=zc(Error(Oe(424)),e),e=W_(t,e,r,n,i);break e}else for(ds=gl(e.stateNode.containerInfo.firstChild),ms=e,Hn=!0,eo=null,n=z3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vc(),r===i){e=wa(t,e,n);break e}Ri(t,e,r,n)}e=e.child}return e;case 5:return H3(e),t===null&&Gm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zm(r,i)?o=null:s!==null&&zm(r,s)&&(e.flags|=32),mS(t,e),Ri(t,e,o,n),e.child;case 6:return t===null&&Gm(e),null;case 13:return vS(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uc(e,null,r,n):Ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),q_(t,e,r,i,n);case 7:return Ri(t,e,e.pendingProps,n),e.child;case 8:return Ri(t,e,e.pendingProps.children,n),e.child;case 12:return Ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Mn(ug,r._currentValue),r._currentValue=o,s!==null)if(ao(s.value,o)){if(s.children===i.children&&!Ki.current){e=wa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ga(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Km(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Km(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sc(e,n),i=Vs(i),r=r(i),e.flags|=1,Ri(t,e,r,n),e.child;case 14:return r=e.type,i=Xs(r,e.pendingProps),i=Xs(r.type,i),$_(t,e,r,i,n);case 15:return pS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),Tp(t,e),e.tag=1,Yi(r)?(t=!0,og(e)):t=!1,Sc(e,n),hS(e,r,i),Qm(e,r,i,n),Zm(null,e,r,!0,t,n);case 19:return _S(t,e,n);case 22:return gS(t,e,n)}throw Error(Oe(156,e.tag))};function OS(t,e){return l3(t,e)}function hP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(t,e,n,r){return new hP(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fP(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hy)return 11;if(t===fy)return 14}return 2}function _l(t,e){var n=t.alternate;return n===null?(n=Ms(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ac:return du(n.children,i,s,e);case cy:o=8,i|=8;break;case wm:return t=Ms(12,n,e,i|2),t.elementType=wm,t.lanes=s,t;case bm:return t=Ms(13,n,e,i),t.elementType=bm,t.lanes=s,t;case xm:return t=Ms(19,n,e,i),t.elementType=xm,t.lanes=s,t;case H4:return o0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q4:o=10;break e;case $4:o=9;break e;case hy:o=11;break e;case fy:o=14;break e;case Za:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Ms(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function du(t,e,n,r){return t=Ms(7,t,r,e),t.lanes=n,t}function o0(t,e,n,r){return t=Ms(22,t,r,e),t.elementType=H4,t.lanes=n,t.stateNode={isHidden:!1},t}function x1(t,e,n){return t=Ms(6,t,null,e),t.lanes=n,t}function S1(t,e,n){return e=Ms(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=r1(0),this.expirationTimes=r1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=r1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gy(t,e,n,r,i,s,o,a,l){return t=new dP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ms(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Py(s),t}function pP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MS(t){if(!t)return Tl;t=t._reactInternals;e:{if(Cu(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(Yi(n))return M3(t,n,e)}return e}function FS(t,e,n,r,i,s,o,a,l){return t=Gy(n,r,!0,t,i,s,o,a,l),t.context=MS(null),n=t.current,r=Di(),i=vl(n),s=ga(r,i),s.callback=e??null,ml(n,s,i),t.current.lanes=i,nd(t,i,r),Qi(t,r),t}function a0(t,e,n,r){var i=e.current,s=Di(),o=vl(i);return n=MS(n),e.context===null?e.context=n:e.pendingContext=n,e=ga(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ml(i,e,o),t!==null&&(so(t,i,o,s),Ep(t,i,o)),o}function _g(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ky(t,e){nw(t,e),(t=t.alternate)&&nw(t,e)}function gP(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yy(t){this._internalRoot=t}l0.prototype.render=Yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));a0(t,e,null,null)};l0.prototype.unmount=Yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bu(function(){a0(null,t,null,null)}),e[va]=null}};function l0(t){this._internalRoot=t}l0.prototype.unstable_scheduleHydration=function(t){if(t){var e=g3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tl.length&&e!==0&&e<tl[n].priority;n++);tl.splice(n,0,t),n===0&&y3(t)}};function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rw(){}function mP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=_g(o);s.call(u)}}var o=FS(e,r,t,0,null,!1,!1,"",rw);return t._reactRootContainer=o,t[va]=o.current,Tf(t.nodeType===8?t.parentNode:t),bu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=_g(l);a.call(u)}}var l=Gy(t,0,!1,null,null,!1,!1,"",rw);return t._reactRootContainer=l,t[va]=l.current,Tf(t.nodeType===8?t.parentNode:t),bu(function(){a0(e,l,n,r)}),l}function c0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_g(o);a.call(l)}}a0(e,o,t,i)}else o=mP(n,e,t,i,r);return _g(o)}d3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$h(e.pendingLanes);n!==0&&(gy(e,n|1),Qi(e,fr()),!(un&6)&&(qc=fr()+500,Ul()))}break;case 13:bu(function(){var r=_a(t,1);if(r!==null){var i=Di();so(r,t,1,i)}}),Ky(t,1)}};my=function(t){if(t.tag===13){var e=_a(t,134217728);if(e!==null){var n=Di();so(e,t,134217728,n)}Ky(t,134217728)}};p3=function(t){if(t.tag===13){var e=vl(t),n=_a(t,e);if(n!==null){var r=Di();so(n,t,e,r)}Ky(t,e)}};g3=function(){return _n};m3=function(t,e){var n=_n;try{return _n=t,e()}finally{_n=n}};Rm=function(t,e,n){switch(e){case"input":if(Em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=e0(r);if(!i)throw Error(Oe(90));G4(r),Em(r,i)}}}break;case"textarea":Y4(t,n);break;case"select":e=n.value,e!=null&&_c(t,!!n.multiple,e,!1)}};n3=qy;r3=bu;var yP={usingClientEntryPoint:!1,Events:[id,hc,e0,e3,t3,qy]},Fh={findFiberByHostInstance:ru,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vP={bundleType:Fh.bundleType,version:Fh.version,rendererPackageName:Fh.rendererPackageName,rendererConfig:Fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o3(t),t===null?null:t.stateNode},findFiberByHostInstance:Fh.findFiberByHostInstance||gP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Qg=tp.inject(vP),Lo=tp}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yP;_s.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(e))throw Error(Oe(200));return pP(t,e,null,n)};_s.createRoot=function(t,e){if(!Qy(t))throw Error(Oe(299));var n=!1,r="",i=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gy(t,1,!1,null,null,n,!1,r,i),t[va]=e.current,Tf(t.nodeType===8?t.parentNode:t),new Yy(e)};_s.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=o3(e),t=t===null?null:t.stateNode,t};_s.flushSync=function(t){return bu(t)};_s.hydrate=function(t,e,n){if(!u0(e))throw Error(Oe(200));return c0(null,t,e,!0,n)};_s.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FS(e,null,t,1,n??null,i,!1,s,o),t[va]=e.current,Tf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new l0(e)};_s.render=function(t,e,n){if(!u0(e))throw Error(Oe(200));return c0(null,t,e,!1,n)};_s.unmountComponentAtNode=function(t){if(!u0(t))throw Error(Oe(40));return t._reactRootContainer?(bu(function(){c0(null,null,t,!1,function(){t._reactRootContainer=null,t[va]=null})}),!0):!1};_s.unstable_batchedUpdates=qy;_s.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!u0(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return c0(t,e,n,!1,r)};_s.version="18.3.1-next-f1338f8080-20240426";function VS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VS)}catch(t){console.error(t)}}VS(),V4.exports=_s;var _P=V4.exports,US,iw=_P;US=iw.createRoot,iw.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),sr=(t,e)=>{const n=qe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>qe.createElement("svg",{ref:f,...wP,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${bP(t)}`,a].join(" "),...u},[...e.map(([g,y])=>qe.createElement(g,y)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=sr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=sr("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=sr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=sr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=sr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=sr("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=sr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=sr("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=sr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=sr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=sr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=sr("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=sr("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=sr("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=sr("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=sr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=sr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=sr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=sr("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=sr("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=sr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=sr("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=()=>{};var dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4;let y=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(y=64)),r.push(n[f],n[g],n[y],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||g==null)throw new FP;const y=s<<2|a>>4;if(r.push(y),u!==64){const p=a<<4&240|u>>2;if(r.push(p),g!==64){const I=u<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jP=function(t){const e=BS(t);return zS.encodeByteArray(e,!0)},wg=function(t){return jP(t).replace(/\./g,"")},qS=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=()=>VP().__FIREBASE_DEFAULTS__,BP=()=>{if(typeof process>"u"||typeof dw>"u")return;const t=dw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},h0=()=>{try{return OP()||UP()||BP()||zP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$S=t=>{var e,n;return(n=(e=h0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},qP=t=>{const e=$S(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HS=()=>{var t;return(t=h0())==null?void 0:t.config},WS=t=>{var e;return(e=h0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wg(JSON.stringify(n)),wg(JSON.stringify(o)),""].join(".")}const lf={};function WP(){const t={prod:[],emulator:[]};for(const e of Object.keys(lf))lf[e]?t.emulator.push(e):t.prod.push(e);return t}function GP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pw=!1;function KS(t,e){if(typeof window>"u"||typeof document>"u"||!rh(window.location.host)||lf[t]===e||lf[t]||pw)return;lf[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=WP().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,p){y.setAttribute("width","24"),y.setAttribute("id",p),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{pw=!0,o()},y}function f(y,p){y.setAttribute("id",p),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=GP(r),p=n("text"),I=document.getElementById(p)||document.createElement("span"),S=n("learnmore"),O=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),P=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const L=y.element;a(L),f(O,S);const U=u();l(P,x),L.append(P,I,O,U),document.body.appendChild(L)}s?(I.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xi())}function YP(){var e;const t=(e=h0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){const t=xi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZP(){return!YP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function XS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function eC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="FirebaseError";class ho extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tC,Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nC(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ho(i,a,r)}}function nC(t,e){return t.replace(rC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rC=/\{\$([^}]+)}/g;function iC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gw(s)&&gw(o)){if(!kl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sC(t,e){const n=new oC(t,e);return n.subscribe.bind(n)}class oC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=A1),i.error===void 0&&(i.error=A1),i.complete===void 0&&(i.complete=A1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function A1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1e3,uC=2,cC=4*60*60*1e3,hC=.5;function mw(t,e=lC,n=uC){const r=e*Math.pow(n,t),i=Math.round(hC*r*(Math.random()-.5)*2);return Math.min(cC,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $P;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pC(e))try{this.getOrInitializeService({instanceIdentifier:eu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=eu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eu){return this.instances.has(e)}getOptions(e=eu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eu){return this.component?this.component.multipleInstances?e:eu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dC(t){return t===eu?void 0:t}function pC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yt||(Yt={}));const mC={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},yC=Yt.INFO,vC={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},_C=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=yC,this._logHandler=_C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const wC=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function bC(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xC(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,h2=new WeakMap,ZS=new WeakMap,E1=new WeakMap,Xy=new WeakMap;function SC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),Xy.set(e,t),e}function AC(t){if(h2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});h2.set(t,e)}let f2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EC(t){f2=t(f2)}function IC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(I1(this),e,...n);return ZS.set(r,e.sort?e.sort():[e]),wl(r)}:xC().includes(t)?function(...e){return t.apply(I1(this),e),wl(JS.get(this))}:function(...e){return wl(t.apply(I1(this),e))}}function NC(t){return typeof t=="function"?IC(t):(t instanceof IDBTransaction&&AC(t),wC(t,bC())?new Proxy(t,f2):t)}function wl(t){if(t instanceof IDBRequest)return SC(t);if(E1.has(t))return E1.get(t);const e=NC(t);return e!==t&&(E1.set(t,e),Xy.set(e,t)),e}const I1=t=>Xy.get(t);function eA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=wl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wl(o.result),l.oldVersion,l.newVersion,wl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const TC=["get","getKey","getAll","getAllKeys","count"],kC=["put","add","delete","clear"],N1=new Map;function _w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N1.get(e))return N1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TC.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return N1.set(e,s),s}EC(t=>({...t,get:(e,n,r)=>_w(e,n)||t.get(e,n,r),has:(e,n)=>!!_w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d2="@firebase/app",ww="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new f0("@firebase/app"),RC="@firebase/app-compat",LC="@firebase/analytics-compat",DC="@firebase/analytics",OC="@firebase/app-check-compat",MC="@firebase/app-check",FC="@firebase/auth",jC="@firebase/auth-compat",VC="@firebase/database",UC="@firebase/data-connect",BC="@firebase/database-compat",zC="@firebase/functions",qC="@firebase/functions-compat",$C="@firebase/installations",HC="@firebase/installations-compat",WC="@firebase/messaging",GC="@firebase/messaging-compat",KC="@firebase/performance",YC="@firebase/performance-compat",QC="@firebase/remote-config",XC="@firebase/remote-config-compat",JC="@firebase/storage",ZC="@firebase/storage-compat",e8="@firebase/firestore",t8="@firebase/ai",n8="@firebase/firestore-compat",r8="firebase",i8="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="[DEFAULT]",s8={[d2]:"fire-core",[RC]:"fire-core-compat",[DC]:"fire-analytics",[LC]:"fire-analytics-compat",[MC]:"fire-app-check",[OC]:"fire-app-check-compat",[FC]:"fire-auth",[jC]:"fire-auth-compat",[VC]:"fire-rtdb",[UC]:"fire-data-connect",[BC]:"fire-rtdb-compat",[zC]:"fire-fn",[qC]:"fire-fn-compat",[$C]:"fire-iid",[HC]:"fire-iid-compat",[WC]:"fire-fcm",[GC]:"fire-fcm-compat",[KC]:"fire-perf",[YC]:"fire-perf-compat",[QC]:"fire-rc",[XC]:"fire-rc-compat",[JC]:"fire-gcs",[ZC]:"fire-gcs-compat",[e8]:"fire-fst",[n8]:"fire-fst-compat",[t8]:"fire-vertex","fire-js":"fire-js",[r8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map,o8=new Map,g2=new Map;function bw(t,e){try{t.container.addComponent(e)}catch(n){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(g2.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;g2.set(e,t);for(const n of bg.values())bw(n,t);for(const n of o8.values())bw(n,t);return!0}function Lu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function to(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bl=new Ru("app","Firebase",a8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=i8;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:p2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw bl.create("bad-app-name",{appName:String(i)});if(n||(n=HS()),!n)throw bl.create("no-options");const s=bg.get(i);if(s){if(kl(n,s.options)&&kl(r,s.config))return s;throw bl.create("duplicate-app",{appName:i})}const o=new gC(i);for(const l of g2.values())o.addComponent(l);const a=new l8(n,r,o);return bg.set(i,a),a}function Jy(t=p2){const e=bg.get(t);if(!e&&t===p2&&HS())return tA();if(!e)throw bl.create("no-app",{appName:t});return e}function js(t,e,n){let r=s8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(o.join(" "));return}qo(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="firebase-heartbeat-database",c8=1,Ff="firebase-heartbeat-store";let T1=null;function nA(){return T1||(T1=eA(u8,c8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ff)}catch(n){console.warn(n)}}}}).catch(t=>{throw bl.create("idb-open",{originalErrorMessage:t.message})})),T1}async function h8(t){try{const n=(await nA()).transaction(Ff),r=await n.objectStore(Ff).get(rA(t));return await n.done,r}catch(e){if(e instanceof ho)ba.warn(e.message);else{const n=bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ba.warn(n.message)}}}async function xw(t,e){try{const r=(await nA()).transaction(Ff,"readwrite");await r.objectStore(Ff).put(e,rA(t)),await r.done}catch(n){if(n instanceof ho)ba.warn(n.message);else{const r=bl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ba.warn(r.message)}}}function rA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=1024,d8=30;class p8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>d8){const o=y8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ba.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sw(),{heartbeatsToSend:r,unsentEntries:i}=g8(this._heartbeatsCache.heartbeats),s=wg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ba.warn(n),""}}}function Sw(){return new Date().toISOString().substring(0,10)}function g8(t,e=f8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Aw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?XS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Aw(t){return wg(JSON.stringify({version:2,heartbeats:t})).length}function y8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){qo(new lo("platform-logger",e=>new PC(e),"PRIVATE")),qo(new lo("heartbeat",e=>new p8(e),"PRIVATE")),js(d2,ww,t),js(d2,ww,"esm2020"),js("fire-js","")}v8("");var _8="firebase",w8="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(_8,w8,"app");const iA="@firebase/installations",Zy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1e4,oA=`w:${Zy}`,aA="FIS_v2",b8="https://firebaseinstallations.googleapis.com/v1",x8=60*60*1e3,S8="installations",A8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xu=new Ru(S8,A8,E8);function lA(t){return t instanceof ho&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA({projectId:t}){return`${b8}/projects/${t}/installations`}function cA(t){return{token:t.token,requestStatus:2,expiresIn:N8(t.expiresIn),creationTime:Date.now()}}async function hA(t,e){const r=(await e.json()).error;return xu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function fA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function I8(t,{refreshToken:e}){const n=fA(t);return n.append("Authorization",T8(e)),n}async function dA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function N8(t){return Number(t.replace("s","000"))}function T8(t){return`${aA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uA(t),i=fA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:aA,appId:t.appId,sdkVersion:oA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await dA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:cA(u.authToken)}}else throw await hA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=/^[cdef][\w-]{21}$/,m2="";function R8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=L8(t);return C8.test(n)?n:m2}catch{return m2}}function L8(t){return P8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new Map;function mA(t,e){const n=d0(t);yA(n,e),D8(n,e)}function yA(t,e){const n=gA.get(t);if(n)for(const r of n)r(e)}function D8(t,e){const n=O8();n&&n.postMessage({key:t,fid:e}),M8()}let ou=null;function O8(){return!ou&&"BroadcastChannel"in self&&(ou=new BroadcastChannel("[Firebase] FID Change"),ou.onmessage=t=>{yA(t.data.key,t.data.fid)}),ou}function M8(){gA.size===0&&ou&&(ou.close(),ou=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="firebase-installations-database",j8=1,Su="firebase-installations-store";let k1=null;function ev(){return k1||(k1=eA(F8,j8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Su)}}})),k1}async function xg(t,e){const n=d0(t),i=(await ev()).transaction(Su,"readwrite"),s=i.objectStore(Su),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&mA(t,e.fid),e}async function vA(t){const e=d0(t),r=(await ev()).transaction(Su,"readwrite");await r.objectStore(Su).delete(e),await r.done}async function p0(t,e){const n=d0(t),i=(await ev()).transaction(Su,"readwrite"),s=i.objectStore(Su),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&mA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tv(t){let e;const n=await p0(t.appConfig,r=>{const i=V8(r),s=U8(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===m2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function V8(t){const e=t||{fid:R8(),registrationStatus:0};return _A(e)}function U8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=B8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:z8(t)}:{installationEntry:e}}async function B8(t,e){try{const n=await k8(t,e);return xg(t.appConfig,n)}catch(n){throw lA(n)&&n.customData.serverCode===409?await vA(t.appConfig):await xg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function z8(t){let e=await Ew(t.appConfig);for(;e.registrationStatus===1;)await pA(100),e=await Ew(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tv(t);return r||n}return e}function Ew(t){return p0(t,e=>{if(!e)throw xu.create("installation-not-found");return _A(e)})}function _A(t){return q8(t)?{fid:t.fid,registrationStatus:0}:t}function q8(t){return t.registrationStatus===1&&t.registrationTime+sA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8({appConfig:t,heartbeatServiceProvider:e},n){const r=H8(t,n),i=I8(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:oA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await dA(()=>fetch(r,a));if(l.ok){const u=await l.json();return cA(u)}else throw await hA("Generate Auth Token",l)}function H8(t,{fid:e}){return`${uA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(t,e=!1){let n;const r=await p0(t.appConfig,s=>{if(!wA(s))throw xu.create("not-registered");const o=s.authToken;if(!e&&K8(o))return s;if(o.requestStatus===1)return n=W8(t,e),s;{if(!navigator.onLine)throw xu.create("app-offline");const a=Q8(s);return n=G8(t,a),a}});return n?await n:r.authToken}async function W8(t,e){let n=await Iw(t.appConfig);for(;n.authToken.requestStatus===1;)await pA(100),n=await Iw(t.appConfig);const r=n.authToken;return r.requestStatus===0?nv(t,e):r}function Iw(t){return p0(t,e=>{if(!wA(e))throw xu.create("not-registered");const n=e.authToken;return X8(n)?{...e,authToken:{requestStatus:0}}:e})}async function G8(t,e){try{const n=await $8(t,e),r={...e,authToken:n};return await xg(t.appConfig,r),n}catch(n){if(lA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await xg(t.appConfig,r)}throw n}}function wA(t){return t!==void 0&&t.registrationStatus===2}function K8(t){return t.requestStatus===2&&!Y8(t)}function Y8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+x8}function Q8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function X8(t){return t.requestStatus===1&&t.requestTime+sA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t){const e=t,{installationEntry:n,registrationPromise:r}=await tv(e);return r?r.catch(console.error):nv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e=!1){const n=t;return await eR(n),(await nv(n,e)).token}async function eR(t){const{registrationPromise:e}=await tv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){if(!t||!t.options)throw P1("App Configuration");if(!t.name)throw P1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw P1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function P1(t){return xu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="installations",nR="installations-internal",rR=t=>{const e=t.getProvider("app").getImmediate(),n=tR(e),r=Lu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},iR=t=>{const e=t.getProvider("app").getImmediate(),n=Lu(e,bA).getImmediate();return{getId:()=>J8(n),getToken:i=>Z8(n,i)}};function sR(){qo(new lo(bA,rR,"PUBLIC")),qo(new lo(nR,iR,"PRIVATE"))}sR();js(iA,Zy);js(iA,Zy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="analytics",oR="firebase_id",aR="origin",lR=60*1e3,uR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new f0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ys=new Ru("analytics","Analytics",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){if(!t.startsWith(rv)){const e=ys.create("invalid-gtag-resource",{gtagURL:t});return Oi.warn(e.message),""}return t}function xA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function dR(t,e){const n=fR("firebase-js-sdk-policy",{createScriptURL:hR}),r=document.createElement("script"),i=`${rv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function pR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gR(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await xA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Oi.error(a)}t("config",i,s)}async function mR(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await xA(n);for(const l of o){const u=a.find(g=>g.measurementId===l),f=u&&e[u.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Oi.error(s)}}function yR(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await mR(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await gR(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Oi.error(a)}}return i}function vR(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=yR(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function _R(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=30,bR=1e3;class xR{constructor(e={},n=bR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SA=new xR;function SR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AR(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:SR(n)},i=uR.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw ys.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function ER(t,e=SA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ys.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ys.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TR;return setTimeout(async()=>{a.abort()},lR),AA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function AA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=SA){var a;const{appId:s,measurementId:o}=t;try{await IR(r,e)}catch(l){if(o)return Oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await AR(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!NR(u)){if(i.deleteThrottleMetadata(s),o)return Oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw l}const f=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?mw(n,i.intervalMillis,wR):mw(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(s,g),Oi.debug(`Calling attemptFetch again in ${f} millis`),AA(t,g,r,i)}}function IR(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ys.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NR(t){if(!(t instanceof ho)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class TR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kR(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function PR(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(){if(QS())try{await XS()}catch(t){return Oi.warn(ys.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Oi.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RR(t,e,n,r,i,s,o){const a=ER(t);a.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Oi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Oi.error(y)),e.push(a);const l=CR().then(y=>{if(y)return r.getId()}),[u,f]=await Promise.all([a,l]);_R(s)||dR(s,u.measurementId),i("js",new Date);const g=(o==null?void 0:o.config)??{};return g[aR]="firebase",g.update=!0,f!=null&&(g[oR]=f),i("config",u.measurementId,g),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.app=e}_delete(){return delete Ec[this.app.options.appId],Promise.resolve()}}let Ec={},Nw=[];const Tw={};let C1="dataLayer",DR="gtag",kw,iv,Pw=!1;function OR(){const t=[];if(YS()&&t.push("This is a browser extension environment."),eC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ys.create("invalid-analytics-context",{errorInfo:e});Oi.warn(n.message)}}function MR(t,e,n){OR();const r=t.options.appId;if(!r)throw ys.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ys.create("no-api-key");if(Ec[r]!=null)throw ys.create("already-exists",{id:r});if(!Pw){pR(C1);const{wrappedGtag:s,gtagCore:o}=vR(Ec,Nw,Tw,C1,DR);iv=s,kw=o,Pw=!0}return Ec[r]=RR(t,Nw,Tw,e,kw,C1,n),new LR(t)}function FR(t=Jy()){t=ei(t);const e=Lu(t,Sg);return e.isInitialized()?e.getImmediate():jR(t)}function jR(t,e={}){const n=Lu(t,Sg);if(n.isInitialized()){const i=n.getImmediate();if(kl(e,n.getOptions()))return i;throw ys.create("already-initialized")}return n.initialize({options:e})}function VR(t,e,n){t=ei(t),PR(iv,Ec[t.app.options.appId],e,n).catch(r=>Oi.error(r))}function UR(t,e,n,r){t=ei(t),kR(iv,Ec[t.app.options.appId],e,n,r).catch(i=>Oi.error(i))}const Cw="@firebase/analytics",Rw="0.10.19";function BR(){qo(new lo(Sg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return MR(r,i,n)},"PUBLIC")),qo(new lo("analytics-internal",t,"PRIVATE")),js(Cw,Rw),js(Cw,Rw,"esm2020");function t(e){try{const n=e.getProvider(Sg).getImmediate();return{logEvent:(r,i,s)=>UR(n,r,i,s),setUserProperties:(r,i)=>VR(n,r,i)}}catch(n){throw ys.create("interop-component-reg-failed",{reason:n})}}}BR();function EA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=EA,IA=new Ru("auth","Firebase",EA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new f0("@firebase/auth");function qR(t,...e){Ag.logLevel<=Yt.WARN&&Ag.warn(`Auth (${ih}): ${t}`,...e)}function Rp(t,...e){Ag.logLevel<=Yt.ERROR&&Ag.error(`Auth (${ih}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,...e){throw ov(t,...e)}function oo(t,...e){return ov(t,...e)}function sv(t,e,n){const r={...zR(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function pu(t){return sv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $R(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$o(t,"argument-error"),sv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ov(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IA.create(t,...e)}function It(t,e,...n){if(!t)throw ov(e,...n)}function fa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rp(e),new Error(e)}function xa(t,e){t||fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HR(){return Lw()==="http:"||Lw()==="https:"}function Lw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||YS()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,xa(n>e,"Short delay should be less than long delay!"),this.isMobile=KP()||XP()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){xa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QR=new ad(3e4,6e4);function lv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sh(t,e,n,r,i={}){return TA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=od({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return QP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&rh(t.emulatorConfig.host)&&(u.credentials="include"),NA.fetch()(await kA(t,t.config.apiHost,n,a),u)})}async function TA(t,e,n){t._canInitEmulator=!1;const r={...KR,...e};try{const i=new JR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw rp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rp(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sv(t,f,u);$o(t,f)}}catch(i){if(i instanceof ho)throw i;$o(t,"network-request-failed",{message:String(i)})}}async function XR(t,e,n,r,i={}){const s=await sh(t,e,n,r,i);return"mfaPendingCredential"in s&&$o(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function kA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?av(t.config,i):`${t.config.apiScheme}://${i}`;return YR.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class JR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),QR.get())})}}function rp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oo(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e){return sh(t,"POST","/v1/accounts:delete",e)}async function Eg(t,e){return sh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eL(t,e=!1){const n=ei(t),r=await n.getIdToken(e),i=uv(r);It(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uf(R1(i.auth_time)),issuedAtTime:uf(R1(i.iat)),expirationTime:uf(R1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function R1(t){return Number(t)*1e3}function uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=qS(n);return i?JSON.parse(i):(Rp("Failed to decode base64 JWT payload"),null)}catch(i){return Rp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Dw(t){const e=uv(t);return It(e,"internal-error"),It(typeof e.exp<"u","internal-error"),It(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ho&&tL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uf(this.lastLoginAt),this.creationTime=uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(t){var g;const e=t.auth,n=await t.getIdToken(),r=await jf(t,Eg(e,{idToken:n}));It(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?PA(i.providerUserInfo):[],o=iL(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new v2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function rL(t){const e=ei(t);await Ig(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e){const n=await TA(t,{},async()=>{const r=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await kA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&rh(t.emulatorConfig.host)&&(l.credentials="include"),NA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oL(t,e){return sh(t,"POST","/v2/accounts:revokeToken",lv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){It(e.idToken,"internal-error"),It(typeof e.idToken<"u","internal-error"),It(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){It(e.length!==0,"internal-error");const n=Dw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ic;return r&&(It(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(It(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(It(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e){It(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class no{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new nL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new v2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jf(this,this.stsTokenManager.getToken(this.auth,e));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eL(this,e)}reload(){return rL(this)}_assign(e){this!==e&&(It(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ig(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(to(this.auth.app))return Promise.reject(pu(this.auth));const e=await this.getIdToken();return await jf(this,ZR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:p,providerData:I,stsTokenManager:S}=n;It(g&&S,e,"internal-error");const O=Ic.fromJSON(this.name,S);It(typeof g=="string",e,"internal-error"),Qa(r,e.name),Qa(i,e.name),It(typeof y=="boolean",e,"internal-error"),It(typeof p=="boolean",e,"internal-error"),Qa(s,e.name),Qa(o,e.name),Qa(a,e.name),Qa(l,e.name),Qa(u,e.name),Qa(f,e.name);const x=new no({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:O,createdAt:u,lastLoginAt:f});return I&&Array.isArray(I)&&(x.providerData=I.map(P=>({...P}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ic;i.updateFromServerResponse(n);const s=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ig(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];It(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?PA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ic;a.updateFromIdToken(r);const l=new no({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new v2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;function da(t){xa(t instanceof Function,"Expected a class definition");let e=Ow.get(t);return e?(xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CA.type="NONE";const Mw=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e,n){return`firebase:${t}:${e}:${n}`}class Nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eg(this.auth,{idToken:e}).catch(()=>{});return n?no._fromGetAccountInfoResponse(this.auth,n,e):null}return no._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nc(da(Mw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||da(Mw);const o=Lp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){let g;if(typeof f=="string"){const y=await Eg(e,{idToken:f}).catch(()=>{});if(!y)break;g=await no._fromGetAccountInfoResponse(e,y,f)}else g=no._fromJSON(e,f);u!==s&&(a=g),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Nc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FA(e))return"Blackberry";if(jA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||DA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RA(t=xi()){return/firefox\//i.test(t)}function LA(t=xi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DA(t=xi()){return/crios\//i.test(t)}function OA(t=xi()){return/iemobile/i.test(t)}function MA(t=xi()){return/android/i.test(t)}function FA(t=xi()){return/blackberry/i.test(t)}function jA(t=xi()){return/webos/i.test(t)}function cv(t=xi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aL(t=xi()){var e;return cv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function lL(){return JP()&&document.documentMode===10}function VA(t=xi()){return cv(t)||MA(t)||jA(t)||FA(t)||/windows phone/i.test(t)||OA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e=[]){let n;switch(t){case"Browser":n=Fw(xi());break;case"Worker":n=`${Fw(xi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ih}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e={}){return sh(t,"GET","/v2/passwordPolicy",lv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=6;class fL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jw(this),this.idTokenSubscription=new jw(this),this.beforeStateQueue=new uL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=da(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Nc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eg(this,{idToken:e}),r=await no._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(to(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ig(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(to(this.app))return Promise.reject(pu(this));const n=e?ei(e):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&It(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return to(this.app)?Promise.reject(pu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return to(this.app)?Promise.reject(pu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cL(this),n=new fL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&da(e)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await Nc.create(this,[da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(to(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&qR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function g0(t){return ei(t)}class jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=sC(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pL(t){hv=t}function gL(t){return hv.loadJS(t)}function mL(){return hv.gapiScript}function yL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){const n=Lu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(kl(s,e??{}))return i;$o(i,"already-initialized")}return n.initialize({options:e})}function _L(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wL(t,e,n){const r=g0(t);It(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=BA(e),{host:o,port:a}=bL(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){It(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),It(kl(u,r.config.emulator)&&kl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,rh(o)?(GS(`${s}//${o}${l}`),KS("Auth",!0)):xL()}function BA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bL(t){const e=BA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Vw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Vw(o)}}}function Vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,n){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return XR(t,"POST","/v1/accounts:signInWithIdp",lv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="http://localhost";class Au extends zA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Au(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$o("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Au(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:SL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=od(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends ld{constructor(){super("facebook.com")}static credential(e){return Au._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.FACEBOOK_SIGN_IN_METHOD="facebook.com";rl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Au._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ua.credential(n,r)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends ld{constructor(){super("github.com")}static credential(e){return Au._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return il.credential(e.oauthAccessToken)}catch{return null}}}il.GITHUB_SIGN_IN_METHOD="github.com";il.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends ld{constructor(){super("twitter.com")}static credential(e,n){return Au._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sl.credential(n,r)}catch{return null}}}sl.TWITTER_SIGN_IN_METHOD="twitter.com";sl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await no._fromIdTokenResponse(e,r,i),o=Uw(r);return new $c({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Uw(r);return new $c({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Uw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends ho{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ng.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ng(e,n,r,i)}}function qA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ng._fromErrorAndOperation(t,s,e,r):s})}async function AL(t,e,n=!1){const r=await jf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $c._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e,n=!1){const{auth:r}=t;if(to(r.app))return Promise.reject(pu(r));const i="reauthenticate";try{const s=await jf(t,qA(r,i,e,t),n);It(s.idToken,r,"internal-error");const o=uv(s.idToken);It(o,r,"internal-error");const{sub:a}=o;return It(t.uid===a,r,"user-mismatch"),$c._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$o(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e,n=!1){if(to(t.app))return Promise.reject(pu(t));const r="signIn",i=await qA(t,r,e),s=await $c._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function NL(t,e,n,r){return ei(t).onIdTokenChanged(e,n,r)}function TL(t,e,n){return ei(t).beforeAuthStateChanged(e,n)}function kL(t,e,n,r){return ei(t).onAuthStateChanged(e,n,r)}function PL(t){return ei(t).signOut()}const Tg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tg,"1"),this.storage.removeItem(Tg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1e3,RL=10;class HA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);lL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HA.type="LOCAL";const LL=HA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WA.type="SESSION";const GA=WA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new m0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await DL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=dv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return window}function ML(t){Oo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return typeof Oo().WorkerGlobalScope<"u"&&typeof Oo().importScripts=="function"}async function FL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function VL(){return KA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebaseLocalStorageDb",UL=1,kg="firebaseLocalStorage",QA="fbase_key";class ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function y0(t,e){return t.transaction([kg],e?"readwrite":"readonly").objectStore(kg)}function BL(){const t=indexedDB.deleteDatabase(YA);return new ud(t).toPromise()}function _2(){const t=indexedDB.open(YA,UL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kg,{keyPath:QA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kg)?e(r):(r.close(),await BL(),e(await _2()))})})}async function Bw(t,e,n){const r=y0(t,!0).put({[QA]:e,value:n});return new ud(r).toPromise()}async function zL(t,e){const n=y0(t,!1).get(e),r=await new ud(n).toPromise();return r===void 0?null:r.value}function zw(t,e){const n=y0(t,!0).delete(e);return new ud(n).toPromise()}const qL=800,$L=3;class XA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m0._getInstance(VL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await FL(),!this.activeServiceWorker)return;this.sender=new OL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _2();return await Bw(e,Tg,"1"),await zw(e,Tg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=y0(i,!1).getAll();return new ud(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XA.type="LOCAL";const HL=XA;new ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){return e?da(e):(It(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends zA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WL(t){return IL(t.auth,new pv(t),t.bypassAuthState)}function GL(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),EL(n,new pv(t),t.bypassAuthState)}async function KL(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),AL(n,new pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WL;case"linkViaPopup":case"linkViaRedirect":return KL;case"reauthViaPopup":case"reauthViaRedirect":return GL;default:$o(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=new ad(2e3,1e4);async function QL(t,e,n){if(to(t.app))return Promise.reject(oo(t,"operation-not-supported-in-this-environment"));const r=g0(t);$R(t,e,fv);const i=JA(r,n);return new au(r,"signInViaPopup",e,i).executeNotNull()}class au extends ZA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,au.currentPopupAction&&au.currentPopupAction.cancel(),au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return It(e,this.auth,"internal-error"),e}async onExecution(){xa(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,au.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YL.get())};e()}}au.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="pendingRedirect",Dp=new Map;class JL extends ZA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dp.get(this.auth._key());if(!e){try{const r=await ZL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dp.set(this.auth._key(),e)}return this.bypassAuthState||Dp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZL(t,e){const n=n7(e),r=t7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e7(t,e){Dp.set(t._key(),e)}function t7(t){return da(t._redirectPersistence)}function n7(t){return Lp(XL,t.config.apiKey,t.name)}async function r7(t,e,n=!1){if(to(t.app))return Promise.reject(pu(t));const r=g0(t),i=JA(r,e),o=await new JL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=10*60*1e3;class s7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(oo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i7&&this.cachedEventUids.clear(),this.cachedEventUids.has(qw(e))}saveEventToCache(e){this.cachedEventUids.add(qw(e)),this.lastProcessedEventTime=Date.now()}}function qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e={}){return sh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u7=/^https?/;async function c7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a7(t);for(const n of e)try{if(h7(n))return}catch{}$o(t,"unauthorized-domain")}function h7(t){const e=y2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!u7.test(n))return!1;if(l7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new ad(3e4,6e4);function $w(){const t=Oo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d7(t){return new Promise((e,n)=>{var i,s,o;function r(){$w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$w(),n(oo(t,"network-request-failed"))},timeout:f7.get()})}if((s=(i=Oo().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Oo().gapi)!=null&&o.load)r();else{const a=yL("iframefcb");return Oo()[a]=()=>{gapi.load?r():n(oo(t,"network-request-failed"))},gL(`${mL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Op=null,e})}let Op=null;function p7(t){return Op=Op||d7(t),Op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new ad(5e3,15e3),m7="__/auth/iframe",y7="emulator/auth/iframe",v7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w7(t){const e=t.config;It(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?av(e,y7):`https://${t.config.authDomain}/${m7}`,r={apiKey:e.apiKey,appName:t.name,v:ih},i=_7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${od(r).slice(1)}`}async function b7(t){const e=await p7(t),n=Oo().gapi;return It(n,t,"internal-error"),e.open({where:document.body,url:w7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=oo(t,"network-request-failed"),a=Oo().setTimeout(()=>{s(o)},g7.get());function l(){Oo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S7=500,A7=600,E7="_blank",I7="http://localhost";class Hw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N7(t,e,n,r=S7,i=A7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...x7,width:r.toString(),height:i.toString(),top:s,left:o},u=xi().toLowerCase();n&&(a=DA(u)?E7:n),RA(u)&&(e=e||I7,l.scrollbars="yes");const f=Object.entries(l).reduce((y,[p,I])=>`${y}${p}=${I},`,"");if(aL(u)&&a!=="_self")return T7(e||"",a),new Hw(null);const g=window.open(e||"",a,f);It(g,t,"popup-blocked");try{g.focus()}catch{}return new Hw(g)}function T7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7="__/auth/handler",P7="emulator/auth/handler",C7=encodeURIComponent("fac");async function Ww(t,e,n,r,i,s){It(t.config.authDomain,t,"auth-domain-config-required"),It(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ih,eventId:i};if(e instanceof fv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",iC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof ld){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${C7}=${encodeURIComponent(l)}`:"";return`${R7(t)}?${od(a).slice(1)}${u}`}function R7({config:t}){return t.emulator?av(t,P7):`https://${t.authDomain}/${k7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="webStorageSupport";class L7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GA,this._completeRedirectFn=r7,this._overrideRedirectResult=e7}async _openPopup(e,n,r,i){var o;xa((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Ww(e,n,r,y2(),i);return N7(e,s,dv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ww(e,n,r,y2(),i);return ML(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b7(e),r=new s7(e);return n.register("authEvent",i=>(It(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L1,{type:L1},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[L1];s!==void 0&&n(!!s),$o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VA()||LA()||cv()}}const D7=L7;var Gw="@firebase/auth",Kw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F7(t){qo(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;It(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UA(t)},u=new dL(r,i,s,l);return _L(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new lo("auth-internal",e=>{const n=g0(e.getProvider("auth").getImmediate());return(r=>new O7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(Gw,Kw,M7(t)),js(Gw,Kw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=5*60,V7=WS("authIdTokenMaxAge")||j7;let Yw=null;const U7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V7)return;const i=n==null?void 0:n.token;Yw!==i&&(Yw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function B7(t=Jy()){const e=Lu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vL(t,{popupRedirectResolver:D7,persistence:[HL,LL,GA]}),r=WS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=U7(s.toString());TL(n,o,()=>o(n.currentUser)),NL(n,a=>o(a))}}const i=$S("auth");return i&&wL(n,`http://${i}`),n}function z7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}pL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=oo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F7("Browser");var Qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,tE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,N){function E(){}E.prototype=N.prototype,F.F=N.prototype,F.prototype=new E,F.prototype.constructor=F,F.D=function(D,w,T){for(var k=Array(arguments.length-2),X=2;X<arguments.length;X++)k[X-2]=arguments[X];return N.prototype[w].apply(D,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,N,E){E||(E=0);const D=Array(16);if(typeof N=="string")for(var w=0;w<16;++w)D[w]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(w=0;w<16;++w)D[w]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=F.g[0],E=F.g[1],w=F.g[2];let T=F.g[3],k;k=N+(T^E&(w^T))+D[0]+3614090360&4294967295,N=E+(k<<7&4294967295|k>>>25),k=T+(w^N&(E^w))+D[1]+3905402710&4294967295,T=N+(k<<12&4294967295|k>>>20),k=w+(E^T&(N^E))+D[2]+606105819&4294967295,w=T+(k<<17&4294967295|k>>>15),k=E+(N^w&(T^N))+D[3]+3250441966&4294967295,E=w+(k<<22&4294967295|k>>>10),k=N+(T^E&(w^T))+D[4]+4118548399&4294967295,N=E+(k<<7&4294967295|k>>>25),k=T+(w^N&(E^w))+D[5]+1200080426&4294967295,T=N+(k<<12&4294967295|k>>>20),k=w+(E^T&(N^E))+D[6]+2821735955&4294967295,w=T+(k<<17&4294967295|k>>>15),k=E+(N^w&(T^N))+D[7]+4249261313&4294967295,E=w+(k<<22&4294967295|k>>>10),k=N+(T^E&(w^T))+D[8]+1770035416&4294967295,N=E+(k<<7&4294967295|k>>>25),k=T+(w^N&(E^w))+D[9]+2336552879&4294967295,T=N+(k<<12&4294967295|k>>>20),k=w+(E^T&(N^E))+D[10]+4294925233&4294967295,w=T+(k<<17&4294967295|k>>>15),k=E+(N^w&(T^N))+D[11]+2304563134&4294967295,E=w+(k<<22&4294967295|k>>>10),k=N+(T^E&(w^T))+D[12]+1804603682&4294967295,N=E+(k<<7&4294967295|k>>>25),k=T+(w^N&(E^w))+D[13]+4254626195&4294967295,T=N+(k<<12&4294967295|k>>>20),k=w+(E^T&(N^E))+D[14]+2792965006&4294967295,w=T+(k<<17&4294967295|k>>>15),k=E+(N^w&(T^N))+D[15]+1236535329&4294967295,E=w+(k<<22&4294967295|k>>>10),k=N+(w^T&(E^w))+D[1]+4129170786&4294967295,N=E+(k<<5&4294967295|k>>>27),k=T+(E^w&(N^E))+D[6]+3225465664&4294967295,T=N+(k<<9&4294967295|k>>>23),k=w+(N^E&(T^N))+D[11]+643717713&4294967295,w=T+(k<<14&4294967295|k>>>18),k=E+(T^N&(w^T))+D[0]+3921069994&4294967295,E=w+(k<<20&4294967295|k>>>12),k=N+(w^T&(E^w))+D[5]+3593408605&4294967295,N=E+(k<<5&4294967295|k>>>27),k=T+(E^w&(N^E))+D[10]+38016083&4294967295,T=N+(k<<9&4294967295|k>>>23),k=w+(N^E&(T^N))+D[15]+3634488961&4294967295,w=T+(k<<14&4294967295|k>>>18),k=E+(T^N&(w^T))+D[4]+3889429448&4294967295,E=w+(k<<20&4294967295|k>>>12),k=N+(w^T&(E^w))+D[9]+568446438&4294967295,N=E+(k<<5&4294967295|k>>>27),k=T+(E^w&(N^E))+D[14]+3275163606&4294967295,T=N+(k<<9&4294967295|k>>>23),k=w+(N^E&(T^N))+D[3]+4107603335&4294967295,w=T+(k<<14&4294967295|k>>>18),k=E+(T^N&(w^T))+D[8]+1163531501&4294967295,E=w+(k<<20&4294967295|k>>>12),k=N+(w^T&(E^w))+D[13]+2850285829&4294967295,N=E+(k<<5&4294967295|k>>>27),k=T+(E^w&(N^E))+D[2]+4243563512&4294967295,T=N+(k<<9&4294967295|k>>>23),k=w+(N^E&(T^N))+D[7]+1735328473&4294967295,w=T+(k<<14&4294967295|k>>>18),k=E+(T^N&(w^T))+D[12]+2368359562&4294967295,E=w+(k<<20&4294967295|k>>>12),k=N+(E^w^T)+D[5]+4294588738&4294967295,N=E+(k<<4&4294967295|k>>>28),k=T+(N^E^w)+D[8]+2272392833&4294967295,T=N+(k<<11&4294967295|k>>>21),k=w+(T^N^E)+D[11]+1839030562&4294967295,w=T+(k<<16&4294967295|k>>>16),k=E+(w^T^N)+D[14]+4259657740&4294967295,E=w+(k<<23&4294967295|k>>>9),k=N+(E^w^T)+D[1]+2763975236&4294967295,N=E+(k<<4&4294967295|k>>>28),k=T+(N^E^w)+D[4]+1272893353&4294967295,T=N+(k<<11&4294967295|k>>>21),k=w+(T^N^E)+D[7]+4139469664&4294967295,w=T+(k<<16&4294967295|k>>>16),k=E+(w^T^N)+D[10]+3200236656&4294967295,E=w+(k<<23&4294967295|k>>>9),k=N+(E^w^T)+D[13]+681279174&4294967295,N=E+(k<<4&4294967295|k>>>28),k=T+(N^E^w)+D[0]+3936430074&4294967295,T=N+(k<<11&4294967295|k>>>21),k=w+(T^N^E)+D[3]+3572445317&4294967295,w=T+(k<<16&4294967295|k>>>16),k=E+(w^T^N)+D[6]+76029189&4294967295,E=w+(k<<23&4294967295|k>>>9),k=N+(E^w^T)+D[9]+3654602809&4294967295,N=E+(k<<4&4294967295|k>>>28),k=T+(N^E^w)+D[12]+3873151461&4294967295,T=N+(k<<11&4294967295|k>>>21),k=w+(T^N^E)+D[15]+530742520&4294967295,w=T+(k<<16&4294967295|k>>>16),k=E+(w^T^N)+D[2]+3299628645&4294967295,E=w+(k<<23&4294967295|k>>>9),k=N+(w^(E|~T))+D[0]+4096336452&4294967295,N=E+(k<<6&4294967295|k>>>26),k=T+(E^(N|~w))+D[7]+1126891415&4294967295,T=N+(k<<10&4294967295|k>>>22),k=w+(N^(T|~E))+D[14]+2878612391&4294967295,w=T+(k<<15&4294967295|k>>>17),k=E+(T^(w|~N))+D[5]+4237533241&4294967295,E=w+(k<<21&4294967295|k>>>11),k=N+(w^(E|~T))+D[12]+1700485571&4294967295,N=E+(k<<6&4294967295|k>>>26),k=T+(E^(N|~w))+D[3]+2399980690&4294967295,T=N+(k<<10&4294967295|k>>>22),k=w+(N^(T|~E))+D[10]+4293915773&4294967295,w=T+(k<<15&4294967295|k>>>17),k=E+(T^(w|~N))+D[1]+2240044497&4294967295,E=w+(k<<21&4294967295|k>>>11),k=N+(w^(E|~T))+D[8]+1873313359&4294967295,N=E+(k<<6&4294967295|k>>>26),k=T+(E^(N|~w))+D[15]+4264355552&4294967295,T=N+(k<<10&4294967295|k>>>22),k=w+(N^(T|~E))+D[6]+2734768916&4294967295,w=T+(k<<15&4294967295|k>>>17),k=E+(T^(w|~N))+D[13]+1309151649&4294967295,E=w+(k<<21&4294967295|k>>>11),k=N+(w^(E|~T))+D[4]+4149444226&4294967295,N=E+(k<<6&4294967295|k>>>26),k=T+(E^(N|~w))+D[11]+3174756917&4294967295,T=N+(k<<10&4294967295|k>>>22),k=w+(N^(T|~E))+D[2]+718787259&4294967295,w=T+(k<<15&4294967295|k>>>17),k=E+(T^(w|~N))+D[9]+3951481745&4294967295,F.g[0]=F.g[0]+N&4294967295,F.g[1]=F.g[1]+(w+(k<<21&4294967295|k>>>11))&4294967295,F.g[2]=F.g[2]+w&4294967295,F.g[3]=F.g[3]+T&4294967295}r.prototype.v=function(F,N){N===void 0&&(N=F.length);const E=N-this.blockSize,D=this.C;let w=this.h,T=0;for(;T<N;){if(w==0)for(;T<=E;)i(this,F,T),T+=this.blockSize;if(typeof F=="string"){for(;T<N;)if(D[w++]=F.charCodeAt(T++),w==this.blockSize){i(this,D),w=0;break}}else for(;T<N;)if(D[w++]=F[T++],w==this.blockSize){i(this,D),w=0;break}}this.h=w,this.o+=N},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var N=1;N<F.length-8;++N)F[N]=0;N=this.o*8;for(var E=F.length-8;E<F.length;++E)F[E]=N&255,N/=256;for(this.v(F),F=Array(16),N=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)F[N++]=this.g[E]>>>D&255;return F};function s(F,N){var E=a;return Object.prototype.hasOwnProperty.call(E,F)?E[F]:E[F]=N(F)}function o(F,N){this.h=N;const E=[];let D=!0;for(let w=F.length-1;w>=0;w--){const T=F[w]|0;D&&T==N||(E[w]=T,D=!1)}this.g=E}var a={};function l(F){return-128<=F&&F<128?s(F,function(N){return new o([N|0],N<0?-1:0)}):new o([F|0],F<0?-1:0)}function u(F){if(isNaN(F)||!isFinite(F))return g;if(F<0)return O(u(-F));const N=[];let E=1;for(let D=0;F>=E;D++)N[D]=F/E|0,E*=4294967296;return new o(N,0)}function f(F,N){if(F.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F.charAt(0)=="-")return O(f(F.substring(1),N));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(N,8));let D=g;for(let T=0;T<F.length;T+=8){var w=Math.min(8,F.length-T);const k=parseInt(F.substring(T,T+w),N);w<8?(w=u(Math.pow(N,w)),D=D.j(w).add(u(k))):(D=D.j(E),D=D.add(u(k)))}return D}var g=l(0),y=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-O(this).m();let F=0,N=1;for(let E=0;E<this.g.length;E++){const D=this.i(E);F+=(D>=0?D:4294967296+D)*N,N*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(I(this))return"0";if(S(this))return"-"+O(this).toString(F);const N=u(Math.pow(F,6));var E=this;let D="";for(;;){const w=U(E,N).g;E=x(E,w.j(N));let T=((E.g.length>0?E.g[0]:E.h)>>>0).toString(F);if(E=w,I(E))return T+D;for(;T.length<6;)T="0"+T;D=T+D}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function I(F){if(F.h!=0)return!1;for(let N=0;N<F.g.length;N++)if(F.g[N]!=0)return!1;return!0}function S(F){return F.h==-1}t.l=function(F){return F=x(this,F),S(F)?-1:I(F)?0:1};function O(F){const N=F.g.length,E=[];for(let D=0;D<N;D++)E[D]=~F.g[D];return new o(E,~F.h).add(y)}t.abs=function(){return S(this)?O(this):this},t.add=function(F){const N=Math.max(this.g.length,F.g.length),E=[];let D=0;for(let w=0;w<=N;w++){let T=D+(this.i(w)&65535)+(F.i(w)&65535),k=(T>>>16)+(this.i(w)>>>16)+(F.i(w)>>>16);D=k>>>16,T&=65535,k&=65535,E[w]=k<<16|T}return new o(E,E[E.length-1]&-2147483648?-1:0)};function x(F,N){return F.add(O(N))}t.j=function(F){if(I(this)||I(F))return g;if(S(this))return S(F)?O(this).j(O(F)):O(O(this).j(F));if(S(F))return O(this.j(O(F)));if(this.l(p)<0&&F.l(p)<0)return u(this.m()*F.m());const N=this.g.length+F.g.length,E=[];for(var D=0;D<2*N;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let w=0;w<F.g.length;w++){const T=this.i(D)>>>16,k=this.i(D)&65535,X=F.i(w)>>>16,ce=F.i(w)&65535;E[2*D+2*w]+=k*ce,P(E,2*D+2*w),E[2*D+2*w+1]+=T*ce,P(E,2*D+2*w+1),E[2*D+2*w+1]+=k*X,P(E,2*D+2*w+1),E[2*D+2*w+2]+=T*X,P(E,2*D+2*w+2)}for(F=0;F<N;F++)E[F]=E[2*F+1]<<16|E[2*F];for(F=N;F<2*N;F++)E[F]=0;return new o(E,0)};function P(F,N){for(;(F[N]&65535)!=F[N];)F[N+1]+=F[N]>>>16,F[N]&=65535,N++}function L(F,N){this.g=F,this.h=N}function U(F,N){if(I(N))throw Error("division by zero");if(I(F))return new L(g,g);if(S(F))return N=U(O(F),N),new L(O(N.g),O(N.h));if(S(N))return N=U(F,O(N)),new L(O(N.g),N.h);if(F.g.length>30){if(S(F)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var E=y,D=N;D.l(F)<=0;)E=Z(E),D=Z(D);var w=ie(E,1),T=ie(D,1);for(D=ie(D,2),E=ie(E,2);!I(D);){var k=T.add(D);k.l(F)<=0&&(w=w.add(E),T=k),D=ie(D,1),E=ie(E,1)}return N=x(F,w.j(N)),new L(w,N)}for(w=g;F.l(N)>=0;){for(E=Math.max(1,Math.floor(F.m()/N.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),T=u(E),k=T.j(N);S(k)||k.l(F)>0;)E-=D,T=u(E),k=T.j(N);I(T)&&(T=y),w=w.add(T),F=x(F,k)}return new L(w,F)}t.B=function(F){return U(this,F).h},t.and=function(F){const N=Math.max(this.g.length,F.g.length),E=[];for(let D=0;D<N;D++)E[D]=this.i(D)&F.i(D);return new o(E,this.h&F.h)},t.or=function(F){const N=Math.max(this.g.length,F.g.length),E=[];for(let D=0;D<N;D++)E[D]=this.i(D)|F.i(D);return new o(E,this.h|F.h)},t.xor=function(F){const N=Math.max(this.g.length,F.g.length),E=[];for(let D=0;D<N;D++)E[D]=this.i(D)^F.i(D);return new o(E,this.h^F.h)};function Z(F){const N=F.g.length+1,E=[];for(let D=0;D<N;D++)E[D]=F.i(D)<<1|F.i(D-1)>>>31;return new o(E,F.h)}function ie(F,N){const E=N>>5;N%=32;const D=F.g.length-E,w=[];for(let T=0;T<D;T++)w[T]=N>0?F.i(T+E)>>>N|F.i(T+E+1)<<32-N:F.i(T+E);return new o(w,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,xl=o}).apply(typeof Qw<"u"?Qw:typeof self<"u"?self:typeof window<"u"?window:{});var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,Wh,rE,Mp,w2,iE,sE,oE;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ip=="object"&&ip];for(var _=0;_<h.length;++_){var A=h[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var A=r;h=h.split(".");for(var q=0;q<h.length-1;q++){var ue=h[q];if(!(ue in A))break e;A=A[ue]}h=h[h.length-1],q=A[h],_=_(q),_!=q&&_!=null&&e(A,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var A=[],q;for(q in _)Object.prototype.hasOwnProperty.call(_,q)&&A.push([q,_[q]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function l(h,_,A){return h.call.apply(h.bind,arguments)}function u(h,_,A){return u=l,u.apply(null,arguments)}function f(h,_){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),h.apply(this,q)}}function g(h,_){function A(){}A.prototype=_.prototype,h.Z=_.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(q,ue,pe){for(var Me=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Me[kt-2]=arguments[kt];return _.prototype[ue].apply(q,Me)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const _=h.length;if(_>0){const A=Array(_);for(let q=0;q<_;q++)A[q]=h[q];return A}return[]}function I(h,_){for(let q=1;q<arguments.length;q++){const ue=arguments[q];var A=typeof ue;if(A=A!="object"?A:ue?Array.isArray(ue)?"array":A:"null",A=="array"||A=="object"&&typeof ue.length=="number"){A=h.length||0;const pe=ue.length||0;h.length=A+pe;for(let Me=0;Me<pe;Me++)h[A+Me]=ue[Me]}else h.push(ue)}}class S{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(h){o.setTimeout(()=>{throw h},0)}function x(){var h=F;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,A){const q=L.get();q.set(_,A),this.h?this.h.next=q:this.g=q,this.h=q}}var L=new S(()=>new U,h=>h.reset());class U{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ie=!1,F=new P,N=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(E)}};function E(){for(var h;h=x();){try{h.h.call(h.g)}catch(A){O(A)}var _=L;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ie=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};o.addEventListener("test",A,_),o.removeEventListener("test",A,_)}catch{}return h}();function k(h){return/^[\s\xa0]*$/.test(h)}function X(h,_){w.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}g(X,w),X.prototype.init=function(h,_){const A=this.type=h.type,q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(A=="mouseover"?_=h.fromElement:A=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),ge=0;function ye(h,_,A,q,ue){this.listener=h,this.proxy=null,this.src=_,this.type=A,this.capture=!!q,this.ha=ue,this.key=++ge,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h,_,A){for(const q in h)_.call(A,h[q],q,h)}function we(h,_){for(const A in h)_.call(void 0,h[A],A,h)}function _e(h){const _={};for(const A in h)_[A]=h[A];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,_){let A,q;for(let ue=1;ue<arguments.length;ue++){q=arguments[ue];for(A in q)h[A]=q[A];for(let pe=0;pe<j.length;pe++)A=j[pe],Object.prototype.hasOwnProperty.call(q,A)&&(h[A]=q[A])}}function Q(h){this.src=h,this.g={},this.h=0}Q.prototype.add=function(h,_,A,q,ue){const pe=h.toString();h=this.g[pe],h||(h=this.g[pe]=[],this.h++);const Me=re(h,_,q,ue);return Me>-1?(_=h[Me],A||(_.fa=!1)):(_=new ye(_,this.src,pe,!!q,ue),_.fa=A,h.push(_)),_};function te(h,_){const A=_.type;if(A in h.g){var q=h.g[A],ue=Array.prototype.indexOf.call(q,_,void 0),pe;(pe=ue>=0)&&Array.prototype.splice.call(q,ue,1),pe&&(J(_),h.g[A].length==0&&(delete h.g[A],h.h--))}}function re(h,_,A,q){for(let ue=0;ue<h.length;++ue){const pe=h[ue];if(!pe.da&&pe.listener==_&&pe.capture==!!A&&pe.ha==q)return ue}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),me={};function ve(h,_,A,q,ue){if(Array.isArray(_)){for(let pe=0;pe<_.length;pe++)ve(h,_[pe],A,q,ue);return null}return A=at(A),h&&h[ce]?h.J(_,A,a(q)?!!q.capture:!!q,ue):Ee(h,_,A,!1,q,ue)}function Ee(h,_,A,q,ue,pe){if(!_)throw Error("Invalid event type");const Me=a(ue)?!!ue.capture:!!ue;let kt=Ve(h);if(kt||(h[oe]=kt=new Q(h)),A=kt.add(_,A,q,Me,pe),A.proxy)return A;if(q=Le(),A.proxy=q,q.src=h,q.listener=A,h.addEventListener)T||(ue=Me),ue===void 0&&(ue=!1),h.addEventListener(_.toString(),q,ue);else if(h.attachEvent)h.attachEvent(ot(_.toString()),q);else if(h.addListener&&h.removeListener)h.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Le(){function h(A){return _.call(h.src,h.listener,A)}const _=H;return h}function Be(h,_,A,q,ue){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)Be(h,_[pe],A,q,ue);else q=a(q)?!!q.capture:!!q,A=at(A),h&&h[ce]?(h=h.i,pe=String(_).toString(),pe in h.g&&(_=h.g[pe],A=re(_,A,q,ue),A>-1&&(J(_[A]),Array.prototype.splice.call(_,A,1),_.length==0&&(delete h.g[pe],h.h--)))):h&&(h=Ve(h))&&(_=h.g[_.toString()],h=-1,_&&(h=re(_,A,q,ue)),(A=h>-1?_[h]:null)&&je(A))}function je(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ce])te(_.i,h);else{var A=h.type,q=h.proxy;_.removeEventListener?_.removeEventListener(A,q,h.capture):_.detachEvent?_.detachEvent(ot(A),q):_.addListener&&_.removeListener&&_.removeListener(q),(A=Ve(_))?(te(A,h),A.h==0&&(A.src=null,_[oe]=null)):J(h)}}}function ot(h){return h in me?me[h]:me[h]="on"+h}function H(h,_){if(h.da)h=!0;else{_=new X(_,this);const A=h.listener,q=h.ha||h.src;h.fa&&je(h),h=A.call(q,_)}return h}function Ve(h){return h=h[oe],h instanceof Q?h:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function at(h){return typeof h=="function"?h:(h[bt]||(h[bt]=function(_){return h.handleEvent(_)}),h[bt])}function Ie(){D.call(this),this.i=new Q(this),this.M=this,this.G=null}g(Ie,D),Ie.prototype[ce]=!0,Ie.prototype.removeEventListener=function(h,_,A,q){Be(this,h,_,A,q)};function He(h,_){var A,q=h.G;if(q)for(A=[];q;q=q.G)A.push(q);if(h=h.M,q=_.type||_,typeof _=="string")_=new w(_,h);else if(_ instanceof w)_.target=_.target||h;else{var ue=_;_=new w(q,h),W(_,ue)}ue=!0;let pe,Me;if(A)for(Me=A.length-1;Me>=0;Me--)pe=_.g=A[Me],ue=ze(pe,q,!0,_)&&ue;if(pe=_.g=h,ue=ze(pe,q,!0,_)&&ue,ue=ze(pe,q,!1,_)&&ue,A)for(Me=0;Me<A.length;Me++)pe=_.g=A[Me],ue=ze(pe,q,!1,_)&&ue}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const A=h.g[_];for(let q=0;q<A.length;q++)J(A[q]);delete h.g[_],h.h--}}this.G=null},Ie.prototype.J=function(h,_,A,q){return this.i.add(String(h),_,!1,A,q)},Ie.prototype.K=function(h,_,A,q){return this.i.add(String(h),_,!0,A,q)};function ze(h,_,A,q){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let ue=!0;for(let pe=0;pe<_.length;++pe){const Me=_[pe];if(Me&&!Me.da&&Me.capture==A){const kt=Me.listener,Cn=Me.ha||Me.src;Me.fa&&te(h.i,Me),ue=kt.call(Cn,q)!==!1&&ue}}return ue&&!q.defaultPrevented}function ft(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:o.setTimeout(h,_||0)}function rt(h){h.g=ft(()=>{h.g=null,h.i&&(h.i=!1,rt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Jt extends D{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(h){D.call(this),this.h=h,this.g={}}g(Nt,D);var wt=[];function Lt(h){le(h.g,function(_,A){this.g.hasOwnProperty(A)&&je(_)},h),h.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),Lt(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ut=o.JSON.stringify,et=o.JSON.parse,Tt=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function We(){}function Nn(){}var Ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){w.call(this,"d")}g(Je,w);function Pt(){w.call(this,"c")}g(Pt,w);var nn={},tt=null;function on(){return tt=tt||new Ie}nn.Ia="serverreachability";function ct(h){w.call(this,nn.Ia,h)}g(ct,w);function gt(h){const _=on();He(_,new ct(_))}nn.STAT_EVENT="statevent";function an(h,_){w.call(this,nn.STAT_EVENT,h),this.stat=_}g(an,w);function Ke(h){const _=on();He(_,new an(_,h))}nn.Ja="timingevent";function lt(h,_){w.call(this,nn.Ja,h),this.size=_}g(lt,w);function qt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},_)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Fn(h,_,A,q,ue,pe){h.info(function(){if(h.g)if(pe){var Me="",kt=pe.split("&");for(let Kt=0;Kt<kt.length;Kt++){var Cn=kt[Kt].split("=");if(Cn.length>1){const Rn=Cn[0];Cn=Cn[1];const Dr=Rn.split("_");Me=Dr.length>=2&&Dr[1]=="type"?Me+(Rn+"="+Cn+"&"):Me+(Rn+"=redacted&")}}}else Me=null;else Me=pe;return"XMLHTTP REQ ("+q+") [attempt "+ue+"]: "+_+`
`+A+`
`+Me})}function ni(h,_,A,q,ue,pe,Me){h.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ue+"]: "+_+`
`+A+`
`+pe+" "+Me})}function xr(h,_,A,q){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wn(h,A)+(q?" "+q:"")})}function mt(h,_){h.info(function(){return"TIMEOUT: "+_})}Jn.prototype.info=function(){};function Wn(h,_){if(!h.g)return _;if(!_)return null;try{const pe=JSON.parse(_);if(pe){for(h=0;h<pe.length;h++)if(Array.isArray(pe[h])){var A=pe[h];if(!(A.length<2)){var q=A[1];if(Array.isArray(q)&&!(q.length<1)){var ue=q[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let Me=1;Me<q.length;Me++)q[Me]=""}}}}return Ut(pe)}catch{return _}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zr;function pn(){}g(pn,We),pn.prototype.g=function(){return new XMLHttpRequest},zr=new pn;function Tn(h){return encodeURIComponent(String(h))}function or(h){var _=1;h=h.split(":");const A=[];for(;_>0&&h.length;)A.push(h.shift()),_--;return h.length&&A.push(h.join(":")),A}function Rr(h,_,A,q){this.j=h,this.i=_,this.l=A,this.S=q||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var ri={},ii={};function qr(h,_,A){h.M=1,h.A=xs(oi(_)),h.u=A,h.R=!0,Sr(h,null)}function Sr(h,_){h.F=Date.now(),Re(h),h.B=oi(h.A);var A=h.B,q=h.S;Array.isArray(q)||(q=[String(q)]),Ko(A.i,"t",q),h.C=0,A=h.j.L,h.h=new Ji,h.g=Ye(h.j,A?_:null,!h.u),h.P>0&&(h.O=new Jt(u(h.Y,h,h.g),h.P)),_=h.V,A=h.g,q=h.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(wt[0]=ue.toString()),ue=wt);for(let pe=0;pe<ue.length;pe++){const Me=ve(A,ue[pe],q||_.handleEvent,!1,_.h||_);if(!Me)break;_.g[Me.key]=Me}_=h.J?_e(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),gt(),Fn(h.i,h.v,h.B,h.l,h.S,h.u)}Rr.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ui(h)==3?_.j():this.Y(h)},Rr.prototype.Y=function(h){try{if(h==this.g)e:{const kt=Ui(this.g),Cn=this.g.ya(),Kt=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||La(this.g)))){this.K||kt!=4||Cn==7||(Cn==8||Kt<=0?gt(3):gt(2)),Dt(this);var _=this.g.ca();this.X=_;var A=si(this);if(this.o=_==200,ni(this.i,this.v,this.B,this.l,this.S,kt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ue=this.g;if((q=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(q)){var pe=q;break t}}pe=null}if(h=pe)xr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wt(this,h);else{this.o=!1,this.m=3,Ke(12),At(this),Ct(this);break e}}if(this.R){h=!0;let Rn;for(;!this.K&&this.C<A.length;)if(Rn=be(this,A),Rn==ii){kt==4&&(this.m=4,Ke(14),h=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==ri){this.m=4,Ke(15),xr(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else xr(this.i,this.l,Rn,null),Wt(this,Rn);if(bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||A.length!=0||this.h.h||(this.m=1,Ke(16),h=!1),this.o=this.o&&h,!h)xr(this.i,this.l,A,"[Invalid Chunked Response]"),At(this),Ct(this);else if(A.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Oa(Me),Me.P=!0,Ke(11))}}else xr(this.i,this.l,A,null),Wt(this,A);kt==4&&At(this),this.o&&!this.K&&(kt==4?G(this.j,this):(this.o=!1,Re(this)))}else qu(this.g),_==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),At(this),Ct(this)}}}catch{}finally{}};function si(h){if(!bs(h))return h.g.la();const _=La(h.g);if(_==="")return"";let A="";const q=_.length,ue=Ui(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return At(h),Ct(h),"";h.h.i=new o.TextDecoder}for(let pe=0;pe<q;pe++)h.h.h=!0,A+=h.h.i.decode(_[pe],{stream:!(ue&&pe==q-1)});return _.length=0,h.h.g+=A,h.C=0,h.h.g}function bs(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function be(h,_){var A=h.C,q=_.indexOf(`
`,A);return q==-1?ii:(A=Number(_.substring(A,q)),isNaN(A)?ri:(q+=1,q+A>_.length?ii:(_=_.slice(q,q+A),h.C=q+A,_)))}Rr.prototype.cancel=function(){this.K=!0,At(this)};function Re(h){h.T=Date.now()+h.H,dt(h,h.H)}function dt(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=qt(u(h.aa,h),_)}function Dt(h){h.D&&(o.clearTimeout(h.D),h.D=null)}Rr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(mt(this.i,this.B),this.M!=2&&(gt(),Ke(17)),At(this),this.m=2,Ct(this)):dt(this,this.T-h)};function Ct(h){h.j.I==0||h.K||G(h.j,h)}function At(h){Dt(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Lt(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Wt(h,_){try{var A=h.j;if(A.I!=0&&(A.g==h||yt(A.h,h))){if(!h.L&&yt(A.h,h)&&A.I==3){try{var q=A.Ba.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ue=q;if(ue[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)C(A),vo(A);else break e;Hs(A),Ke(18)}}else A.xa=ue[1],0<A.xa-A.K&&ue[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=qt(u(A.Va,A),6e3));Zn(A.h)<=1&&A.ta&&(A.ta=void 0)}else ae(A,11)}else if((h.L||A.g==h)&&C(A),!k(_))for(ue=A.Ba.g.parse(_),_=0;_<ue.length;_++){let Kt=ue[_];const Rn=Kt[0];if(!(Rn<=A.K))if(A.K=Rn,Kt=Kt[1],A.I==2)if(Kt[0]=="c"){A.M=Kt[1],A.ba=Kt[2];const Dr=Kt[3];Dr!=null&&(A.ka=Dr,A.j.info("VER="+A.ka));const li=Kt[4];li!=null&&(A.za=li,A.j.info("SVER="+A.za));const Ln=Kt[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(q=1.5*Ln,A.O=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const ui=h.g;if(ui){const Is=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var pe=q.h;pe.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(qn(pe,pe.h),pe.h=null))}if(q.G){const Qo=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(q.wa=Qo,Zt(q.J,q.G,Qo))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),q=A;var Me=h;if(q.na=Pe(q,q.L?q.ba:null,q.W),Me.L){zs(q.h,Me);var kt=Me,Cn=q.O;Cn&&(kt.H=Cn),kt.D&&(Dt(kt),Re(kt)),q.g=Me}else Wl(q);A.i.length>0&&wo(A)}else Kt[0]!="stop"&&Kt[0]!="close"||ae(A,7);else A.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?ae(A,7):yo(A):Kt[0]!="noop"&&A.l&&A.l.qa(Kt),A.A=0)}}gt(4)}catch{}}var cn=class{constructor(h,_){this.g=h,this.map=_}};function Fe(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jt(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zn(h){return h.h?1:h.g?h.g.size:0}function yt(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function qn(h,_){h.g?h.g.add(_):h.h=_}function zs(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Fe.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function go(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const A of h.g.values())_=_.concat(A.G);return _}return p(h.i)}var Na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Si(h,_){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const q=h[A].indexOf("=");let ue,pe=null;q>=0?(ue=h[A].substring(0,q),pe=h[A].substring(q+1)):ue=h[A],_(ue,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Lr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Lr?(this.l=h.l,wn(this,h.j),this.o=h.o,this.g=h.g,ji(this,h.u),this.h=h.h,ai(this,$s(h.i)),this.m=h.m):h&&(_=String(h).match(Na))?(this.l=!1,wn(this,_[1]||"",!0),this.o=mr(_[2]||""),this.g=mr(_[3]||"",!0),ji(this,_[4]),this.h=mr(_[5]||"",!0),ai(this,_[6]||"",!0),this.m=mr(_[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}Lr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(xn(_,Ta,!0),":");var A=this.g;return(A||_=="file")&&(h.push("//"),(_=this.o)&&h.push(xn(_,Ta,!0),"@"),h.push(Tn(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(xn(A,A.charAt(0)=="/"?Bl:ka,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",xn(A,er)),h.join("")},Lr.prototype.resolve=function(h){const _=oi(this);let A=!!h.j;A?wn(_,h.j):A=!!h.o,A?_.o=h.o:A=!!h.g,A?_.g=h.g:A=h.u!=null;var q=h.h;if(A)ji(_,h.u);else if(A=!!h.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ue=_.h.lastIndexOf("/");ue!=-1&&(q=_.h.slice(0,ue+1)+q)}if(ue=q,ue==".."||ue==".")q="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){q=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const pe=[];for(let Me=0;Me<ue.length;){const kt=ue[Me++];kt=="."?q&&Me==ue.length&&pe.push(""):kt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),q&&Me==ue.length&&pe.push("")):(pe.push(kt),q=!0)}q=pe.join("/")}else q=ue}return A?_.h=q:A=h.i.toString()!=="",A?ai(_,$s(h.i)):A=!!h.m,A&&(_.m=h.m),_};function oi(h){return new Lr(h)}function wn(h,_,A){h.j=A?mr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ji(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ai(h,_,A){_ instanceof Ar?(h.i=_,Ai(h.i,h.l)):(A||(_=xn(_,$t)),h.i=new Ar(_,h.l))}function Zt(h,_,A){h.i.set(_,A)}function xs(h){return Zt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function mr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xn(h,_,A){return typeof h=="string"?(h=encodeURI(h).replace(_,Zi),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zi(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ta=/[#\/\?@]/g,ka=/[#\?:]/g,Bl=/[#\?]/g,$t=/[#\?@]/g,er=/#/g;function Ar(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Si(h.i,function(_,A){h.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}t=Ar.prototype,t.add=function(h,_){Gn(this),this.i=null,h=es(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(_),this.h+=1,this};function $r(h,_){Gn(h),_=es(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function qs(h,_){return Gn(h),_=es(h,_),h.g.has(_)}t.forEach=function(h,_){Gn(this),this.g.forEach(function(A,q){A.forEach(function(ue){h.call(_,ue,q,this)},this)},this)};function Go(h,_){Gn(h);let A=[];if(typeof _=="string")qs(h,_)&&(A=A.concat(h.g.get(es(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)A=A.concat(h[_]);return A}t.set=function(h,_){return Gn(this),this.i=null,h=es(this,h),qs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Go(this,h),h.length>0?String(h[0]):_):_};function Ko(h,_,A){$r(h,_),A.length>0&&(h.i=null,h.g.set(es(h,_),p(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let q=0;q<_.length;q++){var A=_[q];const ue=Tn(A);A=Go(this,A);for(let pe=0;pe<A.length;pe++){let Me=ue;A[pe]!==""&&(Me+="="+Tn(A[pe])),h.push(Me)}}return this.i=h.join("&")};function $s(h){const _=new Ar;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function es(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ai(h,_){_&&!h.j&&(Gn(h),h.i=null,h.g.forEach(function(A,q){const ue=q.toLowerCase();q!=ue&&($r(this,q),Ko(this,ue,A))},h)),h.j=_}function zl(h,_){const A=new Jn;if(o.Image){const q=new Image;q.onload=f(Vi,A,"TestLoadImage: loaded",!0,_,q),q.onerror=f(Vi,A,"TestLoadImage: error",!1,_,q),q.onabort=f(Vi,A,"TestLoadImage: abort",!1,_,q),q.ontimeout=f(Vi,A,"TestLoadImage: timeout",!1,_,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=h}else _(!1)}function ts(h,_){const A=new Jn,q=new AbortController,ue=setTimeout(()=>{q.abort(),Vi(A,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:q.signal}).then(pe=>{clearTimeout(ue),pe.ok?Vi(A,"TestPingServer: ok",!0,_):Vi(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ue),Vi(A,"TestPingServer: error",!1,_)})}function Vi(h,_,A,q,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),q(A)}catch{}}function ph(){this.g=new Tt}function xt(h){this.i=h.Sb||null,this.h=h.ab||!1}g(xt,We),xt.prototype.g=function(){return new Pa(this.i,this.h)};function Pa(h,_){Ie.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Pa,Ie),t=Pa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ei(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||o).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Yo(this):Ei(this),this.readyState==3&&Bu(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Yo(this))},t.Na=function(h){this.g&&(this.response=h,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ei(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=_.next();return h.join(`\r
`)};function Ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ss(h){let _="";return le(h,function(A,q){_+=q,_+=":",_+=A,_+=`\r
`}),_}function ql(h,_,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=Ss(A),typeof h=="string"?A!=null&&Tn(A):Zt(h,_,A))}function kn(h){Ie.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(kn,Ie);var Ca=/^https?$/i,$l=["POST","PUT"];t=kn.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zr.g(),this.g.onreadystatechange=y(u(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(pe){mo(this,pe);return}if(h=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ue in q)A.set(ue,q[ue]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const pe of q.keys())A.set(pe,q.get(pe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),ue=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call($l,_,void 0)>=0)||q||ue||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Me]of A)this.g.setRequestHeader(pe,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(pe){mo(this,pe)}};function mo(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,zu(h),Ra(h)}function zu(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,He(this,"complete"),He(this,"abort"),Ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ra(this,!0)),kn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},t.Xa=function(){As(this)};function As(h){if(h.h&&typeof s<"u"){if(h.v&&Ui(h)==4)setTimeout(h.Ca.bind(h),0);else if(He(h,"readystatechange"),Ui(h)==4){h.h=!1;try{const pe=h.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var q;if(q=pe===0){let Me=String(h.D).match(Na)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),q=!Ca.test(Me?Me.toLowerCase():"")}A=q}if(A)He(h,"complete"),He(h,"success");else{h.o=6;try{var ue=Ui(h)>2?h.g.statusText:""}catch{ue=""}h.l=ue+" ["+h.ca()+"]",zu(h)}}finally{Ra(h)}}}}function Ra(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,_||He(h,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ui(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),et(_)}};function La(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qu(h){const _={};h=(h.g&&Ui(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<h.length;q++){if(k(h[q]))continue;var A=or(h[q]);const ue=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=_[ue]||[];_[ue]=pe,pe.push(A)}we(_,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||_}function Da(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Fe(h&&h.concurrentRequestLimit),this.Ba=new ph,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Da.prototype,t.ka=8,t.I=1,t.connect=function(h,_,A,q){Ke(0),this.W=h,this.H=_||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.J=Pe(this,null,this.W),wo(this)};function yo(h){if(_o(h),h.I==3){var _=h.V++,A=oi(h.J);if(Zt(A,"SID",h.M),Zt(A,"RID",_),Zt(A,"TYPE","terminate"),Ni(h,A),_=new Rr(h,h.j,_),_.M=2,_.A=xs(oi(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(_.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=_.A,A=!0),A||(_.g=Ye(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Re(_)}Se(h)}function vo(h){h.g&&(Oa(h),h.g.cancel(),h.g=null)}function _o(h){vo(h),h.v&&(o.clearTimeout(h.v),h.v=null),C(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function wo(h){if(!jt(h.h)&&!h.m){h.m=!0;var _=h.Ea;Z||N(),ie||(Z(),ie=!0),F.add(_,h),h.D=0}}function $u(h,_){return Zn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=qt(u(h.Ea,h,_),ee(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const ue=new Rr(this,this.j,h);let pe=this.o;if(this.U&&(pe?(pe=_e(pe),W(pe,this.U)):pe=this.U),this.u!==null||this.R||(ue.J=pe,pe=null),this.S)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,_>4096){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=Es(this,ue,_),A=oi(this.J),Zt(A,"RID",h),Zt(A,"CVER",22),this.G&&Zt(A,"X-HTTP-Session-Id",this.G),Ni(this,A),pe&&(this.R?_="headers="+Tn(Ss(pe))+"&"+_:this.u&&ql(A,this.u,pe)),qn(this.h,ue),this.Ra&&Zt(A,"TYPE","init"),this.S?(Zt(A,"$req",_),Zt(A,"SID","null"),ue.U=!0,qr(ue,A,null)):qr(ue,A,_),this.I=2}}else this.I==3&&(h?Hl(this,h):this.i.length==0||jt(this.h)||Hl(this))};function Hl(h,_){var A;_?A=_.l:A=h.V++;const q=oi(h.J);Zt(q,"SID",h.M),Zt(q,"RID",A),Zt(q,"AID",h.K),Ni(h,q),h.u&&h.o&&ql(q,h.u,h.o),A=new Rr(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Es(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),qn(h.h,A),qr(A,q,_)}function Ni(h,_){h.H&&le(h.H,function(A,q){Zt(_,q,A)}),h.l&&le({},function(A,q){Zt(_,q,A)})}function Es(h,_,A){A=Math.min(h.i.length,A);const q=h.l?u(h.l.Ka,h.l,h):null;e:{var ue=h.i;let kt=-1;for(;;){const Cn=["count="+A];kt==-1?A>0?(kt=ue[0].g,Cn.push("ofs="+kt)):kt=0:Cn.push("ofs="+kt);let Kt=!0;for(let Rn=0;Rn<A;Rn++){var pe=ue[Rn].g;const Dr=ue[Rn].map;if(pe-=kt,pe<0)kt=Math.max(0,ue[Rn].g-100),Kt=!1;else try{pe="req"+pe+"_"||"";try{var Me=Dr instanceof Map?Dr:Object.entries(Dr);for(const[li,Ln]of Me){let ui=Ln;a(Ln)&&(ui=Ut(Ln)),Cn.push(pe+li+"="+encodeURIComponent(ui))}}catch(li){throw Cn.push(pe+"type="+encodeURIComponent("_badmap")),li}}catch{q&&q(Dr)}}if(Kt){Me=Cn.join("&");break e}}Me=void 0}return h=h.i.splice(0,A),_.G=h,Me}function Wl(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;Z||N(),ie||(Z(),ie=!0),F.add(_,h),h.A=0}}function Hs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=qt(u(h.Da,h),ee(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,m(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=qt(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),vo(this),m(this))};function Oa(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function m(h){h.g=new Rr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=oi(h.na);Zt(_,"RID","rpc"),Zt(_,"SID",h.M),Zt(_,"AID",h.K),Zt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Zt(_,"TO",h.ia),Zt(_,"TYPE","xmlhttp"),Ni(h,_),h.u&&h.o&&ql(_,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=xs(oi(_)),A.u=null,A.R=!0,Sr(A,h)}t.Va=function(){this.C!=null&&(this.C=null,vo(this),Hs(this),Ke(19))};function C(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function G(h,_){var A=null;if(h.g==_){C(h),Oa(h),h.g=null;var q=2}else if(yt(h.h,_))A=_.G,zs(h.h,_),q=1;else return;if(h.I!=0){if(_.o)if(q==1){A=_.u?_.u.length:0,_=Date.now()-_.F;var ue=h.D;q=on(),He(q,new lt(q,A)),wo(h)}else Wl(h);else if(ue=_.m,ue==3||ue==0&&_.X>0||!(q==1&&$u(h,_)||q==2&&Hs(h)))switch(A&&A.length>0&&(_=h.h,_.i=_.i.concat(A)),ue){case 1:ae(h,5);break;case 4:ae(h,10);break;case 3:ae(h,6);break;default:ae(h,2)}}}function ee(h,_){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*_}function ae(h,_){if(h.j.info("Error code "+_),_==2){var A=u(h.bb,h),q=h.Ua;const ue=!q;q=new Lr(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wn(q,"https"),xs(q),ue?zl(q.toString(),A):ts(q.toString(),A)}else Ke(2);h.I=0,h.l&&h.l.pa(_),Se(h),_o(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Se(h){if(h.I=0,h.ja=[],h.l){const _=go(h.h);(_.length!=0||h.i.length!=0)&&(I(h.ja,_),I(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function Pe(h,_,A){var q=A instanceof Lr?oi(A):new Lr(A);if(q.g!="")_&&(q.g=_+"."+q.g),ji(q,q.u);else{var ue=o.location;q=ue.protocol,_=_?_+"."+ue.hostname:ue.hostname,ue=+ue.port;const pe=new Lr(null);q&&wn(pe,q),_&&(pe.g=_),ue&&ji(pe,ue),A&&(pe.h=A),q=pe}return A=h.G,_=h.wa,A&&_&&Zt(q,A,_),Zt(q,"VER",h.ka),Ni(h,q),q}function Ye(h,_,A){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new kn(new xt({ab:A})):new kn(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nt(){}t=nt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _t(){}_t.prototype.g=function(h,_){return new pt(h,_)};function pt(h,_){Ie.call(this),this.g=new Da(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!k(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Sn(this)}g(pt,Ie),pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){yo(this.g)},pt.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=Ut(h),h=A);_.i.push(new cn(_.Ya++,h)),_.I==3&&wo(_)},pt.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,pt.Z.N.call(this)};function Gt(h){Je.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const A in _){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}g(Gt,Je);function Pn(){Pt.call(this),this.status=1}g(Pn,Pt);function Sn(h){this.g=h}g(Sn,nt),Sn.prototype.ra=function(){He(this.g,"a")},Sn.prototype.qa=function(h){He(this.g,new Gt(h))},Sn.prototype.pa=function(h){He(this.g,new Pn)},Sn.prototype.oa=function(){He(this.g,"b")},_t.prototype.createWebChannel=_t.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,oE=function(){return new _t},sE=function(){return on()},iE=nn,w2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Mp=Ur,Br.COMPLETE="complete",rE=Br,Nn.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,Wh=Nn,kn.prototype.listenOnce=kn.prototype.K,kn.prototype.getLastError=kn.prototype.Ha,kn.prototype.getLastErrorCode=kn.prototype.ya,kn.prototype.getStatus=kn.prototype.ca,kn.prototype.getResponseJson=kn.prototype.La,kn.prototype.getResponseText=kn.prototype.la,kn.prototype.send=kn.prototype.ea,kn.prototype.setWithCredentials=kn.prototype.Fa,nE=kn}).apply(typeof ip<"u"?ip:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Jw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new f0("@firebase/firestore");function ec(){return Eu.logLevel}function Ge(t,...e){if(Eu.logLevel<=Yt.DEBUG){const n=e.map(gv);Eu.debug(`Firestore (${oh}): ${t}`,...n)}}function Sa(t,...e){if(Eu.logLevel<=Yt.ERROR){const n=e.map(gv);Eu.error(`Firestore (${oh}): ${t}`,...n)}}function Hc(t,...e){if(Eu.logLevel<=Yt.WARN){const n=e.map(gv);Eu.warn(`Firestore (${oh}): ${t}`,...n)}}function gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aE(t,r,n)}function aE(t,e,n){let r=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sa(r),new Error(r)}function dn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||aE(e,i,r)}function Mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends ho{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vi.UNAUTHENTICATED))}shutdown(){}}class $7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H7{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ma,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ma)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dn(typeof r.accessToken=="string",31837,{l:r}),new lE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string",2055,{h:e}),new vi(e)}}class W7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new W7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,to(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Y7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function b2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return D1(i)===D1(s)?Qt(i,s):D1(i)?1:-1}return Qt(t.length,e.length)}const Q7=55296,X7=57343;function D1(t){const e=t.charCodeAt(0);return e>=Q7&&e<=X7}function Wc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__name__";class ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&St(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&St(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ko.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Qt(e.length,n.length)}static compareSegments(e,n){const r=ko.isNumericId(e),i=ko.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ko.extractNumericId(e).compare(ko.extractNumericId(n)):b2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xl.fromString(e.substring(4,e.length-2))}}class On extends ko{construct(e,n,r){return new On(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new On(n)}static emptyPath(){return new On([])}}const J7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends ko{construct(e,n,r){return new Xr(e,n,r)}static isValidIdentifier(e){return J7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eb}static keyField(){return new Xr([eb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $e(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $e(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $e(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(n)}static emptyPath(){return new Xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(On.fromString(e))}static fromName(e){return new vt(On.fromString(e).popFirst(5))}static empty(){return new vt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return On.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new On(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e,n){if(!n)throw new $e(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z7(t,e,n,r){if(e===!0&&r===!0)throw new $e(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tb(t){if(!vt.isDocumentKey(t))throw new $e(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nb(t){if(vt.isDocumentKey(t))throw new $e(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function v0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St(12329,{type:typeof t})}function Pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v0(t);throw new $e(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e){const n={typeString:t};return e&&(n.value=e),n}function cd(t,e){if(!cE(t))throw new $e(Te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $e(Te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-62135596800,ib=1e6;class Un{static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ib);return new Un(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rb)throw new $e(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ib}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,Un._jsonSchema))return new Un(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Un._jsonSchemaVersion="firestore/timestamp/1.0",Un._jsonSchema={type:wr("string",Un._jsonSchemaVersion),seconds:wr("number"),nanoseconds:wr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Un(0,0))}static max(){return new Rt(new Un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=-1;function eD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(r===1e9?new Un(n+1,0):new Un(n,r));return new Cl(i,vt.empty(),e)}function tD(t){return new Cl(t.readTime,t.key,Vf)}class Cl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cl(Rt.min(),vt.empty(),Vf)}static max(){return new Cl(Rt.max(),vt.empty(),Vf)}}function nD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==rD)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new ke((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function sD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-1;function w0(t){return t==null}function Pg(t){return t===0&&1/t==-1/0}function oD(t){return typeof t=="number"&&Number.isInteger(t)&&!Pg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="";function aD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sb(e)),e=lD(t.get(n),e);return sb(e)}function lD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case hE:n+="";break;default:n+=s}}return n}function sb(t){return t+hE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Du(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){this.comparator=e,this.root=n||Qr.EMPTY}insert(e,n){return new Xn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qr.RED,this.left=i??Qr.EMPTY,this.right=s??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ab(this.data.getIterator())}getIteratorFrom(e){return new ab(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cr(this.comparator);return n.data=e,n}}class ab{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new ro([])}unionWith(e){let n=new Cr(Xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dE("Invalid base64 string: "+s):s}}(e);return new ti(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ti.EMPTY_BYTE_STRING=new ti("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(t){if(dn(!!t,39018),typeof t=="string"){let e=0;const n=uD.exec(t);if(dn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(t.seconds),nanos:hr(t.nanos)}}function hr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ll(t){return typeof t=="string"?ti.fromBase64String(t):ti.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="server_timestamp",gE="__type__",mE="__previous_value__",yE="__local_write_time__";function vv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gE])==null?void 0:r.stringValue)===pE}function b0(t){const e=t.mapValue.fields[mE];return vv(e)?b0(e):e}function Uf(t){const e=Rl(t.mapValue.fields[yE].timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,i,s,o,a,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Cg="(default)";class Bf{constructor(e,n){this.projectId=e,this.database=n||Cg}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database===Cg}isEqual(e){return e instanceof Bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__type__",_E="__max__",op={mapValue:{fields:{__type__:{stringValue:_E}}}},wE="__vector__",Rg="value";function Dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:fD(t)?9007199254740991:hD(t)?10:11:St(28295,{value:t})}function Ho(t,e){if(t===e)return!0;const n=Dl(t);if(n!==Dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uf(t).isEqual(Uf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Rl(i.timestampValue),a=Rl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ll(i.bytesValue).isEqual(Ll(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return hr(i.geoPointValue.latitude)===hr(s.geoPointValue.latitude)&&hr(i.geoPointValue.longitude)===hr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return hr(i.integerValue)===hr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=hr(i.doubleValue),a=hr(s.doubleValue);return o===a?Pg(o)===Pg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wc(t.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ob(o)!==ob(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ho(o[l],a[l])))return!1;return!0}(t,e);default:return St(52216,{left:t})}}function zf(t,e){return(t.values||[]).find(n=>Ho(n,e))!==void 0}function Gc(t,e){if(t===e)return 0;const n=Dl(t),r=Dl(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=hr(s.integerValue||s.doubleValue),l=hr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return lb(t.timestampValue,e.timestampValue);case 4:return lb(Uf(t),Uf(e));case 5:return b2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ll(s),l=Ll(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Qt(a[u],l[u]);if(f!==0)return f}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qt(hr(s.latitude),hr(o.latitude));return a!==0?a:Qt(hr(s.longitude),hr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ub(t.arrayValue,e.arrayValue);case 10:return function(s,o){var y,p,I,S;const a=s.fields||{},l=o.fields||{},u=(y=a[Rg])==null?void 0:y.arrayValue,f=(p=l[Rg])==null?void 0:p.arrayValue,g=Qt(((I=u==null?void 0:u.values)==null?void 0:I.length)||0,((S=f==null?void 0:f.values)==null?void 0:S.length)||0);return g!==0?g:ub(u,f)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===op.mapValue&&o===op.mapValue)return 0;if(s===op.mapValue)return 1;if(o===op.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){const y=b2(l[g],f[g]);if(y!==0)return y;const p=Gc(a[l[g]],u[f[g]]);if(p!==0)return p}return Qt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw St(23264,{he:n})}}function lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=Rl(t),r=Rl(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function ub(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Gc(n[i],r[i]);if(s)return s}return Qt(n.length,r.length)}function Kc(t){return x2(t)}function x2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Rl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ll(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=x2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${x2(n.fields[o])}`;return i+"}"}(t.mapValue):St(61005,{value:t})}function Fp(t){switch(Dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=b0(t);return e?16+Fp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ll(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Fp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Du(r.fields,(s,o)=>{i+=s.length+Fp(o)}),i}(t.mapValue);default:throw St(13486,{value:t})}}function cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function S2(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function hb(t){return!!t&&"nullValue"in t}function fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jp(t){return!!t&&"mapValue"in t}function hD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vE])==null?void 0:r.stringValue)===wE}function cf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Du(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cf(t.arrayValue.values[n]);return e}return{...t}}function fD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_E}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cf(n)}setAll(e){let n=Xr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Du(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ls(cf(this.value))}}function bE(t){const e=[];return Du(t.fields,(n,r)=>{const i=new Xr([n]);if(jp(r)){const s=bE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ro(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wi(e,0,Rt.min(),Rt.min(),Rt.min(),Ls.empty(),0)}static newFoundDocument(e,n,r,i){return new wi(e,1,n,Rt.min(),r,i,0)}static newNoDocument(e,n){return new wi(e,2,n,Rt.min(),Rt.min(),Ls.empty(),0)}static newUnknownDocument(e,n){return new wi(e,3,n,Rt.min(),Rt.min(),Ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.position=e,this.inclusive=n}}function db(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=vt.comparator(vt.fromName(o.referenceValue),n.key):r=Gc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ho(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function dD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{}class _r extends xE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gD(e,n,r):n==="array-contains"?new vD(e,r):n==="in"?new _D(e,r):n==="not-in"?new wD(e,r):n==="array-contains-any"?new bD(e,r):new _r(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mD(e,r):new yD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gc(n,this.value)):n!==null&&Dl(this.value)===Dl(n)&&this.matchesComparison(Gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class uo extends xE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new uo(e,n)}matches(e){return SE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(t){return t.op==="and"}function AE(t){return pD(t)&&SE(t)}function pD(t){for(const e of t.filters)if(e instanceof uo)return!1;return!0}function A2(t){if(t instanceof _r)return t.field.canonicalString()+t.op.toString()+Kc(t.value);if(AE(t))return t.filters.map(e=>A2(e)).join(",");{const e=t.filters.map(n=>A2(n)).join(",");return`${t.op}(${e})`}}function EE(t,e){return t instanceof _r?function(r,i){return i instanceof _r&&r.op===i.op&&r.field.isEqual(i.field)&&Ho(r.value,i.value)}(t,e):t instanceof uo?function(r,i){return i instanceof uo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&EE(o,i.filters[a]),!0):!1}(t,e):void St(19439)}function IE(t){return t instanceof _r?function(n){return`${n.field.canonicalString()} ${n.op} ${Kc(n.value)}`}(t):t instanceof uo?function(n){return n.op.toString()+" {"+n.getFilters().map(IE).join(" ,")+"}"}(t):"Filter"}class gD extends _r{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class mD extends _r{constructor(e,n){super(e,"in",n),this.keys=NE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yD extends _r{constructor(e,n){super(e,"not-in",n),this.keys=NE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class vD extends _r{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&zf(n.arrayValue,this.value)}}class _D extends _r{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zf(this.value.arrayValue,n)}}class wD extends _r{constructor(e,n){super(e,"not-in",n)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zf(this.value.arrayValue,n)}}class bD extends _r{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function gb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xD(t,e,n,r,i,s,o)}function wv(t){const e=Mt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),w0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kc(r)).join(",")),e.Te=n}return e.Te}function bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pb(t.startAt,e.startAt)&&pb(t.endAt,e.endAt)}function E2(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SD(t,e,n,r,i,s,o,a){return new uh(t,e,n,r,i,s,o,a)}function xv(t){return new uh(t)}function mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TE(t){return t.collectionGroup!==null}function hf(t){const e=Mt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Cr(Xr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new qf(s,r))}),n.has(Xr.keyField().canonicalString())||e.Ie.push(new qf(Xr.keyField(),r))}return e.Ie}function Mo(t){const e=Mt(t);return e.Ee||(e.Ee=AD(e,hf(t))),e.Ee}function AD(t,e){if(t.limitType==="F")return gb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qf(i.field,s)});const n=t.endAt?new Lg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lg(t.startAt.position,t.startAt.inclusive):null;return gb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function I2(t,e){const n=t.filters.concat([e]);return new uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function N2(t,e,n){return new uh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function x0(t,e){return bv(Mo(t),Mo(e))&&t.limitType===e.limitType}function kE(t){return`${wv(Mo(t))}|lt:${t.limitType}`}function tc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IE(i)).join(", ")}]`),w0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Kc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Kc(i)).join(",")),`Target(${r})`}(Mo(t))}; limitType=${t.limitType})`}function S0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):vt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=db(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,hf(r),i)||r.endAt&&!function(o,a,l){const u=db(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,hf(r),i))}(t,e)}function ED(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PE(t){return(e,n)=>{let r=!1;for(const i of hf(t)){const s=ID(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ID(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Gc(l,u):St(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Du(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Xn(vt.comparator);function Aa(){return ND}const CE=new Xn(vt.comparator);function Gh(...t){let e=CE;for(const n of t)e=e.insert(n.key,n);return e}function RE(t){let e=CE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lu(){return ff()}function LE(){return ff()}function ff(){return new Ou(t=>t.toString(),(t,e)=>t.isEqual(e))}const TD=new Xn(vt.comparator),kD=new Cr(vt.comparator);function Xt(...t){let e=kD;for(const n of t)e=e.add(n);return e}const PD=new Cr(Qt);function CD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(e)?"-0":e}}function DE(t){return{integerValue:""+t}}function RD(t,e){return oD(e)?DE(e):Sv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this._=void 0}}function LD(t,e,n){return t instanceof $f?function(i,s){const o={fields:{[gE]:{stringValue:pE},[yE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vv(s)&&(s=b0(s)),s&&(o.fields[mE]=s),{mapValue:o}}(n,e):t instanceof Hf?ME(t,e):t instanceof Wf?FE(t,e):function(i,s){const o=OE(i,s),a=yb(o)+yb(i.Ae);return S2(o)&&S2(i.Ae)?DE(a):Sv(i.serializer,a)}(t,e)}function DD(t,e,n){return t instanceof Hf?ME(t,e):t instanceof Wf?FE(t,e):n}function OE(t,e){return t instanceof Dg?function(r){return S2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $f extends A0{}class Hf extends A0{constructor(e){super(),this.elements=e}}function ME(t,e){const n=jE(e);for(const r of t.elements)n.some(i=>Ho(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wf extends A0{constructor(e){super(),this.elements=e}}function FE(t,e){let n=jE(e);for(const r of t.elements)n=n.filter(i=>!Ho(i,r));return{arrayValue:{values:n}}}class Dg extends A0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yb(t){return hr(t.integerValue||t.doubleValue)}function jE(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.field=e,this.transform=n}}function MD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hf&&i instanceof Hf||r instanceof Wf&&i instanceof Wf?Wc(r.elements,i.elements,Ho):r instanceof Dg&&i instanceof Dg?Ho(r.Ae,i.Ae):r instanceof $f&&i instanceof $f}(t.transform,e.transform)}class FD{constructor(e,n){this.version=e,this.transformResults=n}}class Fo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fo}static exists(e){return new Fo(void 0,e)}static updateTime(e){return new Fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class E0{}function VE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BE(t.key,Fo.none()):new hd(t.key,t.data,Fo.none());{const n=t.data,r=Ls.empty();let i=new Cr(Xr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mu(t.key,r,new ro(i.toArray()),Fo.none())}}function jD(t,e,n){t instanceof hd?function(i,s,o){const a=i.value.clone(),l=_b(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mu?function(i,s,o){if(!Vp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_b(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(UE(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function df(t,e,n,r){return t instanceof hd?function(s,o,a,l){if(!Vp(s.precondition,o))return a;const u=s.value.clone(),f=wb(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mu?function(s,o,a,l){if(!Vp(s.precondition,o))return a;const u=wb(s.fieldTransforms,l,o),f=o.data;return f.setAll(UE(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Vp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OE(r.transform,i||null);s!=null&&(n===null&&(n=Ls.empty()),n.set(r.field,s))}return n||null}function vb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wc(r,i,(s,o)=>MD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hd extends E0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mu extends E0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function UE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _b(t,e,n){const r=new Map;dn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DD(o,a,n[i]))}return r}function wb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LD(s,o,e))}return r}class BE extends E0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UD extends E0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=df(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=df(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=VE(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(n,r)=>vb(n,r))&&Wc(this.baseMutations,e.baseMutations,(n,r)=>vb(n,r))}}class Av{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return TD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Av(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,sn;function $D(t){switch(t){case Te.OK:return St(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return St(15467,{code:t})}}function zE(t){if(t===void 0)return Sa("GRPC error has no .code"),Te.UNKNOWN;switch(t){case yr.OK:return Te.OK;case yr.CANCELLED:return Te.CANCELLED;case yr.UNKNOWN:return Te.UNKNOWN;case yr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case yr.INTERNAL:return Te.INTERNAL;case yr.UNAVAILABLE:return Te.UNAVAILABLE;case yr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case yr.NOT_FOUND:return Te.NOT_FOUND;case yr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case yr.ABORTED:return Te.ABORTED;case yr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case yr.DATA_LOSS:return Te.DATA_LOSS;default:return St(39323,{code:t})}}(sn=yr||(yr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new xl([4294967295,4294967295],0);function bb(t){const e=HD().encode(t),n=new tE;return n.update(e),new Uint8Array(n.digest())}function xb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xl([n,r],0),new xl([i,s],0)]}class Ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kh(`Invalid padding: ${n}`);if(r<0)throw new Kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xl.fromNumber(r)));return i.compare(WD)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bb(e),[r,i]=xb(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ev(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=bb(e),[r,i]=xb(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new I0(Rt.min(),i,new Xn(Qt),Aa(),Xt())}}class fd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fd(r,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class qE{constructor(e,n){this.targetId=e,this.Ce=n}}class $E{constructor(e,n,r=ti.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Sb{constructor(){this.ve=0,this.Fe=Ab(),this.Me=ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xt(),n=Xt(),r=Xt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:St(38017,{changeType:s})}}),new fd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ab()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Aa(),this.Je=ap(),this.He=ap(),this.Ye=new Xn(Qt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(E2(s))if(r===0){const o=new vt(s.path);this.et(n,o,wi.newNoDocument(o,Rt.min()))}else dn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ll(r).toUint8Array()}catch(l){if(l instanceof dE)return Hc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ev(o,i,s)}catch(l){return Hc(l instanceof Kh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&E2(a.target)){const l=new vt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,wi.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Xt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new I0(e,n,this.Ye,this.je,r);return this.je=Aa(),this.Je=ap(),this.He=ap(),this.Ye=new Xn(Qt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Sb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Cr(Qt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Cr(Qt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ap(){return new Xn(vt.comparator)}function Ab(){return new Xn(vt.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},YD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QD={and:"AND",or:"OR"};class XD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T2(t,e){return t.useProto3Json||w0(e)?e:{value:e}}function Og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JD(t,e){return Og(t,e.toTimestamp())}function jo(t){return dn(!!t,49232),Rt.fromTimestamp(function(n){const r=Rl(n);return new Un(r.seconds,r.nanos)}(t))}function Iv(t,e){return k2(t,e).canonicalString()}function k2(t,e){const n=function(i){return new On(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WE(t){const e=On.fromString(t);return dn(XE(e),10190,{key:e.toString()}),e}function P2(t,e){return Iv(t.databaseId,e.path)}function O1(t,e){const n=WE(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(KE(n))}function GE(t,e){return Iv(t.databaseId,e)}function ZD(t){const e=WE(t);return e.length===4?On.emptyPath():KE(e)}function C2(t){return new On(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KE(t){return dn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Eb(t,e,n){return{name:P2(t,e),fields:n.value.mapValue.fields}}function e9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(dn(f===void 0||typeof f=="string",58123),ti.fromBase64String(f||"")):(dn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ti.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?Te.UNKNOWN:zE(u.code);return new $e(f,u.message||"")}(o);n=new $E(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=O1(t,r.document.name),s=jo(r.document.updateTime),o=r.document.createTime?jo(r.document.createTime):Rt.min(),a=new Ls({mapValue:{fields:r.document.fields}}),l=wi.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Up(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=O1(t,r.document),s=r.readTime?jo(r.readTime):Rt.min(),o=wi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Up([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=O1(t,r.document),s=r.removedTargetIds||[];n=new Up([],s,i,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qD(i,s),a=r.targetId;n=new qE(a,o)}}return n}function t9(t,e){let n;if(e instanceof hd)n={update:Eb(t,e.key,e.value)};else if(e instanceof BE)n={delete:P2(t,e.key)};else if(e instanceof Mu)n={update:Eb(t,e.key,e.data),updateMask:c9(e.fieldMask)};else{if(!(e instanceof UD))return St(16599,{Vt:e.type});n={verify:P2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $f)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dg)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw St(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:JD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:St(27497)}(t,e.precondition)),n}function n9(t,e){return t&&t.length>0?(dn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?jo(i.updateTime):jo(s);return o.isEqual(Rt.min())&&(o=jo(s)),new FD(o,i.transformResults||[])}(n,e))):[]}function r9(t,e){return{documents:[GE(t,e.path)]}}function i9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GE(t,i);const s=function(u){if(u.length!==0)return QE(uo.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(y){return{field:nc(y.field),direction:a9(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=T2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function s9(t){let e=ZD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const y=YE(g);return y instanceof uo&&AE(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(I){return new qf(rc(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(g){let y;return y=typeof g=="object"?g.value:g,w0(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(g){const y=!!g.before,p=g.values||[];return new Lg(p,y)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const y=!g.before,p=g.values||[];return new Lg(p,y)}(n.endAt)),SD(e,i,o,s,a,"F",l,u)}function o9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rc(n.unaryFilter.field);return _r.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rc(n.unaryFilter.field);return _r.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rc(n.unaryFilter.field);return _r.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rc(n.unaryFilter.field);return _r.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(t):t.fieldFilter!==void 0?function(n){return _r.create(rc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return uo.create(n.compositeFilter.filters.map(r=>YE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(n.compositeFilter.op))}(t):St(30097,{filter:t})}function a9(t){return KD[t]}function l9(t){return YD[t]}function u9(t){return QD[t]}function nc(t){return{fieldPath:t.canonicalString()}}function rc(t){return Xr.fromServerFormat(t.fieldPath)}function QE(t){return t instanceof _r?function(n){if(n.op==="=="){if(fb(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NAN"}};if(hb(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fb(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NOT_NAN"}};if(hb(n.value))return{unaryFilter:{field:nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(n.field),op:l9(n.op),value:n.value}}}(t):t instanceof uo?function(n){const r=n.getFilters().map(i=>QE(i));return r.length===1?r[0]:{compositeFilter:{op:u9(n.op),filters:r}}}(t):St(54877,{filter:t})}function c9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r,i,s=Rt.min(),o=Rt.min(),a=ti.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ul(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.yt=e}}function f9(t){const e=s9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?N2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.Cn=new p9}addToCollectionParentIndex(e,n){return this.Cn.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Cl.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Cl.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class p9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Cr(On.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cr(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class qi{static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(JE,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yc(0)}static cr(){return new Yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="LruGarbageCollector",g9=1048576;function Tb([t,e],[n,r]){const i=Qt(t,n);return i===0?Qt(e,r):i}class m9{constructor(e){this.Ir=e,this.buffer=new Cr(Tb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(Nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lh(n)?Ge(Nb,"Ignoring IndexedDB error during garbage collection: ",n):await ah(n)}await this.Vr(3e5)})}}class v9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ke.resolve(_0.ce);const r=new m9(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(Ib)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ib):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),ec()<=Yt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function _9(t,e){return new v9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.changes=new Ou(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&df(r.mutation,i,ro.empty(),Un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=lu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=lu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Aa();const o=ff(),a=function(){return ff()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Mu)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),df(f.mutation,u,f.mutation.getFieldMask(),Un.now())):o.set(u.key,ro.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>a.set(u,new b9(f,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ff();let i=new Xn((o,a)=>o-a),s=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||ro.empty();f=a.applyToLocalView(u,f),r.set(l,f);const g=(i.get(a.batchId)||Xt()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,g=LE();f.forEach(y=>{if(!s.has(y)){const p=VE(n.get(y),r.get(y));p!==null&&g.set(y,p),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return vt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(lu());let a=Vf,l=s;return o.next(u=>ke.forEach(u,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?ke.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Xt())).next(f=>({batchId:a,changes:RE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=Gh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gh();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,l=>{const u=function(g,y){return new uh(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,wi.newInvalidDocument(f)))});let a=Gh();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&df(f.mutation,u,ro.empty(),Un.now()),S0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ke.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jo(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:f9(i.bundledQuery),readTime:jo(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.overlays=new Xn(vt.comparator),this.qr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lu();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=lu(),s=n.length+1,o=new vt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xn((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=lu(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=lu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ke.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zD(n,r));let s=this.qr.get(n);s===void 0&&(s=Xt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.sessionToken=ti.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.Qr=new Cr(Mr.$r),this.Ur=new Cr(Mr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new vt(new On([])),r=new Mr(n,e),i=new Mr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new vt(new On([])),r=new Mr(n,e),i=new Mr(n,e+1);let s=Xt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Mr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return vt.comparator(e.key,n.key)||Qt(e.Yr,n.Yr)}static Kr(e,n){return Qt(e.Yr,n.Yr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Cr(Mr.$r)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?yv:this.tr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mr(n,0),i=new Mr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cr(Qt);return n.forEach(i=>{const s=new Mr(i,0),o=new Mr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;vt.isDocumentKey(s)||(s=s.child(""));const o=new Mr(new vt(s),0);let a=new Cr(Qt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),ke.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ke.forEach(n.mutations,i=>{const s=new Mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mr(n,0),i=this.Zr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.ri=e,this.docs=function(){return new Xn(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():wi.newInvalidDocument(n))}getEntries(e,n){let r=Aa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wi.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Aa();const o=n.path,a=new vt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nD(tD(f),r)<=0||(i.has(f.key)||S0(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){St(9500)}ii(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T9(this)}getSize(e){return ke.resolve(this.size)}}class T9 extends w9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.persistence=e,this.si=new Ou(n=>wv(n),bv),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nv,this.targetCount=0,this.ai=Yc.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ke.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Pr(n),ke.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.ui={},this.overlays={},this.ci=new _0(0),this.li=!1,this.li=!0,this.hi=new E9,this.referenceDelegate=e(this),this.Pi=new k9(this),this.indexManager=new d9,this.remoteDocumentCache=function(i){return new N9(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new h9(n),this.Ii=new S9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new I9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new P9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return ke.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class P9 extends iD{constructor(e){super(),this.currentSequenceNumber=e}}class Tv{constructor(e){this.persistence=e,this.Ri=new Nv,this.Vi=null}static mi(e){return new Tv(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,r=>{const i=vt.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Rt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ke.or([()=>ke.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mg{constructor(e,n){this.persistence=e,this.pi=new Ou(r=>aD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_9(this,n)}static mi(e,n){return new Mg(e,n)}Ei(){}di(e){return ke.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ke.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ke.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Rt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fp(e.data.value)),n}br(e,n,r){return ke.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Xt(),i=Xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZP()?8:sD(xi())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new C9;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ec()<=Yt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",tc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(ec()<=Yt.DEBUG&&Ge("QueryEngine","Query:",tc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ec()<=Yt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",tc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mo(n))):ke.resolve())}ys(e,n){if(mb(n))return ke.resolve(null);let r=Mo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=N2(n,null,"F"),r=Mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Xt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,N2(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return mb(n)||i.isEqual(Rt.min())?ke.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?ke.resolve(null):(ec()<=Yt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tc(n)),this.vs(e,o,n,eD(i,Vf)).next(a=>a))})}Ds(e,n){let r=new Cr(PE(e));return n.forEach((i,s)=>{S0(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ec()<=Yt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",tc(n)),this.ps.getDocumentsMatchingQuery(e,n,Cl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LocalStore",L9=3e8;class D9{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Xn(Qt),this.xs=new Ou(s=>wv(s),bv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function O9(t,e,n,r){return new D9(t,e,n,r)}async function e6(t,e){const n=Mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Xt();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function M9(t,e){const n=Mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const g=u.batch,y=g.keys();let p=ke.resolve();return y.forEach(I=>{p=p.next(()=>f.getEntry(l,I)).next(S=>{const O=u.docVersions.get(I);dn(O!==null,48541),S.version.compareTo(O)<0&&(g.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),f.addEntry(S)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function t6(t){const e=Mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function F9(t,e){const n=Mt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((f,g)=>{const y=i.get(g);if(!y)return;a.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,g)));let p=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?p=p.withResumeToken(ti.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(g,p),function(S,O,x){return S.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=L9?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(y,p,f)&&a.push(n.Pi.updateTargetData(s,p))});let l=Aa(),u=Xt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(j9(s,o,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!r.isEqual(Rt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function j9(t,e,n){let r=Xt(),i=Xt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Aa();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Rt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ge(Pv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function V9(t,e){const n=Mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U9(t,e){const n=Mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new ul(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function R2(t,e,n){const r=Mt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lh(o))throw o;Ge(Pv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function kb(t,e,n){const r=Mt(t);let i=Rt.min(),s=Xt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const g=Mt(l),y=g.xs.get(f);return y!==void 0?ke.resolve(g.Ms.get(y)):g.Pi.getTargetData(u,f)}(r,o,Mo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Rt.min(),n?s:Xt())).next(a=>(B9(r,ED(e),a),{documents:a,Qs:s})))}function B9(t,e,n){let r=t.Os.get(e)||Rt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Pb{constructor(){this.activeTargetIds=CD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z9{constructor(){this.Mo=new Pb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="ConnectivityMonitor";class Rb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(Cb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(Cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp=null;function L2(){return lp===null?lp=function(){return 268435456+Math.round(2147483648*Math.random())}():lp++,"0x"+lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="RestConnection",$9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Cg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=L2(),a=this.zo(e,n.toUriEncodedString());Ge(M1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),f=rh(u);return this.Jo(e,a,l,r,f).then(g=>(Ge(M1,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Hc(M1,`RPC '${e}' ${o} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=$9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="WebChannelConnection";class G9 extends H9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=L2();return new Promise((a,l)=>{const u=new nE;u.setWithCredentials(!0),u.listenOnce(rE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Mp.NO_ERROR:const g=u.getResponseJson();Ge(di,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),a(g);break;case Mp.TIMEOUT:Ge(di,`RPC '${e}' ${o} timed out`),l(new $e(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const y=u.getStatus();if(Ge(di,`RPC '${e}' ${o} failed with status:`,y,"response text:",u.getResponseText()),y>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const I=p==null?void 0:p.error;if(I&&I.status&&I.message){const S=function(x){const P=x.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(P)>=0?P:Te.UNKNOWN}(I.status);l(new $e(S,I.message))}else l(new $e(Te.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $e(Te.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ge(di,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);Ge(di,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=L2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oE(),a=sE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Ge(di,`Creating RPC '${e}' stream ${i}: ${f}`,l);const g=o.createWebChannel(f,l);this.I_(g);let y=!1,p=!1;const I=new W9({Yo:O=>{p?Ge(di,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(y||(Ge(di,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),Ge(di,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Zo:()=>g.close()}),S=(O,x,P)=>{O.listen(x,L=>{try{P(L)}catch(U){setTimeout(()=>{throw U},0)}})};return S(g,Wh.EventType.OPEN,()=>{p||(Ge(di,`RPC '${e}' stream ${i} transport opened.`),I.o_())}),S(g,Wh.EventType.CLOSE,()=>{p||(p=!0,Ge(di,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(g))}),S(g,Wh.EventType.ERROR,O=>{p||(p=!0,Hc(di,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),I.a_(new $e(Te.UNAVAILABLE,"The operation could not be completed")))}),S(g,Wh.EventType.MESSAGE,O=>{var x;if(!p){const P=O.data[0];dn(!!P,16349);const L=P,U=(L==null?void 0:L.error)||((x=L[0])==null?void 0:x.error);if(U){Ge(di,`RPC '${e}' stream ${i} received error:`,U);const Z=U.status;let ie=function(E){const D=yr[E];if(D!==void 0)return zE(D)}(Z),F=U.message;ie===void 0&&(ie=Te.INTERNAL,F="Unknown error status: "+Z+" with message "+U.message),p=!0,I.a_(new $e(ie,F)),g.close()}else Ge(di,`RPC '${e}' stream ${i} received:`,P),I.u_(P)}}),S(a,iE.STAT_EVENT,O=>{O.stat===w2.PROXY?Ge(di,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===w2.NOPROXY&&Ge(di,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function F1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){return new XD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="PersistentStream";class r6{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(Sa(n.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $e(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ge(Lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ge(Lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K9 extends r6{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=e9(this.serializer,e),r=function(s){if(!("targetChange"in s))return Rt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?jo(o.readTime):Rt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=C2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=E2(l)?{documents:r9(s,l)}:{query:i9(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=HE(s,o.resumeToken);const u=T2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Rt.min())>0){a.readTime=Og(s,o.snapshotVersion.toTimestamp());const u=T2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=o9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=C2(this.serializer),n.removeTarget=e,this.q_(n)}}class Y9 extends r6{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=n9(e.writeResults,e.commitTime),r=jo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=C2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{}class X9 extends Q9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $e(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,k2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(Te.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,k2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Te.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class J9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sa(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="RemoteStore";class Z9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Fu(this)&&(Ge(Iu,"Restarting streams for network reachability change."),await async function(l){const u=Mt(l);u.Ea.add(4),await dd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await T0(u)}(this))})}),this.Ra=new J9(r,i)}}async function T0(t){if(Fu(t))for(const e of t.da)await e(!0)}async function dd(t){for(const e of t.da)await e(!1)}function i6(t,e){const n=Mt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dv(n)?Lv(n):ch(n).O_()&&Rv(n,e))}function Cv(t,e){const n=Mt(t),r=ch(n);n.Ia.delete(e),r.O_()&&s6(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fu(n)&&n.Ra.set("Unknown"))}function Rv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ch(t).Y_(e)}function s6(t,e){t.Va.Ue(e),ch(t).Z_(e)}function Lv(t){t.Va=new GD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ch(t).start(),t.Ra.ua()}function Dv(t){return Fu(t)&&!ch(t).x_()&&t.Ia.size>0}function Fu(t){return Mt(t).Ea.size===0}function o6(t){t.Va=void 0}async function eO(t){t.Ra.set("Online")}async function tO(t){t.Ia.forEach((e,n)=>{Rv(t,e)})}async function nO(t,e){o6(t),Dv(t)?(t.Ra.ha(e),Lv(t)):t.Ra.set("Unknown")}async function rO(t,e,n){if(t.Ra.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Ge(Iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fg(t,r)}else if(e instanceof Up?t.Va.Ze(e):e instanceof qE?t.Va.st(e):t.Va.tt(e),!n.isEqual(Rt.min()))try{const r=await t6(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(ti.EMPTY_BYTE_STRING,f.snapshotVersion)),s6(s,l);const g=new ul(f.target,l,u,f.sequenceNumber);Rv(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ge(Iu,"Failed to raise snapshot:",r),await Fg(t,r)}}async function Fg(t,e,n){if(!lh(e))throw e;t.Ea.add(1),await dd(t),t.Ra.set("Offline"),n||(n=()=>t6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ge(Iu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await T0(t)})}function a6(t,e){return e().catch(n=>Fg(t,n,e))}async function k0(t){const e=Mt(t),n=Ol(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yv;for(;iO(e);)try{const i=await V9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,sO(e,i)}catch(i){await Fg(e,i)}l6(e)&&u6(e)}function iO(t){return Fu(t)&&t.Ta.length<10}function sO(t,e){t.Ta.push(e);const n=Ol(t);n.O_()&&n.X_&&n.ea(e.mutations)}function l6(t){return Fu(t)&&!Ol(t).x_()&&t.Ta.length>0}function u6(t){Ol(t).start()}async function oO(t){Ol(t).ra()}async function aO(t){const e=Ol(t);for(const n of t.Ta)e.ea(n.mutations)}async function lO(t,e,n){const r=t.Ta.shift(),i=Av.from(r,e,n);await a6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await k0(t)}async function uO(t,e){e&&Ol(t).X_&&await async function(r,i){if(function(o){return $D(o)&&o!==Te.ABORTED}(i.code)){const s=r.Ta.shift();Ol(r).B_(),await a6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await k0(r)}}(t,e),l6(t)&&u6(t)}async function Db(t,e){const n=Mt(t);n.asyncQueue.verifyOperationInProgress(),Ge(Iu,"RemoteStore received new credentials");const r=Fu(n);n.Ea.add(3),await dd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await T0(n)}async function cO(t,e){const n=Mt(t);e?(n.Ea.delete(2),await T0(n)):e||(n.Ea.add(2),await dd(n),n.Ra.set("Unknown"))}function ch(t){return t.ma||(t.ma=function(n,r,i){const s=Mt(n);return s.sa(),new K9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:eO.bind(null,t),t_:tO.bind(null,t),r_:nO.bind(null,t),H_:rO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Dv(t)?Lv(t):t.Ra.set("Unknown")):(await t.ma.stop(),o6(t))})),t.ma}function Ol(t){return t.fa||(t.fa=function(n,r,i){const s=Mt(n);return s.sa(),new Y9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:oO.bind(null,t),r_:uO.bind(null,t),ta:aO.bind(null,t),na:lO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await k0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ge(Iu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ov(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(Sa("AsyncQueue",`${e}: ${t}`),lh(t))return new $e(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{static emptySet(e){return new kc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=Gh(),this.sortedSet=new Xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.ga=new Xn(vt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qc(e,n,kc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class fO{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Mt(n),s=i.queries;i.queries=Mb(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new $e(Te.ABORTED,"Firestore shutting down"))}}function Mb(){return new Ou(t=>kE(t),x0)}async function c6(t,e){const n=Mt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new hO,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Mv(o,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Fv(n)}async function h6(t,e){const n=Mt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dO(t,e){const n=Mt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Fv(n)}function pO(t,e,n){const r=Mt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Fv(t){t.Ca.forEach(e=>{e.next()})}var D2,Fb;(Fb=D2||(D2={})).Ma="default",Fb.Cache="cache";class f6{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==D2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.key=e}}class p6{constructor(e){this.key=e}}class gO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=PE(e),this.tu=new kc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ob,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const y=i.get(f),p=S0(this.query,g)?g:null,I=!!y&&this.mutatedKeys.has(y.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let O=!1;y&&p?y.data.isEqual(p.data)?I!==S&&(r.track({type:3,doc:p}),O=!0):this.su(y,p)||(r.track({type:2,doc:p}),O=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!y&&p?(r.track({type:0,doc:p}),O=!0):y&&!p&&(r.track({type:1,doc:y}),O=!0,(l||u)&&(a=!0)),O&&(p?(o=o.add(p),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,g)=>function(p,I){const S=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:O})}};return S(p)-S(I)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Qc(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ob,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new p6(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new d6(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Xt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jv="SyncEngine";class mO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yO{constructor(e){this.key=e,this.hu=!1}}class vO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ou(a=>kE(a),x0),this.Iu=new Map,this.Eu=new Set,this.du=new Xn(vt.comparator),this.Au=new Map,this.Ru=new Nv,this.Vu={},this.mu=new Map,this.fu=Yc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _O(t,e,n=!0){const r=w6(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await g6(r,e,n,!0),i}async function wO(t,e){const n=w6(t);await g6(n,e,!0,!1)}async function g6(t,e,n,r){const i=await U9(t.localStore,Mo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await bO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&i6(t.remoteStore,i),a}async function bO(t,e,n,r,i){t.pu=(g,y,p)=>async function(S,O,x,P){let L=O.view.ru(x);L.Cs&&(L=await kb(S.localStore,O.query,!1).then(({documents:F})=>O.view.ru(F,L)));const U=P&&P.targetChanges.get(O.targetId),Z=P&&P.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges(L,S.isPrimaryClient,U,Z);return Vb(S,O.targetId,ie.au),ie.snapshot}(t,g,y,p);const s=await kb(t.localStore,e,!0),o=new gO(e,s.Qs),a=o.ru(s.documents),l=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Vb(t,n,u.au);const f=new mO(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function xO(t,e,n){const r=Mt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!x0(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await R2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cv(r.remoteStore,i.targetId),O2(r,i.targetId)}).catch(ah)):(O2(r,i.targetId),await R2(r.localStore,i.targetId,!0))}async function SO(t,e){const n=Mt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cv(n.remoteStore,r.targetId))}async function AO(t,e,n){const r=CO(t);try{const i=await function(o,a){const l=Mt(o),u=Un.now(),f=a.reduce((p,I)=>p.add(I.key),Xt());let g,y;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let I=Aa(),S=Xt();return l.Ns.getEntries(p,f).next(O=>{I=O,I.forEach((x,P)=>{P.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,I)).next(O=>{g=O;const x=[];for(const P of a){const L=VD(P,g.get(P.key).overlayedDocument);L!=null&&x.push(new Mu(P.key,L,bE(L.value.mapValue),Fo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,a)}).next(O=>{y=O;const x=O.applyToLocalDocumentSet(g,S);return l.documentOverlayCache.saveOverlays(p,O.batchId,x)})}).then(()=>({batchId:y.batchId,changes:RE(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Xn(Qt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await pd(r,i.changes),await k0(r.remoteStore)}catch(i){const s=Mv(i,"Failed to persist write");n.reject(s)}}async function m6(t,e){const n=Mt(t);try{const r=await F9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?dn(o.hu,14607):i.removedDocuments.size>0&&(dn(o.hu,42227),o.hu=!1))}),await pd(n,r,e)}catch(r){await ah(r)}}function jb(t,e,n){const r=Mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Mt(o);l.onlineState=a;let u=!1;l.queries.forEach((f,g)=>{for(const y of g.Sa)y.va(a)&&(u=!0)}),u&&Fv(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EO(t,e,n){const r=Mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Xn(vt.comparator);o=o.insert(s,wi.newNoDocument(s,Rt.min()));const a=Xt().add(s),l=new I0(Rt.min(),new Map,new Xn(Qt),o,a);await m6(r,l),r.du=r.du.remove(s),r.Au.delete(e),Vv(r)}else await R2(r.localStore,e,!1).then(()=>O2(r,e,n)).catch(ah)}async function IO(t,e){const n=Mt(t),r=e.batch.batchId;try{const i=await M9(n.localStore,e);v6(n,r,null),y6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pd(n,i)}catch(i){await ah(i)}}async function NO(t,e,n){const r=Mt(t);try{const i=await function(o,a){const l=Mt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(dn(g!==null,37113),f=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);v6(r,e,n),y6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pd(r,i)}catch(i){await ah(i)}}function y6(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function v6(t,e,n){const r=Mt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function O2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||_6(t,r)})}function _6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vv(t))}function Vb(t,e,n){for(const r of n)r instanceof d6?(t.Ru.addReference(r.key,e),TO(t,r)):r instanceof p6?(Ge(jv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_6(t,r.key)):St(19791,{wu:r})}function TO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ge(jv,"New document in limbo: "+n),t.Eu.add(r),Vv(t))}function Vv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new vt(On.fromString(e)),r=t.fu.next();t.Au.set(r,new yO(n)),t.du=t.du.insert(n,r),i6(t.remoteStore,new ul(Mo(xv(n.path)),r,"TargetPurposeLimboResolution",_0.ce))}}async function pd(t,e,n){const r=Mt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){i.push(u);const g=kv.As(l.targetId,u);s.push(g)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const f=Mt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ke.forEach(u,y=>ke.forEach(y.Es,p=>f.persistence.referenceDelegate.addReference(g,y.targetId,p)).next(()=>ke.forEach(y.ds,p=>f.persistence.referenceDelegate.removeReference(g,y.targetId,p)))))}catch(g){if(!lh(g))throw g;Ge(Pv,"Failed to update sequence numbers: "+g)}for(const g of u){const y=g.targetId;if(!g.fromCache){const p=f.Ms.get(y),I=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(I);f.Ms=f.Ms.insert(y,S)}}}(r.localStore,s))}async function kO(t,e){const n=Mt(t);if(!n.currentUser.isEqual(e)){Ge(jv,"User change. New user:",e.toKey());const r=await e6(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new $e(Te.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(n,r.Ls)}}function PO(t,e){const n=Mt(t),r=n.Au.get(e);if(r&&r.hu)return Xt().add(r.key);{let i=Xt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function w6(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.Pu.H_=dO.bind(null,e.eventManager),e.Pu.yu=pO.bind(null,e.eventManager),e}function CO(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NO.bind(null,e),e}class jg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O9(this.persistence,new R9,e.initialUser,this.serializer)}Cu(e){return new ZE(Tv.mi,this.serializer)}Du(e){return new z9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jg.provider={build:()=>new jg};class RO extends jg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dn(this.persistence.referenceDelegate instanceof Mg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new ZE(r=>Mg.mi(r,n),this.serializer)}}class M2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),await cO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fO}()}createDatastore(e){const n=N0(e.databaseInfo.databaseId),r=function(s){return new G9(s)}(e.databaseInfo);return function(s,o,a,l){return new X9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Z9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jb(this.syncEngine,n,0),function(){return Rb.v()?new Rb:new q9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const g=new vO(i,s,o,a,l,u);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Mt(i);Ge(Iu,"RemoteStore shutting down."),s.Ea.add(5),await dd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}M2.provider={build:()=>new M2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="FirestoreClient";class LO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vi.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ge(Ml,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(Ml,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function j1(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(Ml,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await e6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ub(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DO(t);Ge(Ml,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Db(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Db(e.remoteStore,i)),t._onlineComponents=e}async function DO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(Ml,"Using user provided OfflineComponentProvider");try{await j1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hc("Error using user provided cache. Falling back to memory cache: "+n),await j1(t,new jg)}}else Ge(Ml,"Using default OfflineComponentProvider"),await j1(t,new RO(void 0));return t._offlineComponents}async function x6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(Ml,"Using user provided OnlineComponentProvider"),await Ub(t,t._uninitializedComponentsProvider._online)):(Ge(Ml,"Using default OnlineComponentProvider"),await Ub(t,new M2))),t._onlineComponents}function OO(t){return x6(t).then(e=>e.syncEngine)}async function S6(t){const e=await x6(t),n=e.eventManager;return n.onListen=_O.bind(null,e.syncEngine),n.onUnlisten=xO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),n}function MO(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new b6({next:y=>{f.Nu(),o.enqueueAndForget(()=>h6(s,g));const p=y.docs.has(a);!p&&y.fromCache?u.reject(new $e(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&y.fromCache&&l&&l.source==="server"?u.reject(new $e(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),g=new f6(xv(a.path),f,{includeMetadataChanges:!0,qa:!0});return c6(s,g)}(await S6(t),t.asyncQueue,e,n,r)),r.promise}function FO(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new b6({next:y=>{f.Nu(),o.enqueueAndForget(()=>h6(s,g)),y.fromCache&&l.source==="server"?u.reject(new $e(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),g=new f6(a,f,{includeMetadataChanges:!0,qa:!0});return c6(s,g)}(await S6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="firestore.googleapis.com",zb=!0;class qb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E6,this.ssl=zb}else this.host=e.host,this.ssl=e.ssl??zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g9)throw new $e(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A6(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $e(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q7;switch(r.type){case"firstParty":return new G7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bb.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),Bb.delete(n),r.terminate())}(this),Promise.resolve()}}function jO(t,e,n,r={}){var u;t=Pl(t,P0);const i=rh(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(GS(`https://${a}`),KS("Firestore",!0)),s.host!==E6&&s.host!==a&&Hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!kl(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=vi.MOCK_USER;else{f=HP(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $e(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vi(y)}t._authCredentials=new $7(new lE(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}toJSON(){return{type:br._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cd(n,br._jsonSchema))return new br(e,r||null,new vt(On.fromString(n.referencePath)))}}br._jsonSchemaVersion="firestore/documentReference/1.0",br._jsonSchema={type:wr("string",br._jsonSchemaVersion),referencePath:wr("string")};class Sl extends ju{constructor(e,n,r){super(e,n,xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new vt(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function up(t,e,...n){if(t=ei(t),uE("collection","path",e),t instanceof P0){const r=On.fromString(e,...n);return nb(r),new Sl(t,null,r)}{if(!(t instanceof br||t instanceof Sl))throw new $e(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return nb(r),new Sl(t.firestore,null,r)}}function Js(t,e,...n){if(t=ei(t),arguments.length===1&&(e=mv.newId()),uE("doc","path",e),t instanceof P0){const r=On.fromString(e,...n);return tb(r),new br(t,null,new vt(r))}{if(!(t instanceof br||t instanceof Sl))throw new $e(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return tb(r),new br(t.firestore,t instanceof Sl?t.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="AsyncQueue";class Hb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n6(this,"async_queue_retry"),this._c=()=>{const r=F1();r&&Ge($b,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=F1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=F1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ma;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lh(e))throw e;Ge($b,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sa("INTERNAL UNHANDLED ERROR: ",Wb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ov.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&St(47125,{Pc:Wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Wb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gd extends P0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hb(e),this._firestoreClient=void 0,await e}}}function VO(t,e){const n=typeof t=="object"?t:Jy(),r=typeof t=="string"?t:Cg,i=Lu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qP("firestore");s&&jO(i,...s)}return i}function Uv(t){if(t._terminated)throw new $e(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UO(t),t._firestoreClient}function UO(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,f){return new cD(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,A6(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new LO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(ti.fromBase64String(e))}catch(n){throw new $e(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ds(ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,Ds._jsonSchema))return Ds.fromBase64String(e.bytes)}}Ds._jsonSchemaVersion="firestore/bytes/1.0",Ds._jsonSchema={type:wr("string",Ds._jsonSchemaVersion),bytes:wr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vo._jsonSchemaVersion}}static fromJSON(e){if(cd(e,Vo._jsonSchema))return new Vo(e.latitude,e.longitude)}}Vo._jsonSchemaVersion="firestore/geoPoint/1.0",Vo._jsonSchema={type:wr("string",Vo._jsonSchemaVersion),latitude:wr("number"),longitude:wr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,Uo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Uo(e.vectorValues);throw new $e(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Uo._jsonSchemaVersion="firestore/vectorValue/1.0",Uo._jsonSchema={type:wr("string",Uo._jsonSchemaVersion),vectorValues:wr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^__.*__$/;class zO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mu(e,this.data,this.fieldMask,n,this.fieldTransforms):new hd(e,this.data,n,this.fieldTransforms)}}function I6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:t})}}class qv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I6(this.Ac)&&BO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||N0(e)}Cc(e,n,r,i=!1){return new qv({Ac:e,methodName:n,Dc:r,path:Xr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $v(t){const e=t._freezeSettings(),n=N0(t._databaseId);return new qO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N6(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);P6("Data must be an object, but it was:",o,r);const a=T6(r,o);let l,u;if(s.merge)l=new ro(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const y=HO(e,g,n);if(!o.contains(y))throw new $e(Te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);GO(f,y)||f.push(y)}l=new ro(f),u=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=o.fieldTransforms;return new zO(new Ls(a),l,u)}class Hv extends zv{_toFieldTransform(e){return new OD(e.path,new $f)}isEqual(e){return e instanceof Hv}}function $O(t,e,n,r=!1){return Wv(n,t.Cc(r?4:3,e))}function Wv(t,e){if(k6(t=ei(t)))return P6("Unsupported field value:",e,t),T6(t,e);if(t instanceof zv)return function(r,i){if(!I6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Wv(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Un.fromDate(r);return{timestampValue:Og(i.serializer,s)}}if(r instanceof Un){const s=new Un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Og(i.serializer,s)}}if(r instanceof Vo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ds)return{bytesValue:HE(i.serializer,r._byteString)};if(r instanceof br){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Iv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uo)return function(o,a){return{mapValue:{fields:{[vE]:{stringValue:wE},[Rg]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Sv(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${v0(r)}`)}(t,e)}function T6(t,e){const n={};return fE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Du(t,(r,i)=>{const s=Wv(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function k6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof Vo||t instanceof Ds||t instanceof br||t instanceof zv||t instanceof Uo)}function P6(t,e,n){if(!k6(n)||!cE(n)){const r=v0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function HO(t,e,n){if((e=ei(e))instanceof Bv)return e._internalPath;if(typeof e=="string")return C6(t,e);throw Vg("Field path arguments must be of type string or ",t,!1,void 0,n)}const WO=new RegExp("[~\\*/\\[\\]]");function C6(t,e,n){if(e.search(WO)>=0)throw Vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bv(...e.split("."))._internalPath}catch{throw Vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $e(Te.INVALID_ARGUMENT,a+t+l)}function GO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KO extends R6{data(){return super.data()}}function Gv(t,e){return typeof e=="string"?C6(t,e):e instanceof Bv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class L6 extends Kv{}function V1(t,e,...n){let r=[];e instanceof Kv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Qv).length,a=s.filter(l=>l instanceof Yv).length;if(o>1||o>0&&a>0)throw new $e(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yv extends L6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yv(e,n,r)}_apply(e){const n=this._parse(e);return D6(e._query,n),new ju(e.firestore,e.converter,I2(e._query,n))}_parse(e){const n=$v(e.firestore);return function(s,o,a,l,u,f,g){let y;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Yb(g,f);const I=[];for(const S of g)I.push(Kb(l,s,S));y={arrayValue:{values:I}}}else y=Kb(l,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Yb(g,f),y=$O(a,o,g,f==="in"||f==="not-in");return _r.create(u,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qv extends Kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:uo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)D6(o,l),o=I2(o,l)}(e._query,n),new ju(e.firestore,e.converter,I2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xv extends L6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qf(s,o)}(e._query,this._field,this._direction);return new ju(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new uh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Gb(t,e="asc"){const n=e,r=Gv("orderBy",t);return Xv._create(r,n)}function Kb(t,e,n){if(typeof(n=ei(n))=="string"){if(n==="")throw new $e(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(e)&&n.indexOf("/")!==-1)throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(On.fromString(n));if(!vt.isDocumentKey(r))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cb(t,new vt(r))}if(n instanceof br)return cb(t,n._key);throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v0(n)}.`)}function Yb(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $e(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QO{convertValue(e,n="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Du(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Rg].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>hr(o.doubleValue));return new Uo(n)}convertGeoPoint(e){return new Vo(hr(e.latitude),hr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=b0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uf(e));default:return null}}convertTimestamp(e){const n=Rl(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=On.fromString(e);dn(XE(r),9688,{name:e});const i=new Bf(r.get(1),r.get(3)),s=new vt(r.popFirst(5));return i.isEqual(n)||Sa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gu extends R6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gu._jsonSchemaVersion="firestore/documentSnapshot/1.0",gu._jsonSchema={type:wr("string",gu._jsonSchemaVersion),bundleSource:wr("string","DocumentSnapshot"),bundleName:wr("string"),bundle:wr("string")};class Bp extends gu{data(e={}){return super.data(e)}}class Pc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bp(this._firestore,this._userDataWriter,r.key,r,new Yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:XO(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){t=Pl(t,br);const e=Pl(t.firestore,gd);return MO(Uv(e),t._key).then(n=>ZO(e,t,n))}Pc._jsonSchemaVersion="firestore/querySnapshot/1.0",Pc._jsonSchema={type:wr("string",Pc._jsonSchemaVersion),bundleSource:wr("string","QuerySnapshot"),bundleName:wr("string"),bundle:wr("string")};class M6 extends QO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,n)}}function U1(t){t=Pl(t,ju);const e=Pl(t.firestore,gd),n=Uv(e),r=new M6(e);return YO(t._query),FO(n,t._query).then(i=>new Pc(e,r,t,i))}function Ug(t,e,n){t=Pl(t,br);const r=Pl(t.firestore,gd),i=O6(t.converter,e,n);return F6(r,[N6($v(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fo.none())])}function JO(t,e){const n=Pl(t.firestore,gd),r=Js(t),i=O6(t.converter,e);return F6(n,[N6($v(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fo.exists(!1))]).then(()=>r)}function F6(t,e){return function(r,i){const s=new ma;return r.asyncQueue.enqueueAndForget(async()=>AO(await OO(r),i,s)),s.promise}(Uv(t),e)}function ZO(t,e,n){const r=n.docs.get(e._key),i=new M6(t);return new gu(t,i,e._key,r,new Yh(n.hasPendingWrites,n.fromCache),e.converter)}function pf(){return new Hv("serverTimestamp")}(function(e,n=!0){(function(i){oh=i})(ih),qo(new lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gd(new H7(r.getProvider("auth-internal")),new K7(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $e(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(u.options.projectId,f)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),js(Xw,Jw,e),js(Xw,Jw,"esm2020")})();const eM={apiKey:"AIzaSyAKmov65RyCUPvvQU86_tIjRQeGQTchF3A",authDomain:"taximetro-a1014.firebaseapp.com",projectId:"taximetro-a1014",storageBucket:"taximetro-a1014.firebasestorage.app",messagingSenderId:"496806402421",appId:"1:496806402421:web:3795360104d3f040f55b3c",measurementId:"G-WF0JHFK64L"},Jv=tA(eM);FR(Jv);const $i=B7(Jv),To=VO(Jv),tM=new ua,nM="modulepreload",rM=function(t){return"/"+t},Qb={},B1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=rM(l),l in Qb)return;Qb[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":nM,u||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),u)return new Promise((y,p)=>{g.addEventListener("load",y),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function vn(t){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(t)}var co=Uint8Array,ps=Uint16Array,Zv=Int32Array,e5=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),t5=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xb=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j6=function(t,e){for(var n=new ps(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Zv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},V6=j6(e5,2),iM=V6.b,F2=V6.r;iM[28]=258,F2[258]=28;var sM=j6(t5,0),Jb=sM.r,j2=new ps(32768);for(var Bn=0;Bn<32768;++Bn){var Xa=(Bn&43690)>>1|(Bn&21845)<<1;Xa=(Xa&52428)>>2|(Xa&13107)<<2,Xa=(Xa&61680)>>4|(Xa&3855)<<4,j2[Bn]=((Xa&65280)>>8|(Xa&255)<<8)>>1}var gf=function(t,e,n){for(var r=t.length,i=0,s=new ps(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new ps(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ps(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],g=o[t[i]-1]++<<f,y=g|(1<<f)-1;g<=y;++g)a[j2[g]>>l]=u}else for(a=new ps(r),i=0;i<r;++i)t[i]&&(a[i]=j2[o[t[i]-1]++]>>15-t[i]);return a},Nu=new co(288);for(var Bn=0;Bn<144;++Bn)Nu[Bn]=8;for(var Bn=144;Bn<256;++Bn)Nu[Bn]=9;for(var Bn=256;Bn<280;++Bn)Nu[Bn]=7;for(var Bn=280;Bn<288;++Bn)Nu[Bn]=8;var Bg=new co(32);for(var Bn=0;Bn<32;++Bn)Bg[Bn]=5;var oM=gf(Nu,9,0),aM=gf(Bg,5,0),U6=function(t){return(t+7)/8|0},lM=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new co(t.subarray(e,n))},ra=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},jh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},z1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:z6,l:0};if(i==1){var o=new co(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Z,ie){return Z.f-ie.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,f=1,g=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[u].f<n[g].f?u++:g++],l=n[u!=f&&n[u].f<n[g].f?u++:g++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var p=new ps(y+1),I=V2(n[f-1],p,0);if(I>e){var r=0,S=0,O=I-e,x=1<<O;for(s.sort(function(ie,F){return p[F.s]-p[ie.s]||ie.f-F.f});r<i;++r){var P=s[r].s;if(p[P]>e)S+=x-(1<<I-p[P]),p[P]=e;else break}for(S>>=O;S>0;){var L=s[r].s;p[L]<e?S-=1<<e-p[L]++-1:++r}for(;r>=0&&S;--r){var U=s[r].s;p[U]==e&&(--p[U],++S)}I=e}return{t:new co(p),l:I}},V2=function(t,e,n){return t.s==-1?Math.max(V2(t.l,e,n+1),V2(t.r,e,n+1)):e[t.s]=n},Zb=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ps(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Vh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},B6=function(t,e,n){var r=n.length,i=U6(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},ex=function(t,e,n,r,i,s,o,a,l,u,f){ra(e,f++,n),++i[256];for(var g=z1(i,15),y=g.t,p=g.l,I=z1(s,15),S=I.t,O=I.l,x=Zb(y),P=x.c,L=x.n,U=Zb(S),Z=U.c,ie=U.n,F=new ps(19),N=0;N<P.length;++N)++F[P[N]&31];for(var N=0;N<Z.length;++N)++F[Z[N]&31];for(var E=z1(F,7),D=E.t,w=E.l,T=19;T>4&&!D[Xb[T-1]];--T);var k=u+5<<3,X=Vh(i,Nu)+Vh(s,Bg)+o,ce=Vh(i,y)+Vh(s,S)+o+14+3*T+Vh(F,D)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&k<=X&&k<=ce)return B6(e,f,t.subarray(l,l+u));var ge,ye,J,le;if(ra(e,f,1+(ce<X)),f+=2,ce<X){ge=gf(y,p,0),ye=y,J=gf(S,O,0),le=S;var we=gf(D,w,0);ra(e,f,L-257),ra(e,f+5,ie-1),ra(e,f+10,T-4),f+=14;for(var N=0;N<T;++N)ra(e,f+3*N,D[Xb[N]]);f+=3*T;for(var _e=[P,Z],j=0;j<2;++j)for(var W=_e[j],N=0;N<W.length;++N){var Q=W[N]&31;ra(e,f,we[Q]),f+=D[Q],Q>15&&(ra(e,f,W[N]>>5&127),f+=W[N]>>12)}}else ge=oM,ye=Nu,J=aM,le=Bg;for(var N=0;N<a;++N){var te=r[N];if(te>255){var Q=te>>18&31;jh(e,f,ge[Q+257]),f+=ye[Q+257],Q>7&&(ra(e,f,te>>23&31),f+=e5[Q]);var re=te&31;jh(e,f,J[re]),f+=le[re],re>3&&(jh(e,f,te>>5&8191),f+=t5[re])}else jh(e,f,ge[te]),f+=ye[te]}return jh(e,f,ge[256]),f+ye[256]},uM=new Zv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z6=new co(0),cM=function(t,e,n,r,i,s){var o=s.z||t.length,a=new co(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var g=uM[e-1],y=g>>13,p=g&8191,I=(1<<n)-1,S=s.p||new ps(32768),O=s.h||new ps(I+1),x=Math.ceil(n/3),P=2*x,L=function(ot){return(t[ot]^t[ot+1]<<x^t[ot+2]<<P)&I},U=new Zv(25e3),Z=new ps(288),ie=new ps(32),F=0,N=0,E=s.i||0,D=0,w=s.w||0,T=0;E+2<o;++E){var k=L(E),X=E&32767,ce=O[k];if(S[X]=ce,O[k]=X,w<=E){var ge=o-E;if((F>7e3||D>24576)&&(ge>423||!u)){f=ex(t,l,0,U,Z,ie,N,D,T,E-T,f),D=F=N=0,T=E;for(var ye=0;ye<286;++ye)Z[ye]=0;for(var ye=0;ye<30;++ye)ie[ye]=0}var J=2,le=0,we=p,_e=X-ce&32767;if(ge>2&&k==L(E-_e))for(var j=Math.min(y,ge)-1,W=Math.min(32767,E),Q=Math.min(258,ge);_e<=W&&--we&&X!=ce;){if(t[E+J]==t[E+J-_e]){for(var te=0;te<Q&&t[E+te]==t[E+te-_e];++te);if(te>J){if(J=te,le=_e,te>j)break;for(var re=Math.min(_e,te-2),oe=0,ye=0;ye<re;++ye){var me=E-_e+ye&32767,ve=S[me],Ee=me-ve&32767;Ee>oe&&(oe=Ee,ce=me)}}}X=ce,ce=S[X],_e+=X-ce&32767}if(le){U[D++]=268435456|F2[J]<<18|Jb[le];var Le=F2[J]&31,Be=Jb[le]&31;N+=e5[Le]+t5[Be],++Z[257+Le],++ie[Be],w=E+J,++F}else U[D++]=t[E],++Z[t[E]]}}for(E=Math.max(E,w);E<o;++E)U[D++]=t[E],++Z[t[E]];f=ex(t,l,u,U,Z,ie,N,D,T,E-T,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=O,s.p=S,s.i=E,s.w=w)}else{for(var E=s.w||0;E<o+u;E+=65535){var je=E+65535;je>=o&&(l[f/8|0]=u,je=o),f=B6(l,f+1,t.subarray(E,je))}s.i=o}return lM(a,0,r+U6(f)+i)},q6=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},hM=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new co(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return cM(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},$6=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},fM=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=q6();i.p(e.dictionary),$6(t,2,i.d())}};function U2(t,e){e||(e={});var n=q6();n.p(t);var r=hM(t,e,e.dictionary?6:2,4);return fM(r,e),$6(r,r.length-4,n.d()),r}var dM=typeof TextDecoder<"u"&&new TextDecoder,pM=0;try{dM.decode(z6,{stream:!0}),pM=1}catch{}function gM(t){if(Array.isArray(t))return t}function mM(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yM(t,e){if(t){if(typeof t=="string")return tx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tx(t,e):void 0}}function vM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nx(t,e){return gM(t)||mM(t,e)||yM(t,e)||vM()}function rx(t,e="utf8"){return new TextDecoder(e).decode(t)}const _M=new TextEncoder;function wM(t){return _M.encode(t)}const bM=1024*8,xM=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),q1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class n5{constructor(e=bM,n={}){yn(this,"buffer");yn(this,"byteLength");yn(this,"byteOffset");yn(this,"length");yn(this,"offset");yn(this,"lastWrittenByte");yn(this,"littleEndian");yn(this,"_data");yn(this,"_mark");yn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof n5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=q1[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===xM&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new q1[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new q1[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return rx(this.readBytes(e))}decodeText(e=1,n="utf8"){return rx(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(wM(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const SM=4,ix=0,sx=1,AM=2;function hh(t){let e=t.length;for(;--e>=0;)t[e]=0}const EM=0,H6=1,IM=2,NM=3,TM=258,r5=29,md=256,Gf=md+1+r5,Cc=30,i5=19,W6=2*Gf+1,uu=15,$1=16,kM=7,s5=256,G6=16,K6=17,Y6=18,B2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qp=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),PM=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Q6=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CM=512,aa=new Array((Gf+2)*2);hh(aa);const mf=new Array(Cc*2);hh(mf);const Kf=new Array(CM);hh(Kf);const Yf=new Array(TM-NM+1);hh(Yf);const o5=new Array(r5);hh(o5);const zg=new Array(Cc);hh(zg);function H1(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let X6,J6,Z6;function W1(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const eI=t=>t<256?Kf[t]:Kf[256+(t>>>7)],Qf=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Gi=(t,e,n)=>{t.bi_valid>$1-n?(t.bi_buf|=e<<t.bi_valid&65535,Qf(t,t.bi_buf),t.bi_buf=e>>$1-t.bi_valid,t.bi_valid+=n-$1):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Co=(t,e,n)=>{Gi(t,n[e*2],n[e*2+1])},tI=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},RM=t=>{t.bi_valid===16?(Qf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},LM=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,f,g,y,p,I,S=0;for(y=0;y<=uu;y++)t.bl_count[y]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<W6;u++)f=t.heap[u],y=n[n[f*2+1]*2+1]+1,y>l&&(y=l,S++),n[f*2+1]=y,!(f>r)&&(t.bl_count[y]++,p=0,f>=a&&(p=o[f-a]),I=n[f*2],t.opt_len+=I*(y+p),s&&(t.static_len+=I*(i[f*2+1]+p)));if(S!==0){do{for(y=l-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[l]--,S-=2}while(S>0);for(y=l;y!==0;y--)for(f=t.bl_count[y];f!==0;)g=t.heap[--u],!(g>r)&&(n[g*2+1]!==y&&(t.opt_len+=(y-n[g*2+1])*n[g*2],n[g*2+1]=y),f--)}},nI=(t,e,n)=>{const r=new Array(uu+1);let i=0,s,o;for(s=1;s<=uu;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=tI(r[a]++,a))}},DM=()=>{let t,e,n,r,i;const s=new Array(uu+1);for(n=0,r=0;r<r5-1;r++)for(o5[r]=n,t=0;t<1<<B2[r];t++)Yf[n++]=r;for(Yf[n-1]=r,i=0,r=0;r<16;r++)for(zg[r]=i,t=0;t<1<<qp[r];t++)Kf[i++]=r;for(i>>=7;r<Cc;r++)for(zg[r]=i<<7,t=0;t<1<<qp[r]-7;t++)Kf[256+i++]=r;for(e=0;e<=uu;e++)s[e]=0;for(t=0;t<=143;)aa[t*2+1]=8,t++,s[8]++;for(;t<=255;)aa[t*2+1]=9,t++,s[9]++;for(;t<=279;)aa[t*2+1]=7,t++,s[7]++;for(;t<=287;)aa[t*2+1]=8,t++,s[8]++;for(nI(aa,Gf+1,s),t=0;t<Cc;t++)mf[t*2+1]=5,mf[t*2]=tI(t,5);X6=new H1(aa,B2,md+1,Gf,uu),J6=new H1(mf,qp,0,Cc,uu),Z6=new H1(new Array(0),PM,0,i5,kM)},rI=t=>{let e;for(e=0;e<Gf;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Cc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<i5;e++)t.bl_tree[e*2]=0;t.dyn_ltree[s5*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},iI=t=>{t.bi_valid>8?Qf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ox=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},G1=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&ox(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!ox(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},ax=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?Co(t,i,e):(o=Yf[i],Co(t,o+md+1,e),a=B2[o],a!==0&&(i-=o5[o],Gi(t,i,a)),r--,o=eI(r),Co(t,o,n),a=qp[o],a!==0&&(r-=zg[o],Gi(t,r,a)));while(s<t.sym_next);Co(t,s5,e)},z2=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,u;for(t.heap_len=0,t.heap_max=W6,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)G1(t,n,o);u=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G1(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[u*2]=n[o*2]+n[a*2],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=u,t.heap[1]=u++,G1(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],LM(t,e),nI(n,l,t.bl_count)},lx=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<u?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[G6*2]++):a<=10?t.bl_tree[K6*2]++:t.bl_tree[Y6*2]++,a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4))},ux=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<u)do Co(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Co(t,s,t.bl_tree),a--),Co(t,G6,t.bl_tree),Gi(t,a-3,2)):a<=10?(Co(t,K6,t.bl_tree),Gi(t,a-3,3)):(Co(t,Y6,t.bl_tree),Gi(t,a-11,7));a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4)}},OM=t=>{let e;for(lx(t,t.dyn_ltree,t.l_desc.max_code),lx(t,t.dyn_dtree,t.d_desc.max_code),z2(t,t.bl_desc),e=i5-1;e>=3&&t.bl_tree[Q6[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},MM=(t,e,n,r)=>{let i;for(Gi(t,e-257,5),Gi(t,n-1,5),Gi(t,r-4,4),i=0;i<r;i++)Gi(t,t.bl_tree[Q6[i]*2+1],3);ux(t,t.dyn_ltree,e-1),ux(t,t.dyn_dtree,n-1)},FM=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return ix;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return sx;for(n=32;n<md;n++)if(t.dyn_ltree[n*2]!==0)return sx;return ix};let cx=!1;const jM=t=>{cx||(DM(),cx=!0),t.l_desc=new W1(t.dyn_ltree,X6),t.d_desc=new W1(t.dyn_dtree,J6),t.bl_desc=new W1(t.bl_tree,Z6),t.bi_buf=0,t.bi_valid=0,rI(t)},sI=(t,e,n,r)=>{Gi(t,(EM<<1)+(r?1:0),3),iI(t),Qf(t,n),Qf(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},VM=t=>{Gi(t,H6<<1,3),Co(t,s5,aa),RM(t)},UM=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===AM&&(t.strm.data_type=FM(t)),z2(t,t.l_desc),z2(t,t.d_desc),o=OM(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?sI(t,e,n,r):t.strategy===SM||s===i?(Gi(t,(H6<<1)+(r?1:0),3),ax(t,aa,mf)):(Gi(t,(IM<<1)+(r?1:0),3),MM(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),ax(t,t.dyn_ltree,t.dyn_dtree)),rI(t),r&&iI(t)},BM=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Yf[n]+md+1)*2]++,t.dyn_dtree[eI(e)*2]++),t.sym_next===t.sym_end);var zM=jM,qM=sI,$M=UM,HM=BM,WM=VM,GM={_tr_init:zM,_tr_stored_block:qM,_tr_flush_block:$M,_tr_tally:HM,_tr_align:WM};const KM=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Xf=KM;const YM=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},QM=new Uint32Array(YM()),XM=(t,e,n,r)=>{const i=QM,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Or=XM,Xc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:JM,_tr_stored_block:q2,_tr_flush_block:ZM,_tr_tally:Al,_tr_align:eF}=GM,{Z_NO_FLUSH:El,Z_PARTIAL_FLUSH:tF,Z_FULL_FLUSH:nF,Z_FINISH:Os,Z_BLOCK:hx,Z_OK:Yr,Z_STREAM_END:fx,Z_STREAM_ERROR:Bo,Z_DATA_ERROR:rF,Z_BUF_ERROR:K1,Z_DEFAULT_COMPRESSION:iF,Z_FILTERED:sF,Z_HUFFMAN_ONLY:cp,Z_RLE:oF,Z_FIXED:aF,Z_DEFAULT_STRATEGY:lF,Z_UNKNOWN:uF,Z_DEFLATED:C0}=yd,cF=9,hF=15,fF=8,dF=29,pF=256,$2=pF+1+dF,gF=30,mF=19,yF=2*$2+1,vF=15,tn=3,cl=258,zo=cl+tn+1,_F=32,Jc=42,a5=57,H2=69,W2=73,G2=91,K2=103,cu=113,Qh=666,Li=1,fh=2,Tu=3,dh=4,wF=3,hu=(t,e)=>(t.msg=Xc[e],e),dx=t=>t*2-(t>4?9:0),ol=t=>{let e=t.length;for(;--e>=0;)t[e]=0},bF=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let xF=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Il=xF;const hs=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},gs=(t,e)=>{ZM(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,hs(t.strm)},hn=(t,e)=>{t.pending_buf[t.pending++]=e},Uh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Y2=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Xf(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Or(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},oI=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-zo?t.strstart-(t.w_size-zo):0,u=t.window,f=t.w_mask,g=t.prev,y=t.strstart+cl;let p=u[r+o-1],I=u[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+o]!==I||u[i+o-1]!==p||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<y);if(s=cl-(y-r),r=y-cl,s>o){if(t.match_start=e,o=s,s>=a)break;p=u[r+o-1],I=u[r+o]}}while((e=g[e&f])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},Zc=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-zo)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),bF(t),r+=e),t.strm.avail_in===0)break;if(n=Y2(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=tn)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Il(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Il(t,t.ins_h,t.window[i+tn-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<tn)););}while(t.lookahead<zo&&t.strm.avail_in!==0)},aI=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==Os||e===El||r!==i+t.strm.avail_in)))break;o=e===Os&&r===i+t.strm.avail_in?1:0,q2(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,hs(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Y2(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?dh:e!==El&&e!==Os&&t.strm.avail_in===0&&t.strstart===t.block_start?fh:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(Y2(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===Os)&&e!==El&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Os&&t.strm.avail_in===0&&r===i?1:0,q2(t,t.block_start,r,o),t.block_start+=r,hs(t.strm)),o?Tu:Li)},Y1=(t,e)=>{let n,r;for(;;){if(t.lookahead<zo){if(Zc(t),t.lookahead<zo&&e===El)return Li;if(t.lookahead===0)break}if(n=0,t.lookahead>=tn&&(t.ins_h=Il(t,t.ins_h,t.window[t.strstart+tn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-zo&&(t.match_length=oI(t,n)),t.match_length>=tn)if(r=Al(t,t.strstart-t.match_start,t.match_length-tn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=tn){t.match_length--;do t.strstart++,t.ins_h=Il(t,t.ins_h,t.window[t.strstart+tn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Il(t,t.ins_h,t.window[t.strstart+1]);else r=Al(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(gs(t,!1),t.strm.avail_out===0))return Li}return t.insert=t.strstart<tn-1?t.strstart:tn-1,e===Os?(gs(t,!0),t.strm.avail_out===0?Tu:dh):t.sym_next&&(gs(t,!1),t.strm.avail_out===0)?Li:fh},Qu=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<zo){if(Zc(t),t.lookahead<zo&&e===El)return Li;if(t.lookahead===0)break}if(n=0,t.lookahead>=tn&&(t.ins_h=Il(t,t.ins_h,t.window[t.strstart+tn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=tn-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-zo&&(t.match_length=oI(t,n),t.match_length<=5&&(t.strategy===sF||t.match_length===tn&&t.strstart-t.match_start>4096)&&(t.match_length=tn-1)),t.prev_length>=tn&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-tn,r=Al(t,t.strstart-1-t.prev_match,t.prev_length-tn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Il(t,t.ins_h,t.window[t.strstart+tn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=tn-1,t.strstart++,r&&(gs(t,!1),t.strm.avail_out===0))return Li}else if(t.match_available){if(r=Al(t,0,t.window[t.strstart-1]),r&&gs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Li}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Al(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<tn-1?t.strstart:tn-1,e===Os?(gs(t,!0),t.strm.avail_out===0?Tu:dh):t.sym_next&&(gs(t,!1),t.strm.avail_out===0)?Li:fh},SF=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=cl){if(Zc(t),t.lookahead<=cl&&e===El)return Li;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=tn&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+cl;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=cl-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=tn?(n=Al(t,1,t.match_length-tn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Al(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(gs(t,!1),t.strm.avail_out===0))return Li}return t.insert=0,e===Os?(gs(t,!0),t.strm.avail_out===0?Tu:dh):t.sym_next&&(gs(t,!1),t.strm.avail_out===0)?Li:fh},AF=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Zc(t),t.lookahead===0)){if(e===El)return Li;break}if(t.match_length=0,n=Al(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(gs(t,!1),t.strm.avail_out===0))return Li}return t.insert=0,e===Os?(gs(t,!0),t.strm.avail_out===0?Tu:dh):t.sym_next&&(gs(t,!1),t.strm.avail_out===0)?Li:fh};function Eo(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Xh=[new Eo(0,0,0,0,aI),new Eo(4,4,8,4,Y1),new Eo(4,5,16,8,Y1),new Eo(4,6,32,32,Y1),new Eo(4,4,16,16,Qu),new Eo(8,16,32,32,Qu),new Eo(8,16,128,128,Qu),new Eo(8,32,128,256,Qu),new Eo(32,128,258,1024,Qu),new Eo(32,258,258,4096,Qu)],EF=t=>{t.window_size=2*t.w_size,ol(t.head),t.max_lazy_match=Xh[t.level].max_lazy,t.good_match=Xh[t.level].good_length,t.nice_match=Xh[t.level].nice_length,t.max_chain_length=Xh[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=tn-1,t.match_available=0,t.ins_h=0};function IF(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(yF*2),this.dyn_dtree=new Uint16Array((2*gF+1)*2),this.bl_tree=new Uint16Array((2*mF+1)*2),ol(this.dyn_ltree),ol(this.dyn_dtree),ol(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vF+1),this.heap=new Uint16Array(2*$2+1),ol(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*$2+1),ol(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Jc&&e.status!==a5&&e.status!==H2&&e.status!==W2&&e.status!==G2&&e.status!==K2&&e.status!==cu&&e.status!==Qh?1:0},lI=t=>{if(vd(t))return hu(t,Bo);t.total_in=t.total_out=0,t.data_type=uF;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?a5:e.wrap?Jc:cu,t.adler=e.wrap===2?0:1,e.last_flush=-2,JM(e),Yr},uI=t=>{const e=lI(t);return e===Yr&&EF(t.state),e},NF=(t,e)=>vd(t)||t.state.wrap!==2?Bo:(t.state.gzhead=e,Yr),cI=(t,e,n,r,i,s)=>{if(!t)return Bo;let o=1;if(e===iF&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>cF||n!==C0||r<8||r>15||e<0||e>9||s<0||s>aF||r===8&&o!==1)return hu(t,Bo);r===8&&(r=9);const a=new IF;return t.state=a,a.strm=t,a.status=Jc,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+tn-1)/tn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,uI(t)},TF=(t,e)=>cI(t,e,C0,hF,fF,lF),kF=(t,e)=>{if(vd(t)||e>hx||e<0)return t?hu(t,Bo):Bo;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Qh&&e!==Os)return hu(t,t.avail_out===0?K1:Bo);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(hs(t),t.avail_out===0)return n.last_flush=-1,Yr}else if(t.avail_in===0&&dx(e)<=dx(r)&&e!==Os)return hu(t,K1);if(n.status===Qh&&t.avail_in!==0)return hu(t,K1);if(n.status===Jc&&n.wrap===0&&(n.status=cu),n.status===Jc){let i=C0+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=cp||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=_F),i+=31-i%31,Uh(n,i),n.strstart!==0&&(Uh(n,t.adler>>>16),Uh(n,t.adler&65535)),t.adler=1,n.status=cu,hs(t),n.pending!==0)return n.last_flush=-1,Yr}if(n.status===a5){if(t.adler=0,hn(n,31),hn(n,139),hn(n,8),n.gzhead)hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hn(n,n.gzhead.time&255),hn(n,n.gzhead.time>>8&255),hn(n,n.gzhead.time>>16&255),hn(n,n.gzhead.time>>24&255),hn(n,n.level===9?2:n.strategy>=cp||n.level<2?4:0),hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hn(n,n.gzhead.extra.length&255),hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Or(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=H2;else if(hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,n.level===9?2:n.strategy>=cp||n.level<2?4:0),hn(n,wF),n.status=cu,hs(t),n.pending!==0)return n.last_flush=-1,Yr}if(n.status===H2){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Or(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,hs(t),n.pending!==0)return n.last_flush=-1,Yr;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Or(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=W2}if(n.status===W2){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Or(t.adler,n.pending_buf,n.pending-i,i)),hs(t),n.pending!==0)return n.last_flush=-1,Yr;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,hn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Or(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=G2}if(n.status===G2){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Or(t.adler,n.pending_buf,n.pending-i,i)),hs(t),n.pending!==0)return n.last_flush=-1,Yr;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,hn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Or(t.adler,n.pending_buf,n.pending-i,i))}n.status=K2}if(n.status===K2){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(hs(t),n.pending!==0))return n.last_flush=-1,Yr;hn(n,t.adler&255),hn(n,t.adler>>8&255),t.adler=0}if(n.status=cu,hs(t),n.pending!==0)return n.last_flush=-1,Yr}if(t.avail_in!==0||n.lookahead!==0||e!==El&&n.status!==Qh){let i=n.level===0?aI(n,e):n.strategy===cp?AF(n,e):n.strategy===oF?SF(n,e):Xh[n.level].func(n,e);if((i===Tu||i===dh)&&(n.status=Qh),i===Li||i===Tu)return t.avail_out===0&&(n.last_flush=-1),Yr;if(i===fh&&(e===tF?eF(n):e!==hx&&(q2(n,0,0,!1),e===nF&&(ol(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),hs(t),t.avail_out===0))return n.last_flush=-1,Yr}return e!==Os?Yr:n.wrap<=0?fx:(n.wrap===2?(hn(n,t.adler&255),hn(n,t.adler>>8&255),hn(n,t.adler>>16&255),hn(n,t.adler>>24&255),hn(n,t.total_in&255),hn(n,t.total_in>>8&255),hn(n,t.total_in>>16&255),hn(n,t.total_in>>24&255)):(Uh(n,t.adler>>>16),Uh(n,t.adler&65535)),hs(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Yr:fx)},PF=t=>{if(vd(t))return Bo;const e=t.state.status;return t.state=null,e===cu?hu(t,rF):Yr},CF=(t,e)=>{let n=e.length;if(vd(t))return Bo;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Jc||r.lookahead)return Bo;if(i===1&&(t.adler=Xf(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(ol(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Zc(r);r.lookahead>=tn;){let l=r.strstart,u=r.lookahead-(tn-1);do r.ins_h=Il(r,r.ins_h,r.window[l+tn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=tn-1,Zc(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=tn-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,Yr};var RF=TF,LF=cI,DF=uI,OF=lI,MF=NF,FF=kF,jF=PF,VF=CF,UF="pako deflate (from Nodeca project)",yf={deflateInit:RF,deflateInit2:LF,deflateReset:DF,deflateResetKeep:OF,deflateSetHeader:MF,deflate:FF,deflateEnd:jF,deflateSetDictionary:VF,deflateInfo:UF};const BF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var zF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)BF(n,r)&&(t[r]=n[r])}}return t},qF=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},R0={assign:zF,flattenChunks:qF};let hI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hI=!1}const Jf=new Uint8Array(256);for(let t=0;t<256;t++)Jf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Jf[254]=Jf[254]=1;var $F=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const HF=(t,e)=>{if(e<65534&&t.subarray&&hI)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var WF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Jf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return HF(s,i)},GF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Jf[t[n]]>e?n:e},Zf={string2buf:$F,buf2string:WF,utf8border:GF};function KF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fI=KF;const dI=Object.prototype.toString,{Z_NO_FLUSH:YF,Z_SYNC_FLUSH:QF,Z_FULL_FLUSH:XF,Z_FINISH:JF,Z_OK:qg,Z_STREAM_END:ZF,Z_DEFAULT_COMPRESSION:ej,Z_DEFAULT_STRATEGY:tj,Z_DEFLATED:nj}=yd;function l5(t){this.options=R0.assign({level:ej,method:nj,chunkSize:16384,windowBits:15,memLevel:8,strategy:tj},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fI,this.strm.avail_out=0;let n=yf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==qg)throw new Error(Xc[n]);if(e.header&&yf.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Zf.string2buf(e.dictionary):dI.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=yf.deflateSetDictionary(this.strm,r),n!==qg)throw new Error(Xc[n]);this._dict_set=!0}}l5.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?JF:YF,typeof t=="string"?n.input=Zf.string2buf(t):dI.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===QF||s===XF)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=yf.deflate(n,s),i===ZF)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=yf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===qg;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};l5.prototype.onData=function(t){this.chunks.push(t)};l5.prototype.onEnd=function(t){t===qg&&(this.result=R0.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const hp=16209,rj=16191;var ij=function(e,n){let r,i,s,o,a,l,u,f,g,y,p,I,S,O,x,P,L,U,Z,ie,F,N,E,D;const w=e.state;r=e.next_in,E=e.input,i=r+(e.avail_in-5),s=e.next_out,D=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=w.dmax,u=w.wsize,f=w.whave,g=w.wnext,y=w.window,p=w.hold,I=w.bits,S=w.lencode,O=w.distcode,x=(1<<w.lenbits)-1,P=(1<<w.distbits)-1;e:do{I<15&&(p+=E[r++]<<I,I+=8,p+=E[r++]<<I,I+=8),L=S[p&x];t:for(;;){if(U=L>>>24,p>>>=U,I-=U,U=L>>>16&255,U===0)D[s++]=L&65535;else if(U&16){Z=L&65535,U&=15,U&&(I<U&&(p+=E[r++]<<I,I+=8),Z+=p&(1<<U)-1,p>>>=U,I-=U),I<15&&(p+=E[r++]<<I,I+=8,p+=E[r++]<<I,I+=8),L=O[p&P];n:for(;;){if(U=L>>>24,p>>>=U,I-=U,U=L>>>16&255,U&16){if(ie=L&65535,U&=15,I<U&&(p+=E[r++]<<I,I+=8,I<U&&(p+=E[r++]<<I,I+=8)),ie+=p&(1<<U)-1,ie>l){e.msg="invalid distance too far back",w.mode=hp;break e}if(p>>>=U,I-=U,U=s-o,ie>U){if(U=ie-U,U>f&&w.sane){e.msg="invalid distance too far back",w.mode=hp;break e}if(F=0,N=y,g===0){if(F+=u-U,U<Z){Z-=U;do D[s++]=y[F++];while(--U);F=s-ie,N=D}}else if(g<U){if(F+=u+g-U,U-=g,U<Z){Z-=U;do D[s++]=y[F++];while(--U);if(F=0,g<Z){U=g,Z-=U;do D[s++]=y[F++];while(--U);F=s-ie,N=D}}}else if(F+=g-U,U<Z){Z-=U;do D[s++]=y[F++];while(--U);F=s-ie,N=D}for(;Z>2;)D[s++]=N[F++],D[s++]=N[F++],D[s++]=N[F++],Z-=3;Z&&(D[s++]=N[F++],Z>1&&(D[s++]=N[F++]))}else{F=s-ie;do D[s++]=D[F++],D[s++]=D[F++],D[s++]=D[F++],Z-=3;while(Z>2);Z&&(D[s++]=D[F++],Z>1&&(D[s++]=D[F++]))}}else if(U&64){e.msg="invalid distance code",w.mode=hp;break e}else{L=O[(L&65535)+(p&(1<<U)-1)];continue n}break}}else if(U&64)if(U&32){w.mode=rj;break e}else{e.msg="invalid literal/length code",w.mode=hp;break e}else{L=S[(L&65535)+(p&(1<<U)-1)];continue t}break}}while(r<i&&s<a);Z=I>>3,r-=Z,I-=Z<<3,p&=(1<<I)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),w.hold=p,w.bits=I};const Xu=15,px=852,gx=592,mx=0,Q1=1,yx=2,sj=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lj=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uj=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,f=0,g=0,y=0,p=0,I=0,S=0,O=0,x=0,P=0,L,U,Z,ie,F,N=null,E;const D=new Uint16Array(Xu+1),w=new Uint16Array(Xu+1);let T=null,k,X,ce;for(u=0;u<=Xu;u++)D[u]=0;for(f=0;f<r;f++)D[e[n+f]]++;for(p=l,y=Xu;y>=1&&D[y]===0;y--);if(p>y&&(p=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<y&&D[g]===0;g++);for(p<g&&(p=g),O=1,u=1;u<=Xu;u++)if(O<<=1,O-=D[u],O<0)return-1;if(O>0&&(t===mx||y!==1))return-1;for(w[1]=0,u=1;u<Xu;u++)w[u+1]=w[u]+D[u];for(f=0;f<r;f++)e[n+f]!==0&&(o[w[e[n+f]]++]=f);if(t===mx?(N=T=o,E=20):t===Q1?(N=sj,T=oj,E=257):(N=aj,T=lj,E=0),P=0,f=0,u=g,F=s,I=p,S=0,Z=-1,x=1<<p,ie=x-1,t===Q1&&x>px||t===yx&&x>gx)return 1;for(;;){k=u-S,o[f]+1<E?(X=0,ce=o[f]):o[f]>=E?(X=T[o[f]-E],ce=N[o[f]-E]):(X=96,ce=0),L=1<<u-S,U=1<<I,g=U;do U-=L,i[F+(P>>S)+U]=k<<24|X<<16|ce|0;while(U!==0);for(L=1<<u-1;P&L;)L>>=1;if(L!==0?(P&=L-1,P+=L):P=0,f++,--D[u]===0){if(u===y)break;u=e[n+o[f]]}if(u>p&&(P&ie)!==Z){for(S===0&&(S=p),F+=g,I=u-S,O=1<<I;I+S<y&&(O-=D[I+S],!(O<=0));)I++,O<<=1;if(x+=1<<I,t===Q1&&x>px||t===yx&&x>gx)return 1;Z=P&ie,i[Z]=p<<24|I<<16|F-s|0}}return P!==0&&(i[F+P]=u-S<<24|64<<16|0),a.bits=p,0};var vf=uj;const cj=0,pI=1,gI=2,{Z_FINISH:vx,Z_BLOCK:hj,Z_TREES:fp,Z_OK:ku,Z_STREAM_END:fj,Z_NEED_DICT:dj,Z_STREAM_ERROR:Bs,Z_DATA_ERROR:mI,Z_MEM_ERROR:yI,Z_BUF_ERROR:pj,Z_DEFLATED:_x}=yd,L0=16180,wx=16181,bx=16182,xx=16183,Sx=16184,Ax=16185,Ex=16186,Ix=16187,Nx=16188,Tx=16189,$g=16190,ia=16191,X1=16192,kx=16193,J1=16194,Px=16195,Cx=16196,Rx=16197,Lx=16198,dp=16199,pp=16200,Dx=16201,Ox=16202,Mx=16203,Fx=16204,jx=16205,Z1=16206,Vx=16207,Ux=16208,$n=16209,vI=16210,_I=16211,gj=852,mj=592,yj=15,vj=yj,Bx=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function _j(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<L0||e.mode>_I?1:0},wI=t=>{if(Vu(t))return Bs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=L0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(gj),e.distcode=e.distdyn=new Int32Array(mj),e.sane=1,e.back=-1,ku},bI=t=>{if(Vu(t))return Bs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wI(t)},xI=(t,e)=>{let n;if(Vu(t))return Bs;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Bs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,bI(t))},SI=(t,e)=>{if(!t)return Bs;const n=new _j;t.state=n,n.strm=t,n.window=null,n.mode=L0;const r=xI(t,e);return r!==ku&&(t.state=null),r},wj=t=>SI(t,vj);let zx=!0,em,tm;const bj=t=>{if(zx){em=new Int32Array(512),tm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(vf(pI,t.lens,0,288,em,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;vf(gI,t.lens,0,32,tm,0,t.work,{bits:5}),zx=!1}t.lencode=em,t.lenbits=9,t.distcode=tm,t.distbits=5},AI=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},xj=(t,e)=>{let n,r,i,s,o,a,l,u,f,g,y,p,I,S,O=0,x,P,L,U,Z,ie,F,N;const E=new Uint8Array(4);let D,w;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vu(t)||!t.output||!t.input&&t.avail_in!==0)return Bs;n=t.state,n.mode===ia&&(n.mode=X1),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,g=a,y=l,N=ku;e:for(;;)switch(n.mode){case L0:if(n.wrap===0){n.mode=X1;break}for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=Or(n.check,E,2,0),u=0,f=0,n.mode=wx;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=$n;break}if((u&15)!==_x){t.msg="unknown compression method",n.mode=$n;break}if(u>>>=4,f-=4,F=(u&15)+8,n.wbits===0&&(n.wbits=F),F>15||F>n.wbits){t.msg="invalid window size",n.mode=$n;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?Tx:ia,u=0,f=0;break;case wx:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==_x){t.msg="unknown compression method",n.mode=$n;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=$n;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Or(n.check,E,2,0)),u=0,f=0,n.mode=bx;case bx:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=Or(n.check,E,4,0)),u=0,f=0,n.mode=xx;case xx:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Or(n.check,E,2,0)),u=0,f=0,n.mode=Sx;case Sx:if(n.flags&1024){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Or(n.check,E,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=Ax;case Ax:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),F)),n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Ex;case Ex:if(n.flags&2048){if(a===0)break e;p=0;do F=r[s+p++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F));while(F&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,p,s)),a-=p,s+=p,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Ix;case Ix:if(n.flags&4096){if(a===0)break e;p=0;do F=r[s+p++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F));while(F&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,p,s)),a-=p,s+=p,F)break e}else n.head&&(n.head.comment=null);n.mode=Nx;case Nx:if(n.flags&512){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=$n;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ia;break;case Tx:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}t.adler=n.check=Bx(u),u=0,f=0,n.mode=$g;case $g:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,dj;t.adler=n.check=1,n.mode=ia;case ia:if(e===hj||e===fp)break e;case X1:if(n.last){u>>>=f&7,f-=f&7,n.mode=Z1;break}for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=kx;break;case 1:if(bj(n),n.mode=dp,e===fp){u>>>=2,f-=2;break e}break;case 2:n.mode=Cx;break;case 3:t.msg="invalid block type",n.mode=$n}u>>>=2,f-=2;break;case kx:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=$n;break}if(n.length=u&65535,u=0,f=0,n.mode=J1,e===fp)break e;case J1:n.mode=Px;case Px:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=ia;break;case Cx:for(;f<14;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=$n;break}n.have=0,n.mode=Rx;case Rx:for(;n.have<n.ncode;){for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.lens[T[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=vf(cj,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){t.msg="invalid code lengths set",n.mode=$n;break}n.have=0,n.mode=Lx;case Lx:for(;n.have<n.nlen+n.ndist;){for(;O=n.lencode[u&(1<<n.lenbits)-1],x=O>>>24,P=O>>>16&255,L=O&65535,!(x<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(L<16)u>>>=x,f-=x,n.lens[n.have++]=L;else{if(L===16){for(w=x+2;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(u>>>=x,f-=x,n.have===0){t.msg="invalid bit length repeat",n.mode=$n;break}F=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(L===17){for(w=x+3;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=x,f-=x,F=0,p=3+(u&7),u>>>=3,f-=3}else{for(w=x+7;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=x,f-=x,F=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=$n;break}for(;p--;)n.lens[n.have++]=F}}if(n.mode===$n)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=$n;break}if(n.lenbits=9,D={bits:n.lenbits},N=vf(pI,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){t.msg="invalid literal/lengths set",n.mode=$n;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=vf(gI,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){t.msg="invalid distances set",n.mode=$n;break}if(n.mode=dp,e===fp)break e;case dp:n.mode=pp;case pp:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,ij(t,y),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,n.mode===ia&&(n.back=-1);break}for(n.back=0;O=n.lencode[u&(1<<n.lenbits)-1],x=O>>>24,P=O>>>16&255,L=O&65535,!(x<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(P&&!(P&240)){for(U=x,Z=P,ie=L;O=n.lencode[ie+((u&(1<<U+Z)-1)>>U)],x=O>>>24,P=O>>>16&255,L=O&65535,!(U+x<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=U,f-=U,n.back+=U}if(u>>>=x,f-=x,n.back+=x,n.length=L,P===0){n.mode=jx;break}if(P&32){n.back=-1,n.mode=ia;break}if(P&64){t.msg="invalid literal/length code",n.mode=$n;break}n.extra=P&15,n.mode=Dx;case Dx:if(n.extra){for(w=n.extra;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Ox;case Ox:for(;O=n.distcode[u&(1<<n.distbits)-1],x=O>>>24,P=O>>>16&255,L=O&65535,!(x<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(!(P&240)){for(U=x,Z=P,ie=L;O=n.distcode[ie+((u&(1<<U+Z)-1)>>U)],x=O>>>24,P=O>>>16&255,L=O&65535,!(U+x<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=U,f-=U,n.back+=U}if(u>>>=x,f-=x,n.back+=x,P&64){t.msg="invalid distance code",n.mode=$n;break}n.offset=L,n.extra=P&15,n.mode=Mx;case Mx:if(n.extra){for(w=n.extra;f<w;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=$n;break}n.mode=Fx;case Fx:if(l===0)break e;if(p=y-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=$n;break}p>n.wnext?(p-=n.wnext,I=n.wsize-p):I=n.wnext-p,p>n.length&&(p=n.length),S=n.window}else S=i,I=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=S[I++];while(--p);n.length===0&&(n.mode=pp);break;case jx:if(l===0)break e;i[o++]=n.length,l--,n.mode=pp;break;case Z1:if(n.wrap){for(;f<32;){if(a===0)break e;a--,u|=r[s++]<<f,f+=8}if(y-=l,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Or(n.check,i,y,o-y):Xf(n.check,i,y,o-y)),y=l,n.wrap&4&&(n.flags?u:Bx(u))!==n.check){t.msg="incorrect data check",n.mode=$n;break}u=0,f=0}n.mode=Vx;case Vx:if(n.wrap&&n.flags){for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=$n;break}u=0,f=0}n.mode=Ux;case Ux:N=fj;break e;case $n:N=mI;break e;case vI:return yI;case _I:default:return Bs}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,(n.wsize||y!==t.avail_out&&n.mode<$n&&(n.mode<Z1||e!==vx))&&AI(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Or(n.check,i,y,t.next_out-y):Xf(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ia?128:0)+(n.mode===dp||n.mode===J1?256:0),(g===0&&y===0||e===vx)&&N===ku&&(N=pj),N},Sj=t=>{if(Vu(t))return Bs;let e=t.state;return e.window&&(e.window=null),t.state=null,ku},Aj=(t,e)=>{if(Vu(t))return Bs;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,ku):Bs},Ej=(t,e)=>{const n=e.length;let r,i,s;return Vu(t)||(r=t.state,r.wrap!==0&&r.mode!==$g)?Bs:r.mode===$g&&(i=1,i=Xf(i,e,n,0),i!==r.check)?mI:(s=AI(t,e,n,n),s?(r.mode=vI,yI):(r.havedict=1,ku))};var Ij=bI,Nj=xI,Tj=wI,kj=wj,Pj=SI,Cj=xj,Rj=Sj,Lj=Aj,Dj=Ej,Oj="pako inflate (from Nodeca project)",la={inflateReset:Ij,inflateReset2:Nj,inflateResetKeep:Tj,inflateInit:kj,inflateInit2:Pj,inflate:Cj,inflateEnd:Rj,inflateGetHeader:Lj,inflateSetDictionary:Dj,inflateInfo:Oj};function Mj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fj=Mj;const EI=Object.prototype.toString,{Z_NO_FLUSH:jj,Z_FINISH:Vj,Z_OK:ed,Z_STREAM_END:nm,Z_NEED_DICT:rm,Z_STREAM_ERROR:Uj,Z_DATA_ERROR:qx,Z_MEM_ERROR:Bj}=yd;function _d(t){this.options=R0.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fI,this.strm.avail_out=0;let n=la.inflateInit2(this.strm,e.windowBits);if(n!==ed)throw new Error(Xc[n]);if(this.header=new Fj,la.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Zf.string2buf(e.dictionary):EI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=la.inflateSetDictionary(this.strm,e.dictionary),n!==ed)))throw new Error(Xc[n])}_d.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Vj:jj,EI.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=la.inflate(n,o),s===rm&&i&&(s=la.inflateSetDictionary(n,i),s===ed?s=la.inflate(n,o):s===qx&&(s=rm));n.avail_in>0&&s===nm&&n.state.wrap>0&&t[n.next_in]!==0;)la.inflateReset(n),s=la.inflate(n,o);switch(s){case Uj:case qx:case rm:case Bj:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===nm))if(this.options.to==="string"){let l=Zf.utf8border(n.output,n.next_out),u=n.next_out-l,f=Zf.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===ed&&a===0)){if(s===nm)return s=la.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_d.prototype.onData=function(t){this.chunks.push(t)};_d.prototype.onEnd=function(t){t===ed&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R0.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function u5(t,e){const n=new _d(e);if(n.push(t),n.err)throw n.msg||Xc[n.err];return n.result}function zj(t,e){return e=e||{},e.raw=!0,u5(t,e)}var qj=_d,$j=u5,Hj=zj,Wj=u5,Gj=yd,Kj={Inflate:qj,inflate:$j,inflateRaw:Hj,ungzip:Wj,constants:Gj};const{Inflate:Yj,inflate:Qj,inflateRaw:YU,ungzip:QU}=Kj;var $x=Yj,Xj=Qj;const II=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;II[t]=e}const Hx=4294967295;function Jj(t,e,n){let r=t;for(let i=0;i<n;i++)r=II[(r^e[i])&255]^r>>>8;return r}function Zj(t,e){return(Jj(Hx,t,e)^Hx)>>>0}function Wx(t,e,n){const r=t.readUint32(),i=Zj(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function NI(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function TI(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function kI(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function PI(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function CI(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+eV(e[s-i],n[s],n[s-i])&255}}function eV(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function tV(t,e,n,r,i,s){switch(t){case 0:NI(e,n,i);break;case 1:TI(e,n,i,s);break;case 2:kI(e,n,r,i);break;case 3:PI(e,n,r,i,s);break;case 4:CI(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const nV=new Uint16Array([255]),rV=new Uint8Array(nV.buffer),iV=rV[0]===255;function sV(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let f=0;f<7;f++){const g=o[f],y=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((r-g.y)/g.yStep);if(y<=0||p<=0)continue;const I=y*a,S=new Uint8Array(I);for(let O=0;O<p;O++){const x=e[u++],P=e.subarray(u,u+I);u+=I;const L=new Uint8Array(I);tV(x,P,L,S,I,a),S.set(L);for(let U=0;U<y;U++){const Z=g.x+U*g.xStep,ie=g.y+O*g.yStep;if(!(Z>=n||ie>=r))for(let F=0;F<a;F++)l[(ie*n+Z)*a+F]=L[U*a+F]}}}if(s===16){const f=new Uint16Array(l.buffer);if(iV)for(let g=0;g<f.length;g++)f[g]=oV(f[g]);return f}else return l}function oV(t){return(t&255)<<8|t>>8&255}const aV=new Uint16Array([255]),lV=new Uint8Array(aV.buffer),uV=lV[0]===255,cV=new Uint8Array(0);function Gx(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=cV,f=0,g,y;for(let p=0;p<r;p++){switch(g=e.subarray(f+1,f+1+a),y=l.subarray(p*a,(p+1)*a),e[f]){case 0:NI(g,y,a);break;case 1:TI(g,y,a,o);break;case 2:kI(g,y,u,a);break;case 3:PI(g,y,u,a,o);break;case 4:CI(g,y,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=y,f+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(uV)for(let I=0;I<p.length;I++)p[I]=hV(p[I]);return p}else return l}function hV(t){return(t&255)<<8|t>>8&255}const $p=Uint8Array.of(137,80,78,71,13,10,26,10);function Kx(t){if(!fV(t.readBytes($p.length)))throw new Error("wrong PNG signature")}function fV(t){if(t.length<$p.length)return!1;for(let e=0;e<$p.length;e++)if(t[e]!==$p[e])return!1;return!0}const dV="tEXt",pV=0,RI=new TextDecoder("latin1");function gV(t){if(yV(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const mV=/^[\u0000-\u00FF]*$/;function yV(t){if(!mV.test(t))throw new Error("invalid latin1 text")}function vV(t,e,n){const r=LI(e);t[r]=_V(e,n-r.length-1)}function LI(t){for(t.mark();t.readByte()!==pV;);const e=t.offset;t.reset();const n=RI.decode(t.readBytes(e-t.offset-1));return t.skip(1),gV(n),n}function _V(t,e){return RI.decode(t.readBytes(e))}const cs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},im={UNKNOWN:-1,DEFLATE:0},Yx={UNKNOWN:-1,ADAPTIVE:0},sm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gp={NONE:0,BACKGROUND:1,PREVIOUS:2},om={SOURCE:0,OVER:1};class wV extends n5{constructor(n,r={}){super(n);yn(this,"_checkCrc");yn(this,"_inflator");yn(this,"_png");yn(this,"_apng");yn(this,"_end");yn(this,"_hasPalette");yn(this,"_palette");yn(this,"_hasTransparency");yn(this,"_transparency");yn(this,"_compressionMethod");yn(this,"_filterMethod");yn(this,"_interlaceMethod");yn(this,"_colorType");yn(this,"_isAnimated");yn(this,"_numberOfFrames");yn(this,"_numberOfPlays");yn(this,"_frames");yn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new $x,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=im.UNKNOWN,this._filterMethod=Yx.UNKNOWN,this._interlaceMethod=sm.UNKNOWN,this._colorType=cs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Kx(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Kx(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case dV:vV(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Wx(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Wx(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=bV(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case cs.GREYSCALE:i=1;break;case cs.TRUECOLOUR:i=3;break;case cs.INDEXED_COLOUR:i=1;break;case cs.GREYSCALE_ALPHA:i=2;break;case cs.TRUECOLOUR_ALPHA:i=4;break;case cs.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==im.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case cs.GREYSCALE:case cs.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case cs.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case cs.UNKNOWN:case cs.GREYSCALE_ALPHA:case cs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=LI(this),i=this.readUint8();if(i!==im.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Xj(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Gx({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case gp.NONE:break;case gp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case gp.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case om.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++)n.data[l+f]=r.data[u+f]}break;case om.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++){const g=r.data[u+this._png.channels-1]/i,y=f%(this._png.channels-1)===0?1:r.data[u+f],p=Math.floor(g*y+(1-g)*n.data[l+f]);n.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Yx.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===sm.NO_INTERLACE)this._png.data=Gx({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===sm.ADAM7)this._png.data=sV({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gp.NONE,blendOp:om.SOURCE,data:n}),this._inflator=new $x,this._writingDataChunks=!1}}function bV(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Qx;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Qx||(Qx={}));function xV(t,e){return new wV(t,e).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function am(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var In={log:am,warn:function(t){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):am.call(null,arguments))},error:function(t){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):am(t))}};function lm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){tu(r.response,e,n)},r.onerror=function(){In.error("could not download file")},r.send()}function Xx(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var tu=Et.saveAs||((typeof window>"u"?"undefined":vn(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Et.URL||Et.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Xx(i.href)?lm(t,e,n):mp(i,i.target="_blank"):mp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){mp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Xx(t))lm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){mp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:vn(s)!=="object"&&(In.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return lm(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Et.HTMLElement)||Et.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":vn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=Et.URL||Et.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Hp=Et.atob.bind(Et),Jx=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function um(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=pi(n,r,i,s,e[0],7,-680876936),s=pi(s,n,r,i,e[1],12,-389564586),i=pi(i,s,n,r,e[2],17,606105819),r=pi(r,i,s,n,e[3],22,-1044525330),n=pi(n,r,i,s,e[4],7,-176418897),s=pi(s,n,r,i,e[5],12,1200080426),i=pi(i,s,n,r,e[6],17,-1473231341),r=pi(r,i,s,n,e[7],22,-45705983),n=pi(n,r,i,s,e[8],7,1770035416),s=pi(s,n,r,i,e[9],12,-1958414417),i=pi(i,s,n,r,e[10],17,-42063),r=pi(r,i,s,n,e[11],22,-1990404162),n=pi(n,r,i,s,e[12],7,1804603682),s=pi(s,n,r,i,e[13],12,-40341101),i=pi(i,s,n,r,e[14],17,-1502002290),n=gi(n,r=pi(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=gi(s,n,r,i,e[6],9,-1069501632),i=gi(i,s,n,r,e[11],14,643717713),r=gi(r,i,s,n,e[0],20,-373897302),n=gi(n,r,i,s,e[5],5,-701558691),s=gi(s,n,r,i,e[10],9,38016083),i=gi(i,s,n,r,e[15],14,-660478335),r=gi(r,i,s,n,e[4],20,-405537848),n=gi(n,r,i,s,e[9],5,568446438),s=gi(s,n,r,i,e[14],9,-1019803690),i=gi(i,s,n,r,e[3],14,-187363961),r=gi(r,i,s,n,e[8],20,1163531501),n=gi(n,r,i,s,e[13],5,-1444681467),s=gi(s,n,r,i,e[2],9,-51403784),i=gi(i,s,n,r,e[7],14,1735328473),n=mi(n,r=gi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=mi(s,n,r,i,e[8],11,-2022574463),i=mi(i,s,n,r,e[11],16,1839030562),r=mi(r,i,s,n,e[14],23,-35309556),n=mi(n,r,i,s,e[1],4,-1530992060),s=mi(s,n,r,i,e[4],11,1272893353),i=mi(i,s,n,r,e[7],16,-155497632),r=mi(r,i,s,n,e[10],23,-1094730640),n=mi(n,r,i,s,e[13],4,681279174),s=mi(s,n,r,i,e[0],11,-358537222),i=mi(i,s,n,r,e[3],16,-722521979),r=mi(r,i,s,n,e[6],23,76029189),n=mi(n,r,i,s,e[9],4,-640364487),s=mi(s,n,r,i,e[12],11,-421815835),i=mi(i,s,n,r,e[15],16,530742520),n=yi(n,r=mi(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=yi(s,n,r,i,e[7],10,1126891415),i=yi(i,s,n,r,e[14],15,-1416354905),r=yi(r,i,s,n,e[5],21,-57434055),n=yi(n,r,i,s,e[12],6,1700485571),s=yi(s,n,r,i,e[3],10,-1894986606),i=yi(i,s,n,r,e[10],15,-1051523),r=yi(r,i,s,n,e[1],21,-2054922799),n=yi(n,r,i,s,e[8],6,1873313359),s=yi(s,n,r,i,e[15],10,-30611744),i=yi(i,s,n,r,e[6],15,-1560198380),r=yi(r,i,s,n,e[13],21,1309151649),n=yi(n,r,i,s,e[4],6,-145523070),s=yi(s,n,r,i,e[11],10,-1120210379),i=yi(i,s,n,r,e[2],15,718787259),r=yi(r,i,s,n,e[9],21,-343485551),t[0]=hl(n,t[0]),t[1]=hl(r,t[1]),t[2]=hl(i,t[2]),t[3]=hl(s,t[3])}function D0(t,e,n,r,i,s){return e=hl(hl(e,t),hl(r,s)),hl(e<<i|e>>>32-i,n)}function pi(t,e,n,r,i,s,o){return D0(e&n|~e&r,t,e,i,s,o)}function gi(t,e,n,r,i,s,o){return D0(e&r|n&~r,t,e,i,s,o)}function mi(t,e,n,r,i,s,o){return D0(e^n^r,t,e,i,s,o)}function yi(t,e,n,r,i,s,o){return D0(n^(e|~r),t,e,i,s,o)}function OI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)um(r,SV(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(um(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,um(r,i),r}function SV(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Zx="0123456789abcdef".split("");function AV(t){for(var e="",n=0;n<4;n++)e+=Zx[t>>8*n+4&15]+Zx[t>>8*n&15];return e}function EV(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Q2(t){return OI(t).map(EV).join("")}var IV=function(t){for(var e=0;e<t.length;e++)t[e]=AV(t[e]);return t.join("")}(OI("hello"))!="5d41402abc4b2a76b9719d911017c592";function hl(t,e){if(IV){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var f=a[l];u=(u+f+o.charCodeAt(l))%256,a[l]=a[u],a[u]=f}n=t,r=a}else a=r;var g=e.length,y=0,p=0,I="";for(l=0;l<g;l++)p=(p+(f=a[y=(y+1)%256]))%256,a[y]=a[p],a[p]=f,o=a[(a[y]+a[p])%256],I+=String.fromCharCode(e.charCodeAt(l)^o);return I}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e4={print:4,modify:8,copy:16,"annot-forms":32};function ic(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(e4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=e4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Q2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=X2(this.encryptionKey,this.padding)}function sc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function t4(t){if(vn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Et.console&&In.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Hg(t){if(!(this instanceof Hg))return new Hg(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function MI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function nu(t,e,n,r,i){if(!(this instanceof nu))return new nu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,MI.call(this,r,i)}function vc(t,e,n,r,i){if(!(this instanceof vc))return new vc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,MI.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",f=null;vn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=t4;var I="1.3",S=p.__private__.getPdfVersion=function(){return I};p.__private__.setPdfVersion=function(m){I=m};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return O};var x=p.__private__.getPageFormat=function(m){return O[m]};i=i||"a4";var P="compat",L="advanced",U=P;function Z(){this.saveGraphicsState(),H(new mt(Tt,0,0,-Tt,0,Hs()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),u="n",U=L}function ie(){this.restoreGraphicsState(),u="S",U=P}var F=p.__private__.combineFontStyleAndFontWeight=function(m,C){if(m=="bold"&&C=="normal"||m=="bold"&&C==400||m=="normal"&&C=="italic"||m=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(m=C==400||C==="normal"?m==="italic"?"italic":"normal":C!=700&&C!=="bold"||m!=="normal"?(C==700?"bold":C)+""+m:"bold"),m};p.advancedAPI=function(m){var C=U===P;return C&&Z.call(this),typeof m!="function"||(m(this),C&&ie.call(this)),this},p.compatAPI=function(m){var C=U===L;return C&&ie.call(this),typeof m!="function"||(m(this),C&&Z.call(this)),this},p.isAdvancedAPI=function(){return U===L};var N,E=function(m){if(U!==L)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(m,C){var G=e||C;if(isNaN(m)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(G).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,16)};var w=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return D(m,2)},T=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return D(m,3)},k=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return U===P?m*Tt:U===L?m:void 0},X=function(m){return k(function(C){return U===P?Hs()-C:U===L?C:void 0}(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var ce,ge="00000000000000000000000000000000",ye=p.__private__.getFileId=function(){return ge},J=p.__private__.setFileId=function(m){return ge=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(xn=new ic(f.userPermissions,f.userPassword,f.ownerPassword,ge)),ge};p.setFileId=function(m){return J(m),this},p.getFileId=function(){return ye()};var le=p.__private__.convertDateToPDFDate=function(m){var C=m.getTimezoneOffset(),G=C<0?"+":"-",ee=Math.floor(Math.abs(C/60)),ae=Math.abs(C%60),Se=[G,Q(ee),"'",Q(ae),"'"].join("");return["D:",m.getFullYear(),Q(m.getMonth()+1),Q(m.getDate()),Q(m.getHours()),Q(m.getMinutes()),Q(m.getSeconds()),Se].join("")},we=p.__private__.convertPDFDateToDate=function(m){var C=parseInt(m.substr(2,4),10),G=parseInt(m.substr(6,2),10)-1,ee=parseInt(m.substr(8,2),10),ae=parseInt(m.substr(10,2),10),Se=parseInt(m.substr(12,2),10),Pe=parseInt(m.substr(14,2),10);return new Date(C,G,ee,ae,Se,Pe,0)},_e=p.__private__.setCreationDate=function(m){var C;if(m===void 0&&(m=new Date),m instanceof Date)C=le(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=m}return ce=C},j=p.__private__.getCreationDate=function(m){var C=ce;return m==="jsDate"&&(C=we(ce)),C};p.setCreationDate=function(m){return _e(m),this},p.getCreationDate=function(m){return j(m)};var W,Q=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},te=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},re=0,oe=[],me=[],ve=0,Ee=[],Le=[],Be=!1,je=me;p.__private__.setCustomOutputDestination=function(m){Be=!0,je=m};var ot=function(m){Be||(je=m)};p.__private__.resetCustomOutputDestination=function(){Be=!1,je=me};var H=p.__private__.out=function(m){return m=m.toString(),ve+=m.length+1,je.push(m),je},Ve=p.__private__.write=function(m){return H(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},bt=p.__private__.getArrayBuffer=function(m){for(var C=m.length,G=new ArrayBuffer(C),ee=new Uint8Array(G);C--;)ee[C]=m.charCodeAt(C);return G},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return at};var Ie=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Ie=U===L?m/Tt:m,this};var He,ze=p.__private__.getFontSize=p.getFontSize=function(){return U===P?Ie:Ie*Tt},ft=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return ft=m,this},p.__private__.getR2L=p.getR2L=function(){return ft};var rt,Jt=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))He=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');He=m}else He=parseInt(m,10)};p.__private__.getZoomMode=function(){return He};var Nt,wt=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');rt=m};p.__private__.getPageMode=function(){return rt};var Lt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Nt=m};p.__private__.getLayoutMode=function(){return Nt},p.__private__.setDisplayMode=p.setDisplayMode=function(m,C,G){return Jt(m),Lt(C),wt(G),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(Ut).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[m]},p.__private__.getDocumentProperties=function(){return Ut},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var C in Ut)Ut.hasOwnProperty(C)&&m[C]&&(Ut[C]=m[C]);return this},p.__private__.setDocumentProperty=function(m,C){if(Object.keys(Ut).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[m]=C};var et,Tt,We,Nn,Ft,Je={},Pt={},nn=[],tt={},on={},ct={},gt={},an=null,Ke=0,lt=[],qt=new t4(p),Jn=t.hotfixes||[],Fn={},ni={},xr=[],mt=function m(C,G,ee,ae,Se,Pe){if(!(this instanceof m))return new m(C,G,ee,ae,Se,Pe);isNaN(C)&&(C=1),isNaN(G)&&(G=0),isNaN(ee)&&(ee=0),isNaN(ae)&&(ae=1),isNaN(Se)&&(Se=0),isNaN(Pe)&&(Pe=0),this._matrix=[C,G,ee,ae,Se,Pe]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(m)},mt.prototype.multiply=function(m){var C=m.sx*this.sx+m.shy*this.shx,G=m.sx*this.shy+m.shy*this.sy,ee=m.shx*this.sx+m.sy*this.shx,ae=m.shx*this.shy+m.sy*this.sy,Se=m.tx*this.sx+m.ty*this.shx+this.tx,Pe=m.tx*this.shy+m.ty*this.sy+this.ty;return new mt(C,G,ee,ae,Se,Pe)},mt.prototype.decompose=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,Se=this.ty,Pe=Math.sqrt(m*m+C*C),Ye=(m/=Pe)*G+(C/=Pe)*ee;G-=m*Ye,ee-=C*Ye;var nt=Math.sqrt(G*G+ee*ee);return Ye/=nt,m*(ee/=nt)<C*(G/=nt)&&(m=-m,C=-C,Ye=-Ye,Pe=-Pe),{scale:new mt(Pe,0,0,nt,0,0),translate:new mt(1,0,0,1,ae,Se),rotate:new mt(m,C,-C,m,0,0),skew:new mt(1,0,Ye,1,0,0)}},mt.prototype.toString=function(m){return this.join(" ")},mt.prototype.inversed=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,Se=this.ty,Pe=1/(m*ee-C*G),Ye=ee*Pe,nt=-C*Pe,_t=-G*Pe,pt=m*Pe;return new mt(Ye,nt,_t,pt,-Ye*ae-_t*Se,-nt*ae-pt*Se)},mt.prototype.applyToPoint=function(m){var C=m.x*this.sx+m.y*this.shx+this.tx,G=m.x*this.shy+m.y*this.sy+this.ty;return new Ii(C,G)},mt.prototype.applyToRectangle=function(m){var C=this.applyToPoint(m),G=this.applyToPoint(new Ii(m.x+m.w,m.y+m.h));return new Da(C.x,C.y,G.x-C.x,G.y-C.y)},mt.prototype.clone=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,Se=this.ty;return new mt(m,C,G,ee,ae,Se)},p.Matrix=mt;var Wn=p.matrixMult=function(m,C){return C.multiply(m)},Ur=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ur;var Br=function(m,C){if(!on[m]){var G=(C instanceof nu?"Sh":"P")+(Object.keys(tt).length+1).toString(10);C.id=G,on[m]=G,tt[G]=C,qt.publish("addPattern",C)}};p.ShadingPattern=nu,p.TilingPattern=vc,p.addShadingPattern=function(m,C){return E("addShadingPattern()"),Br(m,C),this},p.beginTilingPattern=function(m){E("beginTilingPattern()"),vo(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,C){E("endTilingPattern()"),C.stream=Le[W].join(`
`),Br(m,C),qt.publish("endTilingPattern",C),xr.pop().restore()};var zr,pn=p.__private__.newObject=function(){var m=Tn();return or(m,!0),m},Tn=p.__private__.newObjectDeferred=function(){return re++,oe[re]=function(){return ve},re},or=function(m,C){return C=typeof C=="boolean"&&C,oe[m]=ve,C&&H(m+" 0 obj"),m},Rr=p.__private__.newAdditionalObject=function(){var m={objId:Tn(),content:""};return Ee.push(m),m},Ji=Tn(),ri=Tn(),ii=p.__private__.decodeColorString=function(m){var C=m.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length!==5||C[4]!=="k"&&C[4]!=="K"||(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var G=parseFloat(C[0]);C=[G,G,G,"r"]}for(var ee="#",ae=0;ae<3;ae++)ee+=("0"+Math.floor(255*parseFloat(C[ae])).toString(16)).slice(-2);return ee},qr=p.__private__.encodeColorString=function(m){var C;typeof m=="string"&&(m={ch1:m});var G=m.ch1,ee=m.ch2,ae=m.ch3,Se=m.ch4,Pe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Ye=new DI(G);if(Ye.ok)G=Ye.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var nt=parseInt(G.substr(1),16);G=nt>>16&255,ee=nt>>8&255,ae=255&nt}if(ee===void 0||Se===void 0&&G===ee&&ee===ae)C=typeof G=="string"?G+" "+Pe[0]:m.precision===2?w(G/255)+" "+Pe[0]:T(G/255)+" "+Pe[0];else if(Se===void 0||vn(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Pe[1]].join(" ");C=typeof G=="string"?[G,ee,ae,Pe[1]].join(" "):m.precision===2?[w(G/255),w(ee/255),w(ae/255),Pe[1]].join(" "):[T(G/255),T(ee/255),T(ae/255),Pe[1]].join(" ")}else C=typeof G=="string"?[G,ee,ae,Se,Pe[2]].join(" "):m.precision===2?[w(G),w(ee),w(ae),w(Se),Pe[2]].join(" "):[T(G),T(ee),T(ae),T(Se),Pe[2]].join(" ");return C},Sr=p.__private__.getFilters=function(){return o},si=p.__private__.putStream=function(m){var C=(m=m||{}).data||"",G=m.filters||Sr(),ee=m.alreadyAppliedFilters||[],ae=m.addLength1||!1,Se=C.length,Pe=m.objectId,Ye=function(_){return _};if(f!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ye=xn.encryptor(Pe,0));var nt={};G===!0&&(G=["FlateEncode"]);var _t=m.additionalKeyValues||[],pt=(nt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(C,G):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(nt.data.length!==0&&(_t.push({key:"Length",value:nt.data.length}),ae===!0&&_t.push({key:"Length1",value:Se})),pt.length!=0)if(pt.split("/").length-1==1)_t.push({key:"Filter",value:pt});else{_t.push({key:"Filter",value:"["+pt+"]"});for(var Gt=0;Gt<_t.length;Gt+=1)if(_t[Gt].key==="DecodeParms"){for(var Pn=[],Sn=0;Sn<nt.reverseChain.split("/").length-1;Sn+=1)Pn.push("null");Pn.push(_t[Gt].value),_t[Gt].value="["+Pn.join(" ")+"]"}}H("<<");for(var h=0;h<_t.length;h++)H("/"+_t[h].key+" "+_t[h].value);H(">>"),nt.data.length!==0&&(H("stream"),H(Ye(nt.data)),H("endstream"))},bs=p.__private__.putPage=function(m){var C=m.number,G=m.data,ee=m.objId,ae=m.contentsObjId;or(ee,!0),H("<</Type /Page"),H("/Parent "+m.rootDictionaryObjId+" 0 R"),H("/Resources "+m.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(N(m.mediaBox.bottomLeftX))+" "+parseFloat(N(m.mediaBox.bottomLeftY))+" "+N(m.mediaBox.topRightX)+" "+N(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&H("/CropBox ["+N(m.cropBox.bottomLeftX)+" "+N(m.cropBox.bottomLeftY)+" "+N(m.cropBox.topRightX)+" "+N(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&H("/BleedBox ["+N(m.bleedBox.bottomLeftX)+" "+N(m.bleedBox.bottomLeftY)+" "+N(m.bleedBox.topRightX)+" "+N(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&H("/TrimBox ["+N(m.trimBox.bottomLeftX)+" "+N(m.trimBox.bottomLeftY)+" "+N(m.trimBox.topRightX)+" "+N(m.trimBox.topRightY)+"]"),m.artBox!==null&&H("/ArtBox ["+N(m.artBox.bottomLeftX)+" "+N(m.artBox.bottomLeftY)+" "+N(m.artBox.topRightX)+" "+N(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&H("/UserUnit "+m.userUnit),qt.publish("putPage",{objId:ee,pageContext:lt[C],pageNumber:C,page:G}),H("/Contents "+ae+" 0 R"),H(">>"),H("endobj");var Se=G.join(`
`);return U===L&&(Se+=`
Q`),or(ae,!0),si({data:Se,filters:Sr(),objectId:ae}),H("endobj"),ee},be=p.__private__.putPages=function(){var m,C,G=[];for(m=1;m<=Ke;m++)lt[m].objId=Tn(),lt[m].contentsObjId=Tn();for(m=1;m<=Ke;m++)G.push(bs({number:m,data:Le[m],objId:lt[m].objId,contentsObjId:lt[m].contentsObjId,mediaBox:lt[m].mediaBox,cropBox:lt[m].cropBox,bleedBox:lt[m].bleedBox,trimBox:lt[m].trimBox,artBox:lt[m].artBox,userUnit:lt[m].userUnit,rootDictionaryObjId:Ji,resourceDictionaryObjId:ri}));or(Ji,!0),H("<</Type /Pages");var ee="/Kids [";for(C=0;C<Ke;C++)ee+=G[C]+" 0 R ";H(ee+"]"),H("/Count "+Ke),H(">>"),H("endobj"),qt.publish("postPutPages")},Re=function(m){qt.publish("putFont",{font:m,out:H,newObject:pn,putStream:si}),m.isAlreadyPutted!==!0&&(m.objectNumber=pn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+sc(m.postScriptName)),H("/Subtype /Type1"),typeof m.encoding=="string"&&H("/Encoding /"+m.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},dt=function(m){m.objectNumber=pn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[N(m.x),N(m.y),N(m.x+m.width),N(m.y+m.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var G=m.pages[1].join(`
`);si({data:G,additionalKeyValues:C,objectId:m.objectNumber}),H("endobj")},Dt=function(m,C){C||(C=21);var G=pn(),ee=function(Pe,Ye){var nt,_t=[],pt=1/(Ye-1);for(nt=0;nt<1;nt+=pt)_t.push(nt);if(_t.push(1),Pe[0].offset!=0){var Gt={offset:0,color:Pe[0].color};Pe.unshift(Gt)}if(Pe[Pe.length-1].offset!=1){var Pn={offset:1,color:Pe[Pe.length-1].color};Pe.push(Pn)}for(var Sn="",h=0,_=0;_<_t.length;_++){for(nt=_t[_];nt>Pe[h+1].offset;)h++;var A=Pe[h].offset,q=(nt-A)/(Pe[h+1].offset-A),ue=Pe[h].color,pe=Pe[h+1].color;Sn+=te(Math.round((1-q)*ue[0]+q*pe[0]).toString(16))+te(Math.round((1-q)*ue[1]+q*pe[1]).toString(16))+te(Math.round((1-q)*ue[2]+q*pe[2]).toString(16))}return Sn.trim()}(m.colors,C),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+C+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),si({data:ee,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),H("endobj"),m.objectNumber=pn(),H("<< /ShadingType "+m.type),H("/ColorSpace /DeviceRGB");var Se="/Coords ["+N(parseFloat(m.coords[0]))+" "+N(parseFloat(m.coords[1]))+" ";m.type===2?Se+=N(parseFloat(m.coords[2]))+" "+N(parseFloat(m.coords[3])):Se+=N(parseFloat(m.coords[2]))+" "+N(parseFloat(m.coords[3]))+" "+N(parseFloat(m.coords[4]))+" "+N(parseFloat(m.coords[5])),H(Se+="]"),m.matrix&&H("/Matrix ["+m.matrix.toString()+"]"),H("/Function "+G+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Ct=function(m,C){var G=Tn(),ee=pn();C.push({resourcesOid:G,objectOid:ee}),m.objectNumber=ee;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+m.boundingBox.map(N).join(" ")+"]"}),ae.push({key:"XStep",value:N(m.xStep)}),ae.push({key:"YStep",value:N(m.yStep)}),ae.push({key:"Resources",value:G+" 0 R"}),m.matrix&&ae.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),si({data:m.stream,additionalKeyValues:ae,objectId:m.objectNumber}),H("endobj")},At=function(m){for(var C in m.objectNumber=pn(),H("<<"),m)switch(C){case"opacity":H("/ca "+w(m[C]));break;case"stroke-opacity":H("/CA "+w(m[C]))}H(">>"),H("endobj")},Wt=function(m){or(m.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var C in H("/Font <<"),Je)Je.hasOwnProperty(C)&&(g===!1||g===!0&&y.hasOwnProperty(C))&&H("/"+C+" "+Je[C].objectNumber+" 0 R");H(">>")}(),function(){if(Object.keys(tt).length>0){for(var C in H("/Shading <<"),tt)tt.hasOwnProperty(C)&&tt[C]instanceof nu&&tt[C].objectNumber>=0&&H("/"+C+" "+tt[C].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),H(">>")}}(),function(C){if(Object.keys(tt).length>0){for(var G in H("/Pattern <<"),tt)tt.hasOwnProperty(G)&&tt[G]instanceof p.TilingPattern&&tt[G].objectNumber>=0&&tt[G].objectNumber<C&&H("/"+G+" "+tt[G].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),H(">>")}}(m.objectOid),function(){if(Object.keys(ct).length>0){var C;for(C in H("/ExtGState <<"),ct)ct.hasOwnProperty(C)&&ct[C].objectNumber>=0&&H("/"+C+" "+ct[C].objectNumber+" 0 R");qt.publish("putGStateDict"),H(">>")}}(),function(){for(var C in H("/XObject <<"),Fn)Fn.hasOwnProperty(C)&&Fn[C].objectNumber>=0&&H("/"+C+" "+Fn[C].objectNumber+" 0 R");qt.publish("putXobjectDict"),H(">>")}(),H(">>"),H("endobj")},cn=function(m){Pt[m.fontName]=Pt[m.fontName]||{},Pt[m.fontName][m.fontStyle]=m.id},Fe=function(m,C,G,ee,ae){var Se={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:m,fontName:C,fontStyle:G,encoding:ee,isStandardFont:ae||!1,metadata:{}};return qt.publish("addFont",{font:Se,instance:this}),Je[Se.id]=Se,cn(Se),Se.id},jt=p.__private__.pdfEscape=p.pdfEscape=function(m,C){return function(G,ee){var ae,Se,Pe,Ye,nt,_t,pt,Gt,Pn;if(Pe=(ee=ee||{}).sourceEncoding||"Unicode",nt=ee.outputEncoding,(ee.autoencode||nt)&&Je[et].metadata&&Je[et].metadata[Pe]&&Je[et].metadata[Pe].encoding&&(Ye=Je[et].metadata[Pe].encoding,!nt&&Je[et].encoding&&(nt=Je[et].encoding),!nt&&Ye.codePages&&(nt=Ye.codePages[0]),typeof nt=="string"&&(nt=Ye[nt]),nt)){for(pt=!1,_t=[],ae=0,Se=G.length;ae<Se;ae++)(Gt=nt[G.charCodeAt(ae)])?_t.push(String.fromCharCode(Gt)):_t.push(G[ae]),_t[ae].charCodeAt(0)>>8&&(pt=!0);G=_t.join("")}for(ae=G.length;pt===void 0&&ae!==0;)G.charCodeAt(ae-1)>>8&&(pt=!0),ae--;if(!pt)return G;for(_t=ee.noBOM?[]:[254,255],ae=0,Se=G.length;ae<Se;ae++){if((Pn=(Gt=G.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(Pn),_t.push(Gt-(Pn<<8))}return String.fromCharCode.apply(void 0,_t)}(m,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zn=p.__private__.beginPage=function(m){Le[++Ke]=[],lt[Ke]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},zs(Ke),ot(Le[W])},yt=function(m,C){var G,ee,ae;switch(n=C||n,typeof m=="string"&&(G=x(m.toLowerCase()),Array.isArray(G)&&(ee=G[0],ae=G[1])),Array.isArray(m)&&(ee=m[0]*Tt,ae=m[1]*Tt),isNaN(ee)&&(ee=i[0],ae=i[1]),(ee>14400||ae>14400)&&(In.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ae=Math.min(14400,ae)),i=[ee,ae],n.substr(0,1)){case"l":ae>ee&&(i=[ae,ee]);break;case"p":ee>ae&&(i=[ae,ee])}Zn(i),xt(Vi),H(Ca),Ui!==0&&H(Ui+" J"),La!==0&&H(La+" j"),qt.publish("addPage",{pageNumber:Ke})},qn=function(m){m>0&&m<=Ke&&(Le.splice(m,1),lt.splice(m,1),Ke--,W>Ke&&(W=Ke),this.setPage(W))},zs=function(m){m>0&&m<=Ke&&(W=m)},go=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},Na=function(m,C,G){var ee,ae=void 0;return G=G||{},m=m!==void 0?m:Je[et].fontName,C=C!==void 0?C:Je[et].fontStyle,ee=m.toLowerCase(),Pt[ee]!==void 0&&Pt[ee][C]!==void 0?ae=Pt[ee][C]:Pt[m]!==void 0&&Pt[m][C]!==void 0?ae=Pt[m][C]:G.disableWarning===!1&&In.warn("Unable to look up font label for font '"+m+"', '"+C+"'. Refer to getFontList() for available fonts."),ae||G.noFallback||(ae=Pt.times[C])==null&&(ae=Pt.times.normal),ae},Si=p.__private__.putInfo=function(){var m=pn(),C=function(ee){return ee};for(var G in f!==null&&(C=xn.encryptor(m,0)),H("<<"),H("/Producer ("+jt(C("jsPDF "+ht.version))+")"),Ut)Ut.hasOwnProperty(G)&&Ut[G]&&H("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+jt(C(Ut[G]))+")");H("/CreationDate ("+jt(C(ce))+")"),H(">>"),H("endobj")},Lr=p.__private__.putCatalog=function(m){var C=(m=m||{}).rootDictionaryObjId||Ji;switch(pn(),H("<<"),H("/Type /Catalog"),H("/Pages "+C+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+He;G.substr(G.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&H("/OpenAction [3 0 R /XYZ null null "+w(He)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}rt&&H("/PageMode /"+rt),qt.publish("putCatalog"),H(">>"),H("endobj")},oi=p.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(re+1)),H("/Root "+re+" 0 R"),H("/Info "+(re-1)+" 0 R"),f!==null&&H("/Encrypt "+xn.oid+" 0 R"),H("/ID [ <"+ge+"> <"+ge+"> ]"),H(">>")},wn=p.__private__.putHeader=function(){H("%PDF-"+I),H("%")},ji=p.__private__.putXRef=function(){var m="0000000000";H("xref"),H("0 "+(re+1)),H("0000000000 65535 f ");for(var C=1;C<=re;C++)typeof oe[C]=="function"?H((m+oe[C]()).slice(-10)+" 00000 n "):oe[C]!==void 0?H((m+oe[C]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},ai=p.__private__.buildDocument=function(){var m;re=0,ve=0,me=[],oe=[],Ee=[],Ji=Tn(),ri=Tn(),ot(me),qt.publish("buildDocument"),wn(),be(),function(){qt.publish("putAdditionalObjects");for(var G=0;G<Ee.length;G++){var ee=Ee[G];or(ee.objId,!0),H(ee.content),H("endobj")}qt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var G in Je)Je.hasOwnProperty(G)&&(g===!1||g===!0&&y.hasOwnProperty(G))&&Re(Je[G])}(),function(){var G;for(G in ct)ct.hasOwnProperty(G)&&At(ct[G])}(),function(){for(var G in Fn)Fn.hasOwnProperty(G)&&dt(Fn[G])}(),function(G){var ee;for(ee in tt)tt.hasOwnProperty(ee)&&(tt[ee]instanceof nu?Dt(tt[ee]):tt[ee]instanceof vc&&Ct(tt[ee],G))}(m),qt.publish("putResources"),m.forEach(Wt),Wt({resourcesOid:ri,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),f!==null&&(xn.oid=pn(),H("<<"),H("/Filter /Standard"),H("/V "+xn.v),H("/R "+xn.r),H("/U <"+xn.toHexString(xn.U)+">"),H("/O <"+xn.toHexString(xn.O)+">"),H("/P "+xn.P),H(">>"),H("endobj")),Si(),Lr();var C=ve;return ji(),oi(),H("startxref"),H(""+C),H("%%EOF"),ot(Le[W]),me.join(`
`)},Zt=p.__private__.getBlob=function(m){return new Blob([bt(m)],{type:"application/pdf"})},xs=p.output=p.__private__.output=(zr=function(m,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",m){case void 0:return ai();case"save":p.save(C.filename);break;case"arraybuffer":return bt(ai());case"blob":return Zt(ai());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(Zt(ai()))||void 0;In.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ee=ai();try{G=Jx(ee)}catch{G=Jx(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+C.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ae=C.pdfObjectUrl,Se="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Ye=Et.open();return Ye!==null&&Ye.document.write(Pe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',_t=Et.open();if(_t!==null){_t.document.write(nt);var pt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=C.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Pn=Et.open();if(Pn!==null&&(Pn.document.write(Gt),Pn.document.title=C.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",C);default:return null}},zr.foo=function(){try{return zr.apply(this,arguments)}catch(G){var m=G.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var C="Error in function "+m.split(`
`)[0].split("<")[0]+": "+G.message;if(!Et.console)throw new Error(C);Et.console.error(C,G),Et.alert&&alert(C)}},zr.foo.bar=zr,zr.foo),mr=function(m){return Array.isArray(Jn)===!0&&Jn.indexOf(m)>-1};switch(r){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=mr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Tt=r}var xn=null;_e(),J();var Zi=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[m].objId,pageNumber:m,pageContext:lt[m]}},Ta=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in lt)if(lt[C].objId===m)break;return Zi(C)},ka=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:lt[W].objId,pageNumber:W,pageContext:lt[W]}};p.addPage=function(){return yt.apply(this,arguments),this},p.setPage=function(){return zs.apply(this,arguments),ot.call(this,Le[W]),this},p.insertPage=function(m){return this.addPage(),this.movePage(W,m),this},p.movePage=function(m,C){var G,ee;if(m>C){G=Le[m],ee=lt[m];for(var ae=m;ae>C;ae--)Le[ae]=Le[ae-1],lt[ae]=lt[ae-1];Le[C]=G,lt[C]=ee,this.setPage(C)}else if(m<C){G=Le[m],ee=lt[m];for(var Se=m;Se<C;Se++)Le[Se]=Le[Se+1],lt[Se]=lt[Se+1];Le[C]=G,lt[C]=ee,this.setPage(C)}return this},p.deletePage=function(){return qn.apply(this,arguments),this},p.__private__.text=p.text=function(m,C,G,ee,ae){var Se,Pe,Ye,nt,_t,pt,Gt,Pn,Sn,h=(ee=ee||{}).scope||this;if(typeof m=="number"&&typeof C=="number"&&(typeof G=="string"||Array.isArray(G))){var _=G;G=C,C=m,m=_}if(arguments[3]instanceof mt==0?(Ye=arguments[4],nt=arguments[5],vn(Gt=arguments[3])==="object"&&Gt!==null||(typeof Ye=="string"&&(nt=Ye,Ye=null),typeof Gt=="string"&&(nt=Gt,Gt=null),typeof Gt=="number"&&(Ye=Gt,Gt=null),ee={flags:Gt,angle:Ye,align:nt})):(E("The transform parameter of text() with a Matrix value"),Sn=ae),isNaN(C)||isNaN(G)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return h;var A,q="",ue=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:ts,pe=h.internal.scaleFactor;function Me(fn){return fn=fn.split("	").join(Array(ee.TabLen||9).join(" ")),jt(fn,Gt)}function kt(fn){for(var An,lr=fn.concat(),Er=[],Zo=lr.length;Zo--;)typeof(An=lr.shift())=="string"?Er.push(An):Array.isArray(fn)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?Er.push(An[0]):Er.push([An[0],An[1],An[2]]);return Er}function Cn(fn,An){var lr;if(typeof fn=="string")lr=An(fn)[0];else if(Array.isArray(fn)){for(var Er,Zo,Sh=fn.concat(),Gu=[],xd=Sh.length;xd--;)typeof(Er=Sh.shift())=="string"?Gu.push(An(Er)[0]):Array.isArray(Er)&&typeof Er[0]=="string"&&(Zo=An(Er[0],Er[1],Er[2]),Gu.push([Zo[0],Zo[1],Zo[2]]));lr=Gu}return lr}var Kt=!1,Rn=!0;if(typeof m=="string")Kt=!0;else if(Array.isArray(m)){var Dr=m.concat();Pe=[];for(var li,Ln=Dr.length;Ln--;)(typeof(li=Dr.shift())!="string"||Array.isArray(li)&&typeof li[0]!="string")&&(Rn=!1);Kt=Rn}if(Kt===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var ui=Ie/h.internal.scaleFactor,Is=ui*(ue-1);switch(ee.baseline){case"bottom":G-=Is;break;case"top":G+=ui-Is;break;case"hanging":G+=ui-2*Is;break;case"middle":G+=ui/2-Is}if((pt=ee.maxWidth||0)>0&&(typeof m=="string"?m=h.splitTextToSize(m,pt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(fn,An){return fn.concat(h.splitTextToSize(An,pt))},[]))),Se={text:m,x:C,y:G,options:ee,mutex:{pdfEscape:jt,activeFontKey:et,fonts:Je,activeFontSize:Ie}},qt.publish("preProcessText",Se),m=Se.text,Ye=(ee=Se.options).angle,Sn instanceof mt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,ee.rotationDirection===0&&(Ye=-Ye),U===L&&(Ye=-Ye);var Qo=Math.cos(Ye),gh=Math.sin(Ye);Sn=new mt(Qo,gh,-gh,Qo,0,0)}else Ye&&Ye instanceof mt&&(Sn=Ye);U!==L||Sn||(Sn=Ur),(_t=ee.charSpace||As)!==void 0&&(q+=N(k(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=ee.horizontalScale)!==void 0&&(q+=N(100*Pn)+` Tz
`),ee.lang;var Ti=-1,Xo=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Hu=h.internal.getCurrentPageInfo().pageContext;switch(Xo){case 0:case!1:case"fill":Ti=0;break;case 1:case!0:case"stroke":Ti=1;break;case 2:case"fillThenStroke":Ti=2;break;case 3:case"invisible":Ti=3;break;case 4:case"fillAndAddForClipping":Ti=4;break;case 5:case"strokeAndAddPathForClipping":Ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ti=6;break;case 7:case"addToPathForClipping":Ti=7}var wd=Hu.usedRenderingMode!==void 0?Hu.usedRenderingMode:-1;Ti!==-1?q+=Ti+` Tr
`:wd!==-1&&(q+=`0 Tr
`),Ti!==-1&&(Hu.usedRenderingMode=Ti),nt=ee.align||"left";var Ns,Gl=Ie*ue,mh=h.internal.pageSize.getWidth(),yh=Je[et];_t=ee.charSpace||As,pt=ee.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Ma=[],Kl=function(fn){return h.getStringUnitWidth(fn,{font:yh,charSpace:_t,fontSize:Ie,doKerning:!1})*Ie/pe};if(Object.prototype.toString.call(m)==="[object Array]"){var ns;Pe=kt(m),nt!=="left"&&(Ns=Pe.map(Kl));var rs,Fa=0;if(nt==="right"){C-=Ns[0],m=[],Ln=Pe.length;for(var Jo=0;Jo<Ln;Jo++)Jo===0?(rs=Ei(C),ns=Ss(G)):(rs=k(Fa-Ns[Jo]),ns=-Gl),m.push([Pe[Jo],rs,ns]),Fa=Ns[Jo]}else if(nt==="center"){C-=Ns[0]/2,m=[],Ln=Pe.length;for(var ja=0;ja<Ln;ja++)ja===0?(rs=Ei(C),ns=Ss(G)):(rs=k((Fa-Ns[ja])/2),ns=-Gl),m.push([Pe[ja],rs,ns]),Fa=Ns[ja]}else if(nt==="left"){m=[],Ln=Pe.length;for(var vh=0;vh<Ln;vh++)m.push(Pe[vh])}else if(nt==="justify"&&yh.encoding==="Identity-H"){m=[],Ln=Pe.length,pt=pt!==0?pt:mh;for(var Wu=0,ar=0;ar<Ln;ar++)if(ns=ar===0?Ss(G):-Gl,rs=ar===0?Ei(C):Wu,ar<Ln-1){var bd=k((pt-Ns[ar])/(Pe[ar].split(" ").length-1)),bo=Pe[ar].split(" ");m.push([bo[0]+" ",rs,ns]),Wu=0;for(var xo=1;xo<bo.length;xo++){var _h=(Kl(bo[xo-1]+" "+bo[xo])-Kl(bo[xo]))*pe+bd;xo==bo.length-1?m.push([bo[xo],_h,0]):m.push([bo[xo]+" ",_h,0]),Wu-=_h}}else m.push([Pe[ar],rs,ns]);m.push(["",Wu,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Ln=Pe.length,pt=pt!==0?pt:mh,ar=0;ar<Ln;ar++){ns=ar===0?Ss(G):-Gl,rs=ar===0?Ei(C):0;var wh=Pe[ar].split(" ").length-1,bh=wh>0?(pt-Ns[ar])/wh:0;ar<Ln-1?Ma.push(N(k(bh))):Ma.push(0),m.push([Pe[ar],rs,ns])}}}(typeof ee.R2L=="boolean"?ee.R2L:ft)===!0&&(m=Cn(m,function(fn,An,lr){return[fn.split("").reverse().join(""),An,lr]})),Se={text:m,x:C,y:G,options:ee,mutex:{pdfEscape:jt,activeFontKey:et,fonts:Je,activeFontSize:Ie}},qt.publish("postProcessText",Se),m=Se.text,A=Se.mutex.isHex||!1;var xh=Je[et].encoding;xh!=="WinAnsiEncoding"&&xh!=="StandardEncoding"||(m=Cn(m,function(fn,An,lr){return[Me(fn),An,lr]})),Pe=kt(m),m=[];for(var Va,Ua,Ba,Yl=Array.isArray(Pe[0])?1:0,za="",Ql=function(fn,An,lr){var Er="";return lr instanceof mt?(lr=typeof ee.angle=="number"?Wn(lr,new mt(1,0,0,1,fn,An)):Wn(new mt(1,0,0,1,fn,An),lr),U===L&&(lr=Wn(new mt(1,0,0,-1,0,0),lr)),Er=lr.join(" ")+` Tm
`):Er=N(fn)+" "+N(An)+` Td
`,Er},Ts=0;Ts<Pe.length;Ts++){switch(za="",Yl){case 1:Ba=(A?"<":"(")+Pe[Ts][0]+(A?">":")"),Va=parseFloat(Pe[Ts][1]),Ua=parseFloat(Pe[Ts][2]);break;case 0:Ba=(A?"<":"(")+Pe[Ts]+(A?">":")"),Va=Ei(C),Ua=Ss(G)}Ma!==void 0&&Ma[Ts]!==void 0&&(za=Ma[Ts]+` Tw
`),Ts===0?m.push(za+Ql(Va,Ua,Sn)+Ba):Yl===0?m.push(za+Ba):Yl===1&&m.push(za+Ql(Va,Ua,Sn)+Ba)}m=Yl===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var So=`BT
/`;return So+=et+" "+Ie+` Tf
`,So+=N(Ie*ue)+` TL
`,So+=mo+`
`,So+=q,So+=m,H(So+="ET"),y[et]=!0,h};var Bl=p.__private__.clip=p.clip=function(m){return H(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Bl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return H("n"),this};var $t=p.__private__.isValidStyle=function(m){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(C=!0),C};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return $t(m)&&(u=m),this};var er=p.__private__.getStyle=p.getStyle=function(m){var C=u;switch(m){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=m}return C},Ar=p.close=function(){return H("h"),this};p.stroke=function(){return H("S"),this},p.fill=function(m){return Gn("f",m),this},p.fillEvenOdd=function(m){return Gn("f*",m),this},p.fillStroke=function(m){return Gn("B",m),this},p.fillStrokeEvenOdd=function(m){return Gn("B*",m),this};var Gn=function(m,C){vn(C)==="object"?Go(C,m):H(m)},$r=function(m){m===null||U===L&&m===void 0||(m=er(m),H(m))};function qs(m,C,G,ee,ae){var Se=new vc(C||this.boundingBox,G||this.xStep,ee||this.yStep,this.gState,ae||this.matrix);Se.stream=this.stream;var Pe=m+"$$"+this.cloneIndex+++"$$";return Br(Pe,Se),Se}var Go=function(m,C){var G=on[m.key],ee=tt[G];if(ee instanceof nu)H("q"),H(Ko(C)),ee.gState&&p.setGState(ee.gState),H(m.matrix.toString()+" cm"),H("/"+G+" sh"),H("Q");else if(ee instanceof vc){var ae=new mt(1,0,0,-1,0,Hs());m.matrix&&(ae=ae.multiply(m.matrix||Ur),G=qs.call(ee,m.key,m.boundingBox,m.xStep,m.yStep,ae).id),H("q"),H("/Pattern cs"),H("/"+G+" scn"),ee.gState&&p.setGState(ee.gState),H(C),H("Q")}},Ko=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},$s=p.moveTo=function(m,C){return H(N(k(m))+" "+N(X(C))+" m"),this},es=p.lineTo=function(m,C){return H(N(k(m))+" "+N(X(C))+" l"),this},Ai=p.curveTo=function(m,C,G,ee,ae,Se){return H([N(k(m)),N(X(C)),N(k(G)),N(X(ee)),N(k(ae)),N(X(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!$t(ae))throw new Error("Invalid arguments passed to jsPDF.line");return U===P?this.lines([[G-m,ee-C]],m,C,[1,1],ae||"S"):this.lines([[G-m,ee-C]],m,C,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,C,G,ee,ae,Se){var Pe,Ye,nt,_t,pt,Gt,Pn,Sn,h,_,A,q;if(typeof m=="number"&&(q=G,G=C,C=m,m=q),ee=ee||[1,1],Se=Se||!1,isNaN(C)||isNaN(G)||!Array.isArray(m)||!Array.isArray(ee)||!$t(ae)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($s(C,G),Pe=ee[0],Ye=ee[1],_t=m.length,_=C,A=G,nt=0;nt<_t;nt++)(pt=m[nt]).length===2?(_=pt[0]*Pe+_,A=pt[1]*Ye+A,es(_,A)):(Gt=pt[0]*Pe+_,Pn=pt[1]*Ye+A,Sn=pt[2]*Pe+_,h=pt[3]*Ye+A,_=pt[4]*Pe+_,A=pt[5]*Ye+A,Ai(Gt,Pn,Sn,h,_,A));return Se&&Ar(),$r(ae),this},p.path=function(m){for(var C=0;C<m.length;C++){var G=m[C],ee=G.c;switch(G.op){case"m":$s(ee[0],ee[1]);break;case"l":es(ee[0],ee[1]);break;case"c":Ai.apply(this,ee);break;case"h":Ar()}}return this},p.__private__.rect=p.rect=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!$t(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return U===P&&(ee=-ee),H([N(k(m)),N(X(C)),N(k(G)),N(k(ee)),"re"].join(" ")),$r(ae),this},p.__private__.triangle=p.triangle=function(m,C,G,ee,ae,Se,Pe){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(Se)||!$t(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-m,ee-C],[ae-G,Se-ee],[m-ae,C-Se]],m,C,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,C,G,ee,ae,Se,Pe){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(Se)||!$t(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*G),Se=Math.min(Se,.5*ee),this.lines([[G-2*ae,0],[ae*Ye,0,ae,Se-Se*Ye,ae,Se],[0,ee-2*Se],[0,Se*Ye,-ae*Ye,Se,-ae,Se],[2*ae-G,0],[-ae*Ye,0,-ae,-Se*Ye,-ae,-Se],[0,2*Se-ee],[0,-Se*Ye,ae*Ye,-Se,ae,-Se]],m+ae,C,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!$t(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*G,Pe=4/3*(Math.SQRT2-1)*ee;return $s(m+G,C),Ai(m+G,C-Pe,m+Se,C-ee,m,C-ee),Ai(m-Se,C-ee,m-G,C-Pe,m-G,C),Ai(m-G,C+Pe,m-Se,C+ee,m,C+ee),Ai(m+Se,C+ee,m+G,C+Pe,m+G,C),$r(ae),this},p.__private__.circle=p.circle=function(m,C,G,ee){if(isNaN(m)||isNaN(C)||isNaN(G)||!$t(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,C,G,G,ee)},p.setFont=function(m,C,G){return G&&(C=F(C,G)),et=Na(m,C,{disableWarning:!1}),this};var zl=p.__private__.getFont=p.getFont=function(){return Je[Na.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,C,G={};for(m in Pt)if(Pt.hasOwnProperty(m))for(C in G[m]=[],Pt[m])Pt[m].hasOwnProperty(C)&&G[m].push(C);return G},p.addFont=function(m,C,G,ee,ae){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(G=F(G,ee)),Fe.call(this,m,C,G,ae=ae||"Identity-H")};var ts,Vi=t.lineWidth||.200025,ph=p.__private__.getLineWidth=p.getLineWidth=function(){return Vi},xt=p.__private__.setLineWidth=p.setLineWidth=function(m){return Vi=m,H(N(k(m))+" w"),this};p.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(m,C){if(m=m||[],C=C||0,isNaN(C)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(G){return N(k(G))}).join(" "),C=N(k(C)),H("["+m+"] "+C+" d"),this};var Pa=p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*ts};p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*ts};var Bu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(ts=m),this},Yo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ts};Bu(t.lineHeight);var Ei=p.__private__.getHorizontalCoordinate=function(m){return k(m)},Ss=p.__private__.getVerticalCoordinate=function(m){return U===L?m:lt[W].mediaBox.topRightY-lt[W].mediaBox.bottomLeftY-k(m)},ql=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return N(Ei(m))},kn=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return N(Ss(m))},Ca=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ii(Ca)},p.__private__.setStrokeColor=p.setDrawColor=function(m,C,G,ee){return Ca=qr({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"draw",precision:2}),H(Ca),this};var $l=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ii($l)},p.__private__.setFillColor=p.setFillColor=function(m,C,G,ee){return $l=qr({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"fill",precision:2}),H($l),this};var mo=t.textColor||"0 g",zu=p.__private__.getTextColor=p.getTextColor=function(){return ii(mo)};p.__private__.setTextColor=p.setTextColor=function(m,C,G,ee){return mo=qr({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"text",precision:3}),this};var As=t.charSpace,Ra=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(As||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return As=m,this};var Ui=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var C=p.CapJoinStyles[m];if(C===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ui=C,H(C+" J"),this};var La=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var C=p.CapJoinStyles[m];if(C===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return La=C,H(C+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(N(k(m))+" M"),this},p.GState=Hg,p.setGState=function(m){(m=typeof m=="string"?ct[gt[m]]:qu(null,m)).equals(an)||(H("/"+m.id+" gs"),an=m)};var qu=function(m,C){if(!m||!gt[m]){var G=!1;for(var ee in ct)if(ct.hasOwnProperty(ee)&&ct[ee].equals(C)){G=!0;break}if(G)C=ct[ee];else{var ae="GS"+(Object.keys(ct).length+1).toString(10);ct[ae]=C,C.id=ae}return m&&(gt[m]=C.id),qt.publish("addGState",C),C}};p.addGState=function(m,C){return qu(m,C),this},p.saveGraphicsState=function(){return H("q"),nn.push({key:et,size:Ie,color:mo}),this},p.restoreGraphicsState=function(){H("Q");var m=nn.pop();return et=m.key,Ie=m.size,mo=m.color,an=null,this},p.setCurrentTransformationMatrix=function(m){return H(m.toString()+" cm"),this},p.comment=function(m){return H("#"+m),this};var Ii=function(m,C){var G=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Se){isNaN(Se)||(G=parseFloat(Se))}});var ee=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Se){isNaN(Se)||(ee=parseFloat(Se))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(Se){ae=Se.toString()}}),this},Da=function(m,C,G,ee){Ii.call(this,m,C),this.type="rect";var ae=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(Pe){isNaN(Pe)||(ae=parseFloat(Pe))}});var Se=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Pe){isNaN(Pe)||(Se=parseFloat(Pe))}}),this},yo=function(){this.page=Ke,this.currentPage=W,this.pages=Le.slice(0),this.pagesContext=lt.slice(0),this.x=We,this.y=Nn,this.matrix=Ft,this.width=wo(W),this.height=Hl(W),this.outputDestination=je,this.id="",this.objectNumber=-1};yo.prototype.restore=function(){Ke=this.page,W=this.currentPage,lt=this.pagesContext,Le=this.pages,We=this.x,Nn=this.y,Ft=this.matrix,$u(W,this.width),Ni(W,this.height),je=this.outputDestination};var vo=function(m,C,G,ee,ae){xr.push(new yo),Ke=W=0,Le=[],We=m,Nn=C,Ft=ae,Zn([G,ee])};for(var _o in p.beginFormObject=function(m,C,G,ee,ae){return vo(m,C,G,ee,ae),this},p.endFormObject=function(m){return function(C){if(ni[C])xr.pop().restore();else{var G=new yo,ee="Xo"+(Object.keys(Fn).length+1).toString(10);G.id=ee,ni[C]=ee,Fn[ee]=G,qt.publish("addFormObject",G),xr.pop().restore()}}(m),this},p.doFormObject=function(m,C){var G=Fn[ni[m]];return H("q"),H(C.toString()+" cm"),H("/"+G.id+" Do"),H("Q"),this},p.getFormObject=function(m){var C=Fn[ni[m]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},p.save=function(m,C){return m=m||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(tu(Zt(ai()),m),typeof tu.unload=="function"&&Et.setTimeout&&setTimeout(tu.unload,911),this):new Promise(function(G,ee){try{var ae=tu(Zt(ai()),m);typeof tu.unload=="function"&&Et.setTimeout&&setTimeout(tu.unload,911),G(ae)}catch(Se){ee(Se.message)}})},ht.API)ht.API.hasOwnProperty(_o)&&(_o==="events"&&ht.API.events.length?function(m,C){var G,ee,ae;for(ae=C.length-1;ae!==-1;ae--)G=C[ae][0],ee=C[ae][1],m.subscribe.apply(m,[G].concat(typeof ee=="function"?[ee]:ee))}(qt,ht.API.events):p[_o]=ht.API[_o]);function wo(m){return lt[m].mediaBox.topRightX-lt[m].mediaBox.bottomLeftX}function $u(m,C){lt[m].mediaBox.topRightX=C+lt[m].mediaBox.bottomLeftX}function Hl(m){return lt[m].mediaBox.topRightY-lt[m].mediaBox.bottomLeftY}function Ni(m,C){lt[m].mediaBox.topRightY=C+lt[m].mediaBox.bottomLeftY}var Es=p.getPageWidth=function(m){return wo(m=m||W)/Tt},Wl=p.setPageWidth=function(m,C){$u(m,C*Tt)},Hs=p.getPageHeight=function(m){return Hl(m=m||W)/Tt},Oa=p.setPageHeight=function(m,C){Ni(m,C*Tt)};return p.internal={pdfEscape:jt,getStyle:er,getFont:zl,getFontSize:ze,getCharSpace:Ra,getTextColor:zu,getLineHeight:Pa,getLineHeightFactor:Yo,getLineWidth:ph,write:Ve,getHorizontalCoordinate:Ei,getVerticalCoordinate:Ss,getCoordinateString:ql,getVerticalCoordinateString:kn,collections:{},newObject:pn,newAdditionalObject:Rr,newObjectDeferred:Tn,newObjectDeferredBegin:or,getFilters:Sr,putStream:si,events:qt,scaleFactor:Tt,pageSize:{getWidth:function(){return Es(W)},setWidth:function(m){Wl(W,m)},getHeight:function(){return Hs(W)},setHeight:function(m){Oa(W,m)}},encryptionOptions:f,encryption:xn,getEncryptor:function(m){return f!==null?xn.encryptor(m,0):function(C){return C}},output:xs,getNumberOfPages:go,get pages(){return Le},out:H,f2:w,f3:T,getPageInfo:Zi,getPageInfoByObjId:Ta,getCurrentPageInfo:ka,getPDFVersion:S,Point:Ii,Rectangle:Da,Matrix:mt,hasHotfix:mr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Es(W)},set:function(m){Wl(W,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Hs(W)},set:function(m){Oa(W,m)},enumerable:!0,configurable:!0}),(function(m){for(var C=0,G=at.length;C<G;C++){var ee=Fe.call(this,m[C][0],m[C][1],m[C][2],at[C][3],!0);g===!1&&(y[ee]=!0);var ae=m[C][0].split("-");cn({id:ee,fontName:ae[0],fontStyle:ae[1]||""})}qt.publish("addFonts",{fonts:Je,dictionary:Pt})}).call(p,at),et="F1",yt(i,n),qt.publish("initialized"),p}ic.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ic.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ic.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ic.prototype.processOwnerPassword=function(t,e){return X2(Q2(e).substr(0,5),t)},ic.prototype.encryptor=function(t,e){var n=Q2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return X2(n,r)}},Hg.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||vn(t)!==vn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.0.0";var rr=ht.API,c5=1,Uu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ju=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},Ja=function(t){return t.toFixed(5)};rr.__acroform__={};var Xi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},n4=function(t){return t*c5},Io=function(t){var e=new jI,n=Ze.internal.getHeight(t)||0,r=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(r)),Number(Ot(n))],e},NV=rr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},TV=rr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},kV=rr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},dr=rr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kV(t,e-1)},pr=rr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NV(t,e-1)},gr=rr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TV(t,e-1)},PV=rr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Ot(l.lowerLeft_X)),Number(Ot(l.lowerLeft_Y)),Number(Ot(l.upperRight_X)),Number(Ot(l.upperRight_Y))]},CV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=J2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ot(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Io(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},J2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(w){return w.split(`
`)}):i.map(function(w){return[w]});var s=n,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ze.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(w,T,k){if(w+1<i.length){var X=T+" "+i[w+1][0];return yp(X,t,k).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,g=yp("3",t,s).height,y=t.multiline?o-s:(o-g)/2,p=y+=2,I=0,S=0,O=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+yp(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",P=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var U=!1;if(i[L].length!==1&&O!==i[L].length-1){if((g+2)*(P+2)+2>o)continue e;x+=i[L][O],U=!0,S=L,L--}else{x=(x+=i[L][O]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var Z=parseInt(L),ie=l(Z,x,s),F=L>=i.length-1;if(ie&&!F){x+=" ",O=0;continue}if(ie||F){if(F)S=Z;else if(t.multiline&&(g+2)*(P+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(P+2)+2>o)continue e;S=Z}}for(var N="",E=I;E<=S;E++){var D=i[E];if(t.multiline){if(E===S){N+=D[O]+" ",O=(O+1)%D.length;continue}if(E===I){N+=D[D.length-1]+" ";continue}}N+=D[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,f=yp(N,t,s).width,t.textAlign){case"right":u=a-f-2;break;case"center":u=(a-f)/2;break;default:u=2}e+=Ot(u)+" "+Ot(p)+` Td
`,e+="("+Uu(N)+`) Tj
`,e+=-Ot(u)+` 0 Td
`,p=-(s+2),f=0,I=U?S:S+1,P++,x=""}break}return r.text=e,r.fontSize=s,r},yp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},RV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LV=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},DV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(fo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(RV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new VI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&LV(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=PV(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),vn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=CV(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var g="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var p=a.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var I=p[o];typeof I=="function"&&(I=I.call(i,a)),g+="/"+o+" "+I+" ",i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I)}}else typeof(I=p)=="function"&&(I=I.call(i,a)),g+="/"+o+" "+I,i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(S,O){for(var x in S)if(S.hasOwnProperty(x)){var P=x,L=S[x];O.internal.newObjectDeferredBegin(L.objId,!0),vn(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete S[P]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},FI=rr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),vn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Uu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cm=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Uu(r(t))+")"},Ro=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ro.prototype.toString=function(){return this.objId+" 0 R"},Ro.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ro.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:FI(i,this.objId,this.scope)}):i instanceof Ro?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var jI=function(){Ro.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Xi(jI,Ro);var VI=function(){Ro.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Uu(n(t))+")"}},set:function(n){t=n}})};Xi(VI,Ro);var fo=function t(){Ro.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dr(e,3)},set:function(x){x?this.F=pr(e,3):this.F=gr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Wg)return;s="FieldObject"+t.FieldNum++}var x=function(P){return P};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Uu(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/c5:u},set:function(x){u=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Wg||this instanceof mu))return cm(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof jr==0?cm(y,this.objId,this.scope):y},set:function(x){x=x.toString(),y=this instanceof jr==0?x.substr(0,1)==="("?Ju(x.substr(1,x.length-2)):Ju(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Ju(y.substr(1,y.length-1)):y},set:function(x){x=x.toString(),y=this instanceof jr==1?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof jr==0?cm(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof jr==0?x.substr(0,1)==="("?Ju(x.substr(1,x.length-2)):Ju(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jr==1?Ju(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof jr==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var I,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(x){x=!!x,S=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(I)return I},set:function(x){I=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,1)},set:function(x){x?this.Ff=pr(this.Ff,1):this.Ff=gr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,2)},set:function(x){x?this.Ff=pr(this.Ff,2):this.Ff=gr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,3)},set:function(x){x?this.Ff=pr(this.Ff,3):this.Ff=gr(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');O=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(O){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};Xi(fo,Ro);var Rc=function(){fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,18)},set:function(n){n?this.Ff=pr(this.Ff,18):this.Ff=gr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=pr(this.Ff,19):this.Ff=gr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,20)},set:function(n){n?(this.Ff=pr(this.Ff,20),e.sort()):this.Ff=gr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,22)},set:function(n){n?this.Ff=pr(this.Ff,22):this.Ff=gr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(n){n?this.Ff=pr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,27)},set:function(n){n?this.Ff=pr(this.Ff,27):this.Ff=gr(this.Ff,27)}}),this.hasAppearanceStream=!1};Xi(Rc,fo);var Lc=function(){Rc.call(this),this.fontName="helvetica",this.combo=!1};Xi(Lc,Rc);var Dc=function(){Lc.call(this),this.combo=!0};Xi(Dc,Lc);var Wp=function(){Dc.call(this),this.edit=!0};Xi(Wp,Dc);var jr=function(){fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,15)},set:function(n){n?this.Ff=pr(this.Ff,15):this.Ff=gr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,16)},set:function(n){n?this.Ff=pr(this.Ff,16):this.Ff=gr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,17)},set:function(n){n?this.Ff=pr(this.Ff,17):this.Ff=gr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(n){n?this.Ff=pr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Uu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){vn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Xi(jr,fo);var Gp=function(){jr.call(this),this.pushButton=!0};Xi(Gp,jr);var Oc=function(){jr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Xi(Oc,jr);var Wg=function(){var t,e;fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Uu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){vn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xi(Wg,fo),Oc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Oc.prototype.createOption=function(t){var e=new Wg;return e.Parent=this,e.optionName=t,this.Kids.push(e),OV.call(this.scope,e),e};var Kp=function(){jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Xi(Kp,jr);var mu=function(){fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,13)},set:function(e){e?this.Ff=pr(this.Ff,13):this.Ff=gr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,21)},set:function(e){e?this.Ff=pr(this.Ff,21):this.Ff=gr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(e){e?this.Ff=pr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,24)},set:function(e){e?this.Ff=pr(this.Ff,24):this.Ff=gr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,25)},set:function(e){e?this.Ff=pr(this.Ff,25):this.Ff=gr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(e){e?this.Ff=pr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xi(mu,fo);var Yp=function(){mu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,14)},set:function(t){t?this.Ff=pr(this.Ff,14):this.Ff=gr(this.Ff,14)}}),this.password=!0};Xi(Yp,mu);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Io(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=J2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ot(Ze.internal.getWidth(t))+" "+Ot(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ot(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Io(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),a=J2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ot(o)+" "+Ot(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ot(o-1)+" "+Ot(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ot(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Io(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(Ze.internal.getWidth(t))+" "+Ot(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Io(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(t)/2)+" "+Ja(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Io(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(t)/2)+" "+Ja(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(t)/2)+" "+Ja(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Io(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(t)/2)+" "+Ja(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Io(t);e.scope=t.scope;var n=[],r=Ze.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ot(Ze.internal.getWidth(t)-2)+" "+Ot(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Io(t);e.scope=t.scope;var n=Ze.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Ze.internal.getWidth(t))+" "+Ot(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ot(Ze.internal.getWidth(t)-2)+" "+Ot(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Io(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(Ze.internal.getWidth(t))+" "+Ot(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),n=Ze.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(t){var e=0;return vn(t)==="object"&&(e=n4(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return vn(t)==="object"&&(e=n4(t.Rect[3])),e};var OV=rr.addField=function(t){if(DV(this,t),!(t instanceof fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};rr.AcroFormChoiceField=Rc,rr.AcroFormListBox=Lc,rr.AcroFormComboBox=Dc,rr.AcroFormEditBox=Wp,rr.AcroFormButton=jr,rr.AcroFormPushButton=Gp,rr.AcroFormRadioButton=Oc,rr.AcroFormCheckBox=Kp,rr.AcroFormTextField=mu,rr.AcroFormPasswordField=Yp,rr.AcroFormAppearance=Ze,rr.AcroForm={ChoiceField:Rc,ListBox:Lc,ComboBox:Dc,EditBox:Wp,Button:jr,PushButton:Gp,RadioButton:Oc,CheckBox:Kp,TextField:mu,PasswordField:Yp,Appearance:Ze},ht.AcroForm={ChoiceField:Rc,ListBox:Lc,ComboBox:Dc,EditBox:Wp,Button:jr,PushButton:Gp,RadioButton:Oc,CheckBox:Kp,TextField:mu,PasswordField:Yp,Appearance:Ze};function UI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(w,T){var k,X,ce,ge,ye,J=n;if((T=T||n)==="RGBA"||w.data!==void 0&&w.data instanceof Uint8ClampedArray&&"height"in w&&"width"in w)return"RGBA";if(ie(w))for(ye in r)for(ce=r[ye],k=0;k<ce.length;k+=1){for(ge=!0,X=0;X<ce[k].length;X+=1)if(ce[k][X]!==void 0&&ce[k][X]!==w[X]){ge=!1;break}if(ge===!0){J=ye;break}}else for(ye in r)for(ce=r[ye],k=0;k<ce.length;k+=1){for(ge=!0,X=0;X<ce[k].length;X+=1)if(ce[k][X]!==void 0&&ce[k][X]!==w.charCodeAt(X)){ge=!1;break}if(ge===!0){J=ye;break}}return J===n&&T!==n&&(J=T),J},s=function w(T){for(var k=this.internal.write,X=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:T.width}),ge.push({key:"Height",value:T.height}),T.colorSpace===x.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===x.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var ye="",J=0,le=T.transparency.length;J<le;J++)ye+=T.transparency[J]+" "+T.transparency[J]+" ";ge.push({key:"Mask",value:"["+ye+"]"})}T.sMask!==void 0&&ge.push({key:"SMask",value:T.objectId+1+" 0 R"});var we=T.filter!==void 0?["/"+T.filter]:void 0;if(X({data:T.data,additionalKeyValues:ge,alreadyAppliedFilters:we,objectId:T.objectId}),k("endobj"),"sMask"in T&&T.sMask!==void 0){var _e,j=(_e=T.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:T.bitsPerComponent,W={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:T.sMask};"filter"in T&&(W.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(T.width),W.filter=T.filter),w.call(this,W)}if(T.colorSpace===x.INDEXED){var Q=this.internal.newObject();X({data:N(new Uint8Array(T.palette)),objectId:Q}),k("endobj")}},o=function(){var w=this.internal.collections[e+"images"];for(var T in w)s.call(this,w[T])},a=function(){var w,T=this.internal.collections[e+"images"],k=this.internal.write;for(var X in T)k("/I"+(w=T[X]).index,w.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var w=this.internal.collections[e+"images"];return l.call(this),w},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(w){return typeof t["process"+w.toUpperCase()]=="function"},y=function(w){return vn(w)==="object"&&w.nodeType===1},p=function(w,T){if(w.nodeName==="IMG"&&w.hasAttribute("src")){var k=""+w.getAttribute("src");if(k.indexOf("data:image/")===0)return Hp(unescape(k).split("base64,").pop());var X=t.loadFile(k,!0);if(X!==void 0)return X}if(w.nodeName==="CANVAS"){if(w.width===0||w.height===0)throw new Error("Given canvas must have data. Canvas width: "+w.width+", height: "+w.height);var ce;switch(T){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Hp(w.toDataURL(ce,1).split("base64,").pop())}},I=function(w){var T=this.internal.collections[e+"images"];if(T){for(var k in T)if(w===T[k].alias)return T[k]}},S=function(w,T,k){return w||T||(w=-96,T=-96),w<0&&(w=-1*k.width*72/w/this.internal.scaleFactor),T<0&&(T=-1*k.height*72/T/this.internal.scaleFactor),w===0&&(w=T*k.width/k.height),T===0&&(T=w*k.height/k.width),[w,T]},O=function(w,T,k,X,ce,ge){var ye=S.call(this,k,X,ce),J=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,we=u.call(this);if(k=ye[0],X=ye[1],we[ce.index]=ce,ge){ge*=Math.PI/180;var _e=Math.cos(ge),j=Math.sin(ge),W=function(te){return te.toFixed(4)},Q=[W(_e),W(j),W(-1*j),W(_e),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,J(w),le(T+X),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([J(k),"0","0",J(X),"0","0","cm"].join(" "))):this.internal.write([J(k),"0","0",J(X),J(w),le(T+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=t.__addimage__.sHashCode=function(w){var T,k,X=0;if(typeof w=="string")for(k=w.length,T=0;T<k;T++)X=(X<<5)-X+w.charCodeAt(T),X|=0;else if(ie(w))for(k=w.byteLength/2,T=0;T<k;T++)X=(X<<5)-X+w[T],X|=0;return X},U=t.__addimage__.validateStringAsBase64=function(w){(w=w||"").toString().trim();var T=!0;return w.length===0&&(T=!1),w.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(w.substr(0,w.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(w.substr(-2))===!1&&(T=!1),T},Z=t.__addimage__.extractImageFromDataUrl=function(w){if(w==null||!(w=w.trim()).startsWith("data:"))return null;var T=w.indexOf(",");return T<0?null:w.substring(0,T).trim().endsWith("base64")?w.substring(T+1):null};t.__addimage__.isArrayBuffer=function(w){return w instanceof ArrayBuffer};var ie=t.__addimage__.isArrayBufferView=function(w){return w instanceof Int8Array||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(w){for(var T=w.length,k=new Uint8Array(T),X=0;X<T;X++)k[X]=w.charCodeAt(X);return k},N=t.__addimage__.arrayBufferToBinaryString=function(w){for(var T="",k=ie(w)?w:new Uint8Array(w),X=0;X<k.length;X+=8192)T+=String.fromCharCode.apply(null,k.subarray(X,X+8192));return T};t.addImage=function(){var w,T,k,X,ce,ge,ye,J,le;if(typeof arguments[1]=="number"?(T=n,k=arguments[1],X=arguments[2],ce=arguments[3],ge=arguments[4],ye=arguments[5],J=arguments[6],le=arguments[7]):(T=arguments[1],k=arguments[2],X=arguments[3],ce=arguments[4],ge=arguments[5],ye=arguments[6],J=arguments[7],le=arguments[8]),vn(w=arguments[0])==="object"&&!y(w)&&"imageData"in w){var we=w;w=we.imageData,T=we.format||T||n,k=we.x||k||0,X=we.y||X||0,ce=we.w||we.width||ce,ge=we.h||we.height||ge,ye=we.alias||ye,J=we.compression||J,le=we.rotation||we.angle||le}var _e=this.internal.getFilters();if(J===void 0&&_e.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(k)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=E.call(this,w,T,ye,J);return O.call(this,k,X,ce,ge,j,le),this};var E=function(w,T,k,X){var ce,ge,ye;if(typeof w=="string"&&i(w)===n){w=unescape(w);var J=D(w,!1);(J!==""||(J=t.loadFile(w,!0))!==void 0)&&(w=J)}if(y(w)&&(w=p(w,T)),T=i(w,T),!g(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ye=k)==null||ye.length===0)&&(k=function(le){return typeof le=="string"||ie(le)?L(le):ie(le.data)?L(le.data):null}(w)),(ce=I.call(this,k))||(w instanceof Uint8Array||T==="RGBA"||(ge=w,w=F(w)),ce=this["process"+T.toUpperCase()](w,f.call(this),k,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:P.NONE}(X),ge)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},D=t.__addimage__.convertBase64ToBinaryString=function(w,T){T=typeof T!="boolean"||T;var k,X="";if(typeof w=="string"){var ce;k=(ce=Z(w))!==null&&ce!==void 0?ce:w;try{X=Hp(k)}catch(ge){if(T)throw U(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(w){var T,k,X="";if(y(w)&&(w=p(w)),typeof w=="string"&&i(w)===n&&((X=D(w,!1))===""&&(X=t.loadFile(w)||""),w=X),k=i(w),!g(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(w instanceof Uint8Array||(w=F(w)),!(T=this["process"+k.toUpperCase()](w)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=k,T}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,g=0;g<u.length&&!f;g++)switch((r=u[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){r=u[y];var p=this.internal.pdfEscape,I=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(S.objId),P=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(x(r.contents))+")",s+=" /Popup "+O.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(x(P))+") >>",S.content=s;var L=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(s+=" /Open true"),s+=" >>",O.content=s,this.internal.write(S.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(I(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Z=this.annotations._nameMap[r.options.name];r.options.pageNumber=Z.page,r.options.top=Z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(I(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ie=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ie+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(u*f)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(S){var O=0,x=n,P="",L=0;for(O=0;O<S.length;O+=1)x[S.charCodeAt(O)]!==void 0?(L++,typeof(x=x[S.charCodeAt(O)])=="number"&&(P+=String.fromCharCode(x),x=n,L=0),O===S.length-1&&(x=n,P+=S.charAt(O-(L-1)),O-=L-1,L=0)):(x=n,P+=S.charAt(O-L),O-=L,L=0);return P};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,O,x){return o(S)?s(S)===!1?-1:!u(S)||!o(O)&&!o(x)||!o(x)&&a(O)||a(S)&&!o(O)||a(S)&&l(O)||a(S)&&a(O)?0:f(S)&&o(O)&&!a(O)&&o(x)&&u(x)?3:a(S)||!o(x)?1:2:-1},p=function(S){var O=0,x=0,P=0,L="",U="",Z="",ie=(S=S||"").split("\\s+"),F=[];for(O=0;O<ie.length;O+=1){for(F.push(""),x=0;x<ie[O].length;x+=1)L=ie[O][x],U=ie[O][x-1],Z=ie[O][x+1],o(L)?(P=y(L,U,Z),F[O]+=P!==-1?String.fromCharCode(e[L.charCodeAt(0)][P]):L):F[O]+=L;F[O]=g(F[O])}return F.join(" ")},I=t.__arabicParser__.processArabic=t.processArabic=function(){var S,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(O)){var P=0;for(x=[],P=0;P<O.length;P+=1)Array.isArray(O[P])?x.push([p(O[P][0]),O[P][1],O[P][2]]):x.push([p(O[P])]);S=x}else S=p(O);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",I])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var I=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return I},set:function(S){I=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,I=0,S=0,O=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(L,U){return L.concat(O.splitTextToSize(U,x))},[])):l=Array.isArray(l)?l:[l];for(var P=0;P<l.length;P++)p<(S=this.getStringUnitWidth(l[P],{font:g})*f)&&(p=S);return p!==0&&(I=l.length),{w:p/=y,h:Math.max((I*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,g,y){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,I,S,O,x=[],P=[],L=[],U={},Z={},ie=[],F=[],N=(y=y||{}).autoSize||!1,E=y.printHeaders!==!1,D=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,w=y.margins||Object.assign({width:this.getPageWidth()},e),T=typeof y.padding=="number"?y.padding:3,k=y.headerBackgroundColor||"#c8c8c8",X=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=w,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=X,this.setFontSize(D),g==null)P=x=Object.keys(f[0]),L=x.map(function(){return"left"});else if(Array.isArray(g)&&vn(g[0])==="object")for(x=g.map(function(we){return we.name}),P=g.map(function(we){return we.prompt||we.name||""}),L=g.map(function(we){return we.align||"left"}),p=0;p<g.length;p+=1)Z[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(P=x=g,L=x.map(function(){return"left"}));if(N||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<x.length;p+=1){for(U[O=x[p]]=f.map(function(we){return we[O]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(P[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),I=U[O],this.setFont(void 0,"normal"),S=0;S<I.length;S+=1)ie.push(this.getTextDimensions(I[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[O]=Math.max.apply(null,ie)+T+T,ie=[]}if(E){var ce={};for(p=0;p<x.length;p+=1)ce[x[p]]={},ce[x[p]].text=P[p],ce[x[p]].align=L[p];var ge=a.call(this,ce,Z);F=x.map(function(we){return new s(l,u,Z[we],ge,ce[we].text,void 0,ce[we].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ye=g.reduce(function(we,_e){return we[_e.name]=_e.align,we},{});for(p=0;p<f.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:f[p]},this);var J=a.call(this,f[p],Z);for(S=0;S<x.length;S+=1){var le=f[p][x[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:S,data:le},this),o.call(this,new s(l,u,Z[x[S]],J,le,p+2,ye[x[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(p){var I=l[p];return this.splitTextToSize(I.hasOwnProperty("text")?I.text:I,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/y+f+f},this).reduce(function(p,I){return Math.max(p,I)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=l;var I=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(I)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(ht.API);var BI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Z2=UI(zI),qI=[100,200,300,400,500,600,700,800,900],MV=UI(qI);function hm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return BI[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Z2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function r4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var FV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function o4(t){return t.trimLeft()}function jV(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function VV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var vp,a4,l4,Zu,_p,u4,c4,h4,fm=["times"];function f4(t,e,n,r,i){var s=4,o=p4;switch(i){case ht.API.image_compression.FAST:s=1,o=d4;break;case ht.API.image_compression.MEDIUM:s=6,o=g4;break;case ht.API.image_compression.SLOW:s=9,o=m4}t=function(l,u,f,g){for(var y,p=l.length/u,I=new Uint8Array(l.length+p),S=[UV,d4,p4,g4,m4],O=0;O<p;O+=1){var x=O*u,P=l.subarray(x,x+u);if(g)I.set(g(P,f,y),x+O);else{for(var L=S.length,U=[],Z=0;Z<L;Z+=1)U[Z]=S[Z](P,f,y);var ie=zV(U.concat());I.set(U[ie],x+O)}y=P}return I}(t,e,Math.ceil(n*r/8),o);var a=U2(t,{level:s});return ht.API.__addimage__.arrayBufferToBinaryString(a)}function UV(t){var e=Array.apply([],t);return e.unshift(0),e}function d4(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function p4(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function g4(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function m4(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=BV(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function BV(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function zV(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function dm(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return $I(t,i)>>s&o}function y4(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,f,g){if(f+1<u.byteLength)u.setUint16(f,g,!1);else{var y=g>>8&255;u.setUint8(f,y)}})(t,s,$I(t,s)&~(a<<o)&65535|l)}function $I(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function qV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,f=[],g=0,y=null,p=0,I=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,I=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],1&S||(y=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var O=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,U=t[e++],Z=U>>6&1,ie=1<<1+(7&U),F=a,N=l,E=!1;U>>7&&(E=!0,F=e,N=ie,e+=3*ie);var D=e;for(e++;;){var w;if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}f.push({x:O,y:x,width:P,height:L,has_local_palette:E,palette_offset:F,palette_size:N,data_offset:D,data_length:e-D,transparent_index:y,interlaced:!!Z,delay:g,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return I},this.frameInfo=function(T){if(T<0||T>=f.length)throw new Error("Frame index out of range.");return f[T]},this.decodeAndBlitFrameBGRA=function(T,k){var X=this.frameInfo(T),ce=X.width*X.height,ge=new Uint8Array(ce);v4(t,X.data_offset,ge,ce);var ye=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,we=n-le,_e=le,j=4*(X.y*n+X.x),W=4*((X.y+X.height)*n+X.x),Q=j,te=4*we;X.interlaced===!0&&(te+=4*n*7);for(var re=8,oe=0,me=ge.length;oe<me;++oe){var ve=ge[oe];if(_e===0&&(_e=le,(Q+=te)>=W&&(te=4*we+4*n*(re-1),Q=j+(le+we)*(re<<1),re>>=1)),ve===J)Q+=4;else{var Ee=t[ye+3*ve],Le=t[ye+3*ve+1],Be=t[ye+3*ve+2];k[Q++]=Be,k[Q++]=Le,k[Q++]=Ee,k[Q++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(T,k){var X=this.frameInfo(T),ce=X.width*X.height,ge=new Uint8Array(ce);v4(t,X.data_offset,ge,ce);var ye=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,we=n-le,_e=le,j=4*(X.y*n+X.x),W=4*((X.y+X.height)*n+X.x),Q=j,te=4*we;X.interlaced===!0&&(te+=4*n*7);for(var re=8,oe=0,me=ge.length;oe<me;++oe){var ve=ge[oe];if(_e===0&&(_e=le,(Q+=te)>=W&&(te=4*we+4*n*(re-1),Q=j+(le+we)*(re<<1),re>>=1)),ve===J)Q+=4;else{var Ee=t[ye+3*ve],Le=t[ye+3*ve+1],Be=t[ye+3*ve+2];k[Q++]=Ee,k[Q++]=Le,k[Q++]=Be,k[Q++]=255}--_e}}}function v4(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,f=0,g=0,y=0,p=t[e++],I=new Int32Array(4096),S=null;;){for(;f<16&&p!==0;)g|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var O=g&u;if(g>>=l,f-=l,O!==s){if(O===o)break;for(var x=O<a?O:S,P=0,L=x;L>s;)L=I[L]>>8,++P;var U=L;if(y+P+(x!==O?1:0)>r)return void In.log("Warning, gif stream longer than expected.");n[y++]=U;var Z=y+=P;for(x!==O&&(n[y++]=U),L=x;P--;)L=I[L],n[--Z]=255&L,L>>=8;S!==null&&a<4096&&(I[a++]=S<<8|U,a>=u+1&&l<12&&(++l,u=u<<1|1)),S=O}else a=o+1,u=(1<<(l=i+1))-1,S=null}return y!==r&&In.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pm(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),g=new Array(65535),y=new Array(65535),p=new Array(64),I=new Array(64),S=[],O=0,x=7,P=new Array(64),L=new Array(64),U=new Array(64),Z=new Array(256),ie=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],w=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(j,W){for(var Q=0,te=0,re=new Array,oe=1;oe<=16;oe++){for(var me=1;me<=j[oe];me++)re[W[te]]=[],re[W[te]][0]=Q,re[W[te]][1]=oe,te++,Q++;Q*=2}return re}function ye(j){for(var W=j[0],Q=j[1]-1;Q>=0;)W&1<<Q&&(O|=1<<x),Q--,--x<0&&(O==255?(J(255),J(0)):J(O),x=7,O=0)}function J(j){S.push(j)}function le(j){J(j>>8&255),J(255&j)}function we(j,W,Q,te,re){for(var oe,me=re[0],ve=re[240],Ee=function(Ie,He){var ze,ft,rt,Jt,Nt,wt,Lt,Ut,et,Tt,We=0;for(et=0;et<8;++et){ze=Ie[We],ft=Ie[We+1],rt=Ie[We+2],Jt=Ie[We+3],Nt=Ie[We+4],wt=Ie[We+5],Lt=Ie[We+6];var Nn=ze+(Ut=Ie[We+7]),Ft=ze-Ut,Je=ft+Lt,Pt=ft-Lt,nn=rt+wt,tt=rt-wt,on=Jt+Nt,ct=Jt-Nt,gt=Nn+on,an=Nn-on,Ke=Je+nn,lt=Je-nn;Ie[We]=gt+Ke,Ie[We+4]=gt-Ke;var qt=.707106781*(lt+an);Ie[We+2]=an+qt,Ie[We+6]=an-qt;var Jn=.382683433*((gt=ct+tt)-(lt=Pt+Ft)),Fn=.5411961*gt+Jn,ni=1.306562965*lt+Jn,xr=.707106781*(Ke=tt+Pt),mt=Ft+xr,Wn=Ft-xr;Ie[We+5]=Wn+Fn,Ie[We+3]=Wn-Fn,Ie[We+1]=mt+ni,Ie[We+7]=mt-ni,We+=8}for(We=0,et=0;et<8;++et){ze=Ie[We],ft=Ie[We+8],rt=Ie[We+16],Jt=Ie[We+24],Nt=Ie[We+32],wt=Ie[We+40],Lt=Ie[We+48];var Ur=ze+(Ut=Ie[We+56]),Br=ze-Ut,zr=ft+Lt,pn=ft-Lt,Tn=rt+wt,or=rt-wt,Rr=Jt+Nt,Ji=Jt-Nt,ri=Ur+Rr,ii=Ur-Rr,qr=zr+Tn,Sr=zr-Tn;Ie[We]=ri+qr,Ie[We+32]=ri-qr;var si=.707106781*(Sr+ii);Ie[We+16]=ii+si,Ie[We+48]=ii-si;var bs=.382683433*((ri=Ji+or)-(Sr=pn+Br)),be=.5411961*ri+bs,Re=1.306562965*Sr+bs,dt=.707106781*(qr=or+pn),Dt=Br+dt,Ct=Br-dt;Ie[We+40]=Ct+be,Ie[We+24]=Ct-be,Ie[We+8]=Dt+Re,Ie[We+56]=Dt-Re,We++}for(et=0;et<64;++et)Tt=Ie[et]*He[et],p[et]=Tt>0?Tt+.5|0:Tt-.5|0;return p}(j,W),Le=0;Le<64;++Le)I[F[Le]]=Ee[Le];var Be=I[0]-Q;Q=I[0],Be==0?ye(te[0]):(ye(te[y[oe=32767+Be]]),ye(g[oe]));for(var je=63;je>0&&I[je]==0;)je--;if(je==0)return ye(me),Q;for(var ot,H=1;H<=je;){for(var Ve=H;I[H]==0&&H<=je;)++H;var bt=H-Ve;if(bt>=16){ot=bt>>4;for(var at=1;at<=ot;++at)ye(ve);bt&=15}oe=32767+I[H],ye(re[(bt<<4)+y[oe]]),ye(g[oe]),H++}return je!=63&&ye(me),Q}function _e(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(W){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var re=o((Q[te]*W+50)/100);re=Math.min(Math.max(re,1),255),a[F[te]]=re}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ve=o((oe[me]*W+50)/100);ve=Math.min(Math.max(ve,1),255),l[F[me]]=ve}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Be=0;Be<8;Be++)for(var je=0;je<8;je++)u[Le]=1/(a[F[Le]]*Ee[Be]*Ee[je]*8),f[Le]=1/(l[F[Le]]*Ee[Be]*Ee[je]*8),Le++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,W){W&&_e(W),S=new Array,O=0,x=7,le(65496),le(65504),le(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),le(1),le(1),J(0),J(0),function(){le(65499),le(132),J(0);for(var ft=0;ft<64;ft++)J(a[ft]);J(1);for(var rt=0;rt<64;rt++)J(l[rt])}(),function(ft,rt){le(65472),le(17),J(8),le(rt),le(ft),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(j.width,j.height),function(){le(65476),le(418),J(0);for(var ft=0;ft<16;ft++)J(N[ft+1]);for(var rt=0;rt<=11;rt++)J(E[rt]);J(16);for(var Jt=0;Jt<16;Jt++)J(D[Jt+1]);for(var Nt=0;Nt<=161;Nt++)J(w[Nt]);J(1);for(var wt=0;wt<16;wt++)J(T[wt+1]);for(var Lt=0;Lt<=11;Lt++)J(k[Lt]);J(17);for(var Ut=0;Ut<16;Ut++)J(X[Ut+1]);for(var et=0;et<=161;et++)J(ce[et])}(),le(65498),le(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Q=0,te=0,re=0;O=0,x=7,this.encode.displayName="_encode_";for(var oe,me,ve,Ee,Le,Be,je,ot,H,Ve=j.data,bt=j.width,at=j.height,Ie=4*bt,He=0;He<at;){for(oe=0;oe<Ie;){for(Le=Ie*He+oe,je=-1,ot=0,H=0;H<64;H++)Be=Le+(ot=H>>3)*Ie+(je=4*(7&H)),He+ot>=at&&(Be-=Ie*(He+1+ot-at)),oe+je>=Ie&&(Be-=oe+je-Ie+4),me=Ve[Be++],ve=Ve[Be++],Ee=Ve[Be++],P[H]=(ie[me]+ie[ve+256|0]+ie[Ee+512|0]>>16)-128,L[H]=(ie[me+768|0]+ie[ve+1024|0]+ie[Ee+1280|0]>>16)-128,U[H]=(ie[me+1280|0]+ie[ve+1536|0]+ie[Ee+1792|0]>>16)-128;Q=we(P,u,Q,e,r),te=we(L,f,te,n,i),re=we(U,f,re,n,i),oe+=32}He+=8}if(x>=0){var ze=[];ze[1]=x+1,ze[0]=(1<<x+1)-1,ye(ze)}return le(65497),new Uint8Array(S)},t=t||50,function(){for(var j=String.fromCharCode,W=0;W<256;W++)Z[W]=j(W)}(),e=ge(N,E),n=ge(T,k),r=ge(D,w),i=ge(X,ce),function(){for(var j=1,W=2,Q=1;Q<=15;Q++){for(var te=j;te<W;te++)y[32767+te]=Q,g[32767+te]=[],g[32767+te][1]=Q,g[32767+te][0]=te;for(var re=-(W-1);re<=-j;re++)y[32767+re]=Q,g[32767+re]=[],g[32767+re][1]=Q,g[32767+re][0]=W-1+re;j<<=1,W<<=1}}(),function(){for(var j=0;j<256;j++)ie[j]=19595*j,ie[j+256|0]=38470*j,ie[j+512|0]=7471*j+32768,ie[j+768|0]=-11059*j,ie[j+1024|0]=-21709*j,ie[j+1280|0]=32768*j+8421375,ie[j+1536|0]=-27439*j,ie[j+1792|0]=-5329*j}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _4(t){function e(E){if(!E)throw Error("assert :P")}function n(E,D,w){for(var T=0;4>T;T++)if(E[D+T]!=w.charCodeAt(T))return!0;return!1}function r(E,D,w,T,k){for(var X=0;X<k;X++)E[D+X]=w[T+X]}function i(E,D,w,T){for(var k=0;k<T;k++)E[D+k]=w}function s(E){return new Int32Array(E)}function o(E,D){for(var w=[],T=0;T<E;T++)w.push(new D);return w}function a(E,D){var w=[];return function T(k,X,ce){for(var ge=ce[X],ye=0;ye<ge&&(k.push(ce.length>X+1?[]:new D),!(ce.length<X+1));ye++)T(k[ye],X+1,ce)}(w,0,E),w}var l=function(){var E=this;function D(c,d){for(var v=1<<d-1>>>0;c&v;)v>>>=1;return v?(c&v-1)+v:c}function w(c,d,v,b,R){e(!(b%v));do c[d+(b-=v)]=R;while(0<b)}function T(c,d,v,b,R){if(e(2328>=R),512>=R)var V=s(512);else if((V=s(R))==null)return 0;return function(B,z,$,K,ne,de){var Y,se,he=z,xe=1<<$,fe=s(16),Ae=s(16);for(e(ne!=0),e(K!=null),e(B!=null),e(0<$),se=0;se<ne;++se){if(15<K[se])return 0;++fe[K[se]]}if(fe[0]==ne)return 0;for(Ae[1]=0,Y=1;15>Y;++Y){if(fe[Y]>1<<Y)return 0;Ae[Y+1]=Ae[Y]+fe[Y]}for(se=0;se<ne;++se)Y=K[se],0<K[se]&&(de[Ae[Y]++]=se);if(Ae[15]==1)return(K=new k).g=0,K.value=de[0],w(B,he,1,xe,K),xe;var Ne,De=-1,Ce=xe-1,ut=0,Xe=1,Bt=1,it=1<<$;for(se=0,Y=1,ne=2;Y<=$;++Y,ne<<=1){if(Xe+=Bt<<=1,0>(Bt-=fe[Y]))return 0;for(;0<fe[Y];--fe[Y])(K=new k).g=Y,K.value=de[se++],w(B,he+ut,ne,it,K),ut=D(ut,Y)}for(Y=$+1,ne=2;15>=Y;++Y,ne<<=1){if(Xe+=Bt<<=1,0>(Bt-=fe[Y]))return 0;for(;0<fe[Y];--fe[Y]){if(K=new k,(ut&Ce)!=De){for(he+=it,Ne=1<<(De=Y)-$;15>De&&!(0>=(Ne-=fe[De]));)++De,Ne<<=1;xe+=it=1<<(Ne=De-$),B[z+(De=ut&Ce)].g=Ne+$,B[z+De].value=he-z-De}K.g=Y-$,K.value=de[se++],w(B,he+(ut>>$),ne,it,K),ut=D(ut,Y)}}return Xe!=2*Ae[15]-1?0:xe}(c,d,v,b,R,V)}function k(){this.value=this.g=0}function X(){this.value=this.g=0}function ce(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Kl,X)}function ge(c,d,v,b){e(c!=null),e(d!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=v,c.Jd=d,c.Yc=v+b,c.Zc=4<=b?v+b-4+1:v,me(c)}function ye(c,d){for(var v=0;0<d--;)v|=Ee(c,128)<<d;return v}function J(c,d){var v=ye(c,d);return ve(c)?-v:v}function le(c,d,v,b){var R,V=0;for(e(c!=null),e(d!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),R=0;R<b;++R)V+=d[v+R]<<8*R;c.Ra=V,c.bb=b,c.oa=d,c.pa=v}function we(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Fa-8>>>0,++c.bb,c.u-=8;te(c)&&(c.h=1,c.u=0)}function _e(c,d){if(e(0<=d),!c.h&&d<=rs){var v=Q(c)&ns[d];return c.u+=d,we(c),v}return c.h=1,c.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(c){return c.Ra>>>(c.u&Fa-1)>>>0}function te(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Fa}function re(c,d){c.u=d,c.h=te(c)}function oe(c){c.u>=Jo&&(e(c.u>=Jo),we(c))}function me(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ve(c){return ye(c,1)}function Ee(c,d){var v=c.Ca;0>c.b&&me(c);var b=c.b,R=v*d>>>8,V=(c.I>>>b>R)+0;for(V?(v-=R,c.I-=R+1<<b>>>0):v=R+1,b=v,R=0;256<=b;)R+=8,b>>=8;return b=7^R+ja[b],c.b-=b,c.Ca=(v<<b)-1,V}function Le(c,d,v){c[d+0]=v>>24&255,c[d+1]=v>>16&255,c[d+2]=v>>8&255,c[d+3]=255&v}function Be(c,d){return c[d+0]|c[d+1]<<8}function je(c,d){return Be(c,d)|c[d+2]<<16}function ot(c,d){return Be(c,d)|Be(c,d+2)<<16}function H(c,d){var v=1<<d;return e(c!=null),e(0<d),c.X=s(v),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function Ve(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function at(c,d,v,b){e(v!=null),e(b!=null);var R=v[0],V=b[0];return R==0&&(R=(c*V+d/2)/d),V==0&&(V=(d*R+c/2)/c),0>=R||0>=V?0:(v[0]=R,b[0]=V,1)}function Ie(c,d){return c+(1<<d)-1>>>d}function He(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function ze(c,d){E[d]=function(v,b,R,V,B,z,$){var K;for(K=0;K<B;++K){var ne=E[c](z[$+K-1],R,V+K);z[$+K]=He(v[b+K],ne)}}}function ft(){this.ud=this.hd=this.jd=0}function rt(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Jt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Nt(c,d){return Jt(c+(c-d+.5>>1))}function wt(c,d,v){return Math.abs(d-v)-Math.abs(c-v)}function Lt(c,d,v,b,R,V,B){for(b=V[B-1],v=0;v<R;++v)V[B+v]=b=He(c[d+v],b)}function Ut(c,d,v,b,R){var V;for(V=0;V<v;++V){var B=c[d+V],z=B>>8&255,$=16711935&($=($=16711935&B)+((z<<16)+z));b[R+V]=(4278255360&B)+$>>>0}}function et(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function Tt(c,d,v,b,R,V){var B;for(B=0;B<b;++B){var z=d[v+B],$=z>>>8,K=z,ne=255&(ne=(ne=z>>>16)+((c.jd<<24>>24)*($<<24>>24)>>>5));K=255&(K=(K+=(c.hd<<24>>24)*($<<24>>24)>>>5)+((c.ud<<24>>24)*(ne<<24>>24)>>>5)),R[V+B]=(4278255360&z)+(ne<<16)+K}}function We(c,d,v,b,R){E[d]=function(V,B,z,$,K,ne,de,Y,se){for($=de;$<Y;++$)for(de=0;de<se;++de)K[ne++]=R(z[b(V[B++])])},E[c]=function(V,B,z,$,K,ne,de){var Y=8>>V.b,se=V.Ea,he=V.K[0],xe=V.w;if(8>Y)for(V=(1<<V.b)-1,xe=(1<<Y)-1;B<z;++B){var fe,Ae=0;for(fe=0;fe<se;++fe)fe&V||(Ae=b($[K++])),ne[de++]=R(he[Ae&xe]),Ae>>=Y}else E["VP8LMapColor"+v]($,K,he,xe,ne,de,B,z,se)}}function Nn(c,d,v,b,R){for(v=d+v;d<v;){var V=c[d++];b[R++]=V>>16&255,b[R++]=V>>8&255,b[R++]=255&V}}function Ft(c,d,v,b,R){for(v=d+v;d<v;){var V=c[d++];b[R++]=V>>16&255,b[R++]=V>>8&255,b[R++]=255&V,b[R++]=V>>24&255}}function Je(c,d,v,b,R){for(v=d+v;d<v;){var V=(B=c[d++])>>16&240|B>>12&15,B=240&B|B>>28&15;b[R++]=V,b[R++]=B}}function Pt(c,d,v,b,R){for(v=d+v;d<v;){var V=(B=c[d++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;b[R++]=V,b[R++]=B}}function nn(c,d,v,b,R){for(v=d+v;d<v;){var V=c[d++];b[R++]=255&V,b[R++]=V>>8&255,b[R++]=V>>16&255}}function tt(c,d,v,b,R,V){if(V==0)for(v=d+v;d<v;)Le(b,((V=c[d++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),R+=32;else r(b,R,c,d,v)}function on(c,d){E[d][0]=E[c+"0"],E[d][1]=E[c+"1"],E[d][2]=E[c+"2"],E[d][3]=E[c+"3"],E[d][4]=E[c+"4"],E[d][5]=E[c+"5"],E[d][6]=E[c+"6"],E[d][7]=E[c+"7"],E[d][8]=E[c+"8"],E[d][9]=E[c+"9"],E[d][10]=E[c+"10"],E[d][11]=E[c+"11"],E[d][12]=E[c+"12"],E[d][13]=E[c+"13"],E[d][14]=E[c+"0"],E[d][15]=E[c+"0"]}function ct(c){return c==j0||c==V0||c==Td||c==U0}function gt(){this.eb=[],this.size=this.A=this.fb=0}function an(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new an,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jn(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Fn(c,d){var v=c.T,b=d.ba.f.RGBA,R=b.eb,V=b.fb+c.ka*b.A,B=Ps[d.ba.S],z=c.y,$=c.O,K=c.f,ne=c.N,de=c.ea,Y=c.W,se=d.cc,he=d.dc,xe=d.Mc,fe=d.Nc,Ae=c.ka,Ne=c.ka+c.T,De=c.U,Ce=De+1>>1;for(Ae==0?B(z,$,null,null,K,ne,de,Y,K,ne,de,Y,R,V,null,null,De):(B(d.ec,d.fc,z,$,se,he,xe,fe,K,ne,de,Y,R,V-b.A,R,V,De),++v);Ae+2<Ne;Ae+=2)se=K,he=ne,xe=de,fe=Y,ne+=c.Rc,Y+=c.Rc,V+=2*b.A,B(z,($+=2*c.fa)-c.fa,z,$,se,he,xe,fe,K,ne,de,Y,R,V-b.A,R,V,De);return $+=c.fa,c.j+Ne<c.o?(r(d.ec,d.fc,z,$,De),r(d.cc,d.dc,K,ne,Ce),r(d.Mc,d.Nc,de,Y,Ce),v--):1&Ne||B(z,$,null,null,K,ne,de,Y,K,ne,de,Y,R,V+b.A,null,null,De),v}function ni(c,d,v){var b=c.F,R=[c.J];if(b!=null){var V=c.U,B=d.ba.S,z=B==Nd||B==Td;d=d.ba.f.RGBA;var $=[0],K=c.ka;$[0]=c.T,c.Kb&&(K==0?--$[0]:(--K,R[0]-=c.width),c.j+c.ka+c.T==c.o&&($[0]=c.o-c.j-K));var ne=d.eb;K=d.fb+K*d.A,c=v5(b,R[0],c.width,V,$,ne,K+(z?0:3),d.A),e(v==$),c&&ct(B)&&Ah(ne,K,z,V,$,d.A)}return 0}function xr(c){var d=c.ma,v=d.ba.S,b=11>v,R=v==Ed||v==Id||v==Nd||v==F0||v==12||ct(v);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!mh(d.Oa,c,R?11:12))return 0;if(R&&ct(v)&&kt(),c.da)alert("todo:use_scaling");else{if(b){if(d.Ib=Jn,c.Kb){if(v=c.U+1>>1,d.memory=s(c.U+2*v),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+v,d.Ib=Fn,kt()}}else alert("todo:EmitYUV");R&&(d.Jb=ni,b&&pe())}if(b&&!O5){for(c=0;256>c;++c)IN[c]=89858*(c-128)+Pd>>kd,kN[c]=-22014*(c-128)+Pd,TN[c]=-45773*(c-128),NN[c]=113618*(c-128)+Pd>>kd;for(c=Ih;c<q0;++c)d=76283*(c-16)+Pd>>kd,PN[c-Ih]=Si(d,255),CN[c-Ih]=Si(d+8>>4,15);O5=1}return 1}function mt(c){var d=c.ma,v=c.U,b=c.T;return e(!(1&c.ka)),0>=v||0>=b?0:(v=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,v),d.Dc+=v,1)}function Wn(c){c.ma.memory=null}function Ur(c,d,v,b){return _e(c,8)!=47?0:(d[0]=_e(c,14)+1,v[0]=_e(c,14)+1,b[0]=_e(c,1),_e(c,3)!=0?0:!c.h)}function Br(c,d){if(4>c)return c+1;var v=c-2>>1;return(2+(1&c)<<v)+_e(d,v)+1}function zr(c,d){return 120<d?d-120:1<=(v=((v=fN[d-1])>>4)*c+(8-(15&v)))?v:1;var v}function pn(c,d,v){var b=Q(v),R=c[d+=255&b].g-8;return 0<R&&(re(v,v.u+8),b=Q(v),d+=c[d].value,d+=b&(1<<R)-1),re(v,v.u+c[d].g),c[d].value}function Tn(c,d,v){return v.g+=c.g,v.value+=c.value<<d>>>0,e(8>=v.g),c.g}function or(c,d,v){var b=c.xc;return e((d=b==0?0:c.vc[c.md*(v>>b)+(d>>b)])<c.Wb),c.Ya[d]}function Rr(c,d,v,b){var R=c.ab,V=c.c*d,B=c.C;d=B+d;var z=v,$=b;for(b=c.Ta,v=c.Ua;0<R--;){var K=c.gc[R],ne=B,de=d,Y=z,se=$,he=($=b,z=v,K.Ea);switch(e(ne<de),e(de<=K.nc),K.hc){case 2:ar(Y,se,(de-ne)*he,$,z);break;case 0:var xe=ne,fe=de,Ae=$,Ne=z,De=(it=K).Ea;xe==0&&(vh(Y,se,null,null,1,Ae,Ne),Lt(Y,se+1,0,0,De-1,Ae,Ne+1),se+=De,Ne+=De,++xe);for(var Ce=1<<it.b,ut=Ce-1,Xe=Ie(De,it.b),Bt=it.K,it=it.w+(xe>>it.b)*Xe;xe<fe;){var en=Bt,Ir=it,zt=1;for(Wu(Y,se,Ae,Ne-De,1,Ae,Ne);zt<De;){var st=(zt&~ut)+Ce;st>De&&(st=De),(0,wh[en[Ir++]>>8&15])(Y,se+ +zt,Ae,Ne+zt-De,st-zt,Ae,Ne+zt),zt=st}se+=De,Ne+=De,++xe&ut||(it+=Xe)}de!=K.nc&&r($,z-he,$,z+(de-ne-1)*he,he);break;case 1:for(he=Y,fe=se,De=(Y=K.Ea)-(Ne=Y&~(Ae=(se=1<<K.b)-1)),xe=Ie(Y,K.b),Ce=K.K,K=K.w+(ne>>K.b)*xe;ne<de;){for(ut=Ce,Xe=K,Bt=new ft,it=fe+Ne,en=fe+Y;fe<it;)et(ut[Xe++],Bt),bh(Bt,he,fe,se,$,z),fe+=se,z+=se;fe<en&&(et(ut[Xe++],Bt),bh(Bt,he,fe,De,$,z),fe+=De,z+=De),++ne&Ae||(K+=xe)}break;case 3:if(Y==$&&se==z&&0<K.b){for(fe=$,Y=he=z+(de-ne)*he-(Ne=(de-ne)*Ie(K.Ea,K.b)),se=$,Ae=z,xe=[],Ne=(De=Ne)-1;0<=Ne;--Ne)xe[Ne]=se[Ae+Ne];for(Ne=De-1;0<=Ne;--Ne)fe[Y+Ne]=xe[Ne];bd(K,ne,de,$,he,$,z)}else bd(K,ne,de,Y,se,$,z)}z=b,$=v}$!=v&&r(b,v,z,$,V)}function Ji(c,d){var v=c.V,b=c.Ba+c.c*c.C,R=d-c.C;if(e(d<=c.l.o),e(16>=R),0<R){var V=c.l,B=c.Ta,z=c.Ua,$=V.width;if(Rr(c,R,v,b),R=z=[z],e((v=c.C)<(b=d)),e(V.v<V.va),b>V.o&&(b=V.o),v<V.j){var K=V.j-v;v=V.j,R[0]+=K*$}if(v>=b?v=0:(R[0]+=4*V.v,V.ka=v-V.j,V.U=V.va-V.v,V.T=b-v,v=1),v){if(z=z[0],11>(v=c.ca).S){var ne=v.f.RGBA,de=(b=v.S,R=V.U,V=V.T,K=ne.eb,ne.A),Y=V;for(ne=ne.fb+c.Ma*ne.A;0<Y--;){var se=B,he=z,xe=R,fe=K,Ae=ne;switch(b){case Ad:xh(se,he,xe,fe,Ae);break;case Ed:Va(se,he,xe,fe,Ae);break;case j0:Va(se,he,xe,fe,Ae),Ah(fe,Ae,0,xe,1,0);break;case E5:Yl(se,he,xe,fe,Ae);break;case Id:tt(se,he,xe,fe,Ae,1);break;case V0:tt(se,he,xe,fe,Ae,1),Ah(fe,Ae,0,xe,1,0);break;case Nd:tt(se,he,xe,fe,Ae,0);break;case Td:tt(se,he,xe,fe,Ae,0),Ah(fe,Ae,1,xe,1,0);break;case F0:Ua(se,he,xe,fe,Ae);break;case U0:Ua(se,he,xe,fe,Ae),y5(fe,Ae,xe,1,0);break;case I5:Ba(se,he,xe,fe,Ae);break;default:e(0)}z+=$,ne+=de}c.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=v.height)}}c.C=d,e(c.C<=c.i)}function ri(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var v=c.Ya[d].G,b=c.Ya[d].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function ii(c,d,v,b,R,V){if(c.Z!=0){var B=c.qd,z=c.rd;for(e($a[c.Z]!=null);d<v;++d)$a[c.Z](B,z,b,R,b,R,V),B=b,z=R,R+=V;c.qd=B,c.rd=z}}function qr(c,d){var v=c.l.ma,b=v.Z==0||v.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(d<=c.l.o),d>b){var R=c.l.width,V=v.ca,B=v.tb+R*b,z=c.V,$=c.Ba+c.c*b,K=c.gc;e(c.ab==1),e(K[0].hc==3),xo(K[0],b,d,z,$,V,B),ii(v,b,d,V,B,R)}c.C=c.Ma=d}function Sr(c,d,v,b,R,V,B){var z=c.$/b,$=c.$%b,K=c.m,ne=c.s,de=v+c.$,Y=de;R=v+b*R;var se=v+b*V,he=280+ne.ua,xe=c.Pb?z:16777216,fe=0<ne.ua?ne.Wa:null,Ae=ne.wc,Ne=de<se?or(ne,$,z):null;e(c.C<V),e(se<=R);var De=!1;e:for(;;){for(;De||de<se;){var Ce=0;if(z>=xe){var ut=de-v;e((xe=c).Pb),xe.wd=xe.m,xe.xd=ut,0<xe.s.ua&&Ve(xe.s.Wa,xe.s.vb),xe=z+pN}if($&Ae||(Ne=or(ne,$,z)),e(Ne!=null),Ne.Qb&&(d[de]=Ne.qb,De=!0),!De)if(oe(K),Ne.jc){Ce=K,ut=d;var Xe=de,Bt=Ne.pd[Q(Ce)&Kl-1];e(Ne.jc),256>Bt.g?(re(Ce,Ce.u+Bt.g),ut[Xe]=Bt.value,Ce=0):(re(Ce,Ce.u+Bt.g-256),e(256<=Bt.value),Ce=Bt.value),Ce==0&&(De=!0)}else Ce=pn(Ne.G[0],Ne.H[0],K);if(K.h)break;if(De||256>Ce){if(!De)if(Ne.nd)d[de]=(Ne.qb|Ce<<8)>>>0;else{if(oe(K),De=pn(Ne.G[1],Ne.H[1],K),oe(K),ut=pn(Ne.G[2],Ne.H[2],K),Xe=pn(Ne.G[3],Ne.H[3],K),K.h)break;d[de]=(Xe<<24|De<<16|Ce<<8|ut)>>>0}if(De=!1,++de,++$>=b&&($=0,++z,B!=null&&z<=V&&!(z%16)&&B(c,z),fe!=null))for(;Y<de;)Ce=d[Y++],fe.X[(506832829*Ce&4294967295)>>>fe.Mb]=Ce}else if(280>Ce){if(Ce=Br(Ce-256,K),ut=pn(Ne.G[4],Ne.H[4],K),oe(K),ut=zr(b,ut=Br(ut,K)),K.h)break;if(de-v<ut||R-de<Ce)break e;for(Xe=0;Xe<Ce;++Xe)d[de+Xe]=d[de+Xe-ut];for(de+=Ce,$+=Ce;$>=b;)$-=b,++z,B!=null&&z<=V&&!(z%16)&&B(c,z);if(e(de<=R),$&Ae&&(Ne=or(ne,$,z)),fe!=null)for(;Y<de;)Ce=d[Y++],fe.X[(506832829*Ce&4294967295)>>>fe.Mb]=Ce}else{if(!(Ce<he))break e;for(De=Ce-280,e(fe!=null);Y<de;)Ce=d[Y++],fe.X[(506832829*Ce&4294967295)>>>fe.Mb]=Ce;Ce=de,e(!(De>>>(ut=fe).Xa)),d[Ce]=ut.X[De],De=!0}De||e(K.h==te(K))}if(c.Pb&&K.h&&de<R)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ve(c.s.vb,c.s.Wa);else{if(K.h)break e;B!=null&&B(c,z>V?V:z),c.a=0,c.$=de-v}return 1}return c.a=3,0}function si(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function bs(){var c=new _t;return c==null?null:(c.a=0,c.xb=k5,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),ar=Ut,bh=Tt,xh=Nn,Va=Ft,Ua=Je,Ba=Pt,Yl=nn,E.VP8LMapColor32b=bo,E.VP8LMapColor8b=_h,c)}function be(c,d,v,b,R){var V=1,B=[c],z=[d],$=b.m,K=b.s,ne=null,de=0;e:for(;;){if(v)for(;V&&_e($,1);){var Y=B,se=z,he=b,xe=1,fe=he.m,Ae=he.gc[he.ab],Ne=_e(fe,2);if(he.Oc&1<<Ne)V=0;else{switch(he.Oc|=1<<Ne,Ae.hc=Ne,Ae.Ea=Y[0],Ae.nc=se[0],Ae.K=[null],++he.ab,e(4>=he.ab),Ne){case 0:case 1:Ae.b=_e(fe,3)+2,xe=be(Ie(Ae.Ea,Ae.b),Ie(Ae.nc,Ae.b),0,he,Ae.K),Ae.K=Ae.K[0];break;case 3:var De,Ce=_e(fe,8)+1,ut=16<Ce?0:4<Ce?1:2<Ce?2:3;if(Y[0]=Ie(Ae.Ea,ut),Ae.b=ut,De=xe=be(Ce,1,0,he,Ae.K)){var Xe,Bt=Ce,it=Ae,en=1<<(8>>it.b),Ir=s(en);if(Ir==null)De=0;else{var zt=it.K[0],st=it.w;for(Ir[0]=it.K[0][0],Xe=1;Xe<1*Bt;++Xe)Ir[Xe]=He(zt[st+Xe],Ir[Xe-1]);for(;Xe<4*en;++Xe)Ir[Xe]=0;it.K[0]=null,it.K[0]=Ir,De=1}}xe=De;break;case 2:break;default:e(0)}V=xe}}if(B=B[0],z=z[0],V&&_e($,1)&&!(V=1<=(de=_e($,4))&&11>=de)){b.a=3;break e}var Ue;if(Ue=V)t:{var ur,Vt,rn,jn=b,Hr=B,ki=z,tr=de,ci=v,Pi=jn.m,Nr=jn.s,ln=[null],gn=1,nr=0,mn=dN[tr];n:for(;;){if(ci&&_e(Pi,1)){var Wr=_e(Pi,3)+2,Gs=Ie(Hr,Wr),cr=Ie(ki,Wr),Bi=Gs*cr;if(!be(Gs,cr,0,jn,ln))break n;for(ln=ln[0],Nr.xc=Wr,ur=0;ur<Bi;++ur){var En=ln[ur]>>8&65535;ln[ur]=En,En>=gn&&(gn=En+1)}}if(Pi.h)break n;for(Vt=0;5>Vt;++Vt){var Tr=N5[Vt];!Vt&&0<tr&&(Tr+=1<<tr),nr<Tr&&(nr=Tr)}var ss=o(gn*mn,k),Ci=gn,os=o(Ci,ce);if(os==null)var as=null;else e(65536>=Ci),as=os;var zi=s(nr);if(as==null||zi==null||ss==null){jn.a=1;break n}var ls=ss;for(ur=rn=0;ur<gn;++ur){var Dn=as[ur],us=Dn.G,Ks=Dn.H,Xl=0,ta=1,Gr=0;for(Vt=0;5>Vt;++Vt){Tr=N5[Vt],us[Vt]=ls,Ks[Vt]=rn,!Vt&&0<tr&&(Tr+=1<<tr);i:{var Rd,$0=Tr,Ld=jn,Nh=zi,DN=ls,ON=rn,H0=0,Ha=Ld.m,MN=_e(Ha,1);if(i(Nh,0,0,$0),MN){var FN=_e(Ha,1)+1,jN=_e(Ha,1),j5=_e(Ha,jN==0?1:8);Nh[j5]=1,FN==2&&(Nh[j5=_e(Ha,8)]=1);var Dd=1}else{var V5=s(19),U5=_e(Ha,4)+4;if(19<U5){Ld.a=3;var Od=0;break i}for(Rd=0;Rd<U5;++Rd)V5[hN[Rd]]=_e(Ha,3);var W0=void 0,Th=void 0,B5=Ld,VN=V5,Md=$0,z5=Nh,G0=0,Wa=B5.m,q5=8,$5=o(128,k);r:for(;T($5,0,7,VN,19);){if(_e(Wa,1)){var UN=2+2*_e(Wa,3);if((W0=2+_e(Wa,UN))>Md)break r}else W0=Md;for(Th=0;Th<Md&&W0--;){oe(Wa);var H5=$5[0+(127&Q(Wa))];re(Wa,Wa.u+H5.g);var Ku=H5.value;if(16>Ku)z5[Th++]=Ku,Ku!=0&&(q5=Ku);else{var BN=Ku==16,W5=Ku-16,zN=uN[W5],G5=_e(Wa,lN[W5])+zN;if(Th+G5>Md)break r;for(var qN=BN?q5:0;0<G5--;)z5[Th++]=qN}}G0=1;break r}G0||(B5.a=3),Dd=G0}(Dd=Dd&&!Ha.h)&&(H0=T(DN,ON,8,Nh,$0)),Dd&&H0!=0?Od=H0:(Ld.a=3,Od=0)}if(Od==0)break n;if(ta&&cN[Vt]==1&&(ta=ls[rn].g==0),Xl+=ls[rn].g,rn+=Od,3>=Vt){var kh,K0=zi[0];for(kh=1;kh<Tr;++kh)zi[kh]>K0&&(K0=zi[kh]);Gr+=K0}}if(Dn.nd=ta,Dn.Qb=0,ta&&(Dn.qb=(us[3][Ks[3]+0].value<<24|us[1][Ks[1]+0].value<<16|us[2][Ks[2]+0].value)>>>0,Xl==0&&256>us[0][Ks[0]+0].value&&(Dn.Qb=1,Dn.qb+=us[0][Ks[0]+0].value<<8)),Dn.jc=!Dn.Qb&&6>Gr,Dn.jc){var Fd,na=Dn;for(Fd=0;Fd<Kl;++Fd){var Ga=Fd,Ka=na.pd[Ga],jd=na.G[0][na.H[0]+Ga];256<=jd.value?(Ka.g=jd.g+256,Ka.value=jd.value):(Ka.g=0,Ka.value=0,Ga>>=Tn(jd,8,Ka),Ga>>=Tn(na.G[1][na.H[1]+Ga],16,Ka),Ga>>=Tn(na.G[2][na.H[2]+Ga],0,Ka),Tn(na.G[3][na.H[3]+Ga],24,Ka))}}}Nr.vc=ln,Nr.Wb=gn,Nr.Ya=as,Nr.yc=ss,Ue=1;break t}Ue=0}if(!(V=Ue)){b.a=3;break e}if(0<de){if(K.ua=1<<de,!H(K.Wa,de)){b.a=1,V=0;break e}}else K.ua=0;var Y0=b,K5=B,$N=z,Q0=Y0.s,X0=Q0.xc;if(Y0.c=K5,Y0.i=$N,Q0.md=Ie(K5,X0),Q0.wc=X0==0?-1:(1<<X0)-1,v){b.xb=bN;break e}if((ne=s(B*z))==null){b.a=1,V=0;break e}V=(V=Sr(b,ne,0,B,z,z,null))&&!$.h;break e}return V?(R!=null?R[0]=ne:(e(ne==null),e(v)),b.$=0,v||si(K)):si(K),V}function Re(c,d){var v=c.c*c.i,b=v+d+16*d;return e(c.c<=d),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+v+d,1)}function dt(c,d){var v=c.C,b=d-v,R=c.V,V=c.Ba+c.c*v;for(e(d<=c.l.o);0<b;){var B=16<b?16:b,z=c.l.ma,$=c.l.width,K=$*B,ne=z.ca,de=z.tb+$*v,Y=c.Ta,se=c.Ua;Rr(c,B,R,V),_5(Y,se,ne,de,K),ii(z,v,v+B,ne,de,$),b-=B,R+=B*c.c,v+=B}e(v==d),c.C=c.Ma=d}function Dt(){this.ub=this.yd=this.td=this.Rb=0}function Ct(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function At(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Wt(){this.Yb=function(){var c=[];return function d(v,b,R){for(var V=R[b],B=0;B<V&&(v.push(R.length>b+1?[]:0),!(R.length<b+1));B++)d(v[B],b+1,R)}(c,0,[3,11]),c}()}function cn(){this.jb=s(3),this.Wc=a([4,8],Wt),this.Xc=a([4,17],Wt)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jt(){this.ld=this.La=this.dd=this.tc=0}function Zn(){this.Na=this.la=0}function yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zs(){this.uc=this.M=this.Nb=0,this.wa=Array(new jt),this.Y=0,this.ya=Array(new qn),this.aa=0,this.l=new Lr}function go(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Na(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Dt,this.Kc=new Ct,this.ed=new Fe,this.Qa=new At,this.Ic=this.$c=this.Aa=0,this.D=new zs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,j),this.ia=0,this.pb=o(4,yt),this.Pa=new cn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new go),this.Hd=0,this.rb=Array(new Zn),this.sb=0,this.wa=Array(new jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qn),this.L=this.aa=0,this.gd=a([4,2],jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Si(c,d){return 0>c?0:c>d?d:c}function Lr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oi(){var c=new Na;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Eh||(Eh=Zt)),c}function wn(c,d,v){return c.a==0&&(c.a=d,c.sc=v,c.cb=0),0}function ji(c,d,v){return 3<=v&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function ai(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return wn(c,2,"null VP8Io passed to VP8GetHeaders()");var v=d.data,b=d.w,R=d.ha;if(4>R)return wn(c,7,"Truncated header.");var V=v[b+0]|v[b+1]<<8|v[b+2]<<16,B=c.Od;if(B.Rb=!(1&V),B.td=V>>1&7,B.yd=V>>4&1,B.ub=V>>5,3<B.td)return wn(c,3,"Incorrect keyframe parameters.");if(!B.yd)return wn(c,4,"Frame not displayable.");b+=3,R-=3;var z=c.Kc;if(B.Rb){if(7>R)return wn(c,7,"cannot parse picture header");if(!ji(v,b,R))return wn(c,3,"Bad code word");z.c=16383&(v[b+4]<<8|v[b+3]),z.Td=v[b+4]>>6,z.i=16383&(v[b+6]<<8|v[b+5]),z.Ud=v[b+6]>>6,b+=7,R-=7,c.za=z.c+15>>4,c.Ub=z.i+15>>4,d.width=z.c,d.height=z.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((V=c.Pa).jb,0,255,V.jb.length),e((V=c.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(B.ub>R)return wn(c,7,"bad partition length");ge(V=c.m,v,b,B.ub),b+=B.ub,R-=B.ub,B.Rb&&(z.Ld=ve(V),z.Kd=ve(V)),z=c.Qa;var $,K=c.Pa;if(e(V!=null),e(z!=null),z.Cb=ve(V),z.Cb){if(z.Bb=ve(V),ve(V)){for(z.Fb=ve(V),$=0;4>$;++$)z.Zb[$]=ve(V)?J(V,7):0;for($=0;4>$;++$)z.Lb[$]=ve(V)?J(V,6):0}if(z.Bb)for($=0;3>$;++$)K.jb[$]=ve(V)?ye(V,8):255}else z.Bb=0;if(V.Ka)return wn(c,3,"cannot parse segment header");if((z=c.ed).zd=ve(V),z.Tb=ye(V,6),z.wb=ye(V,3),z.Pc=ve(V),z.Pc&&ve(V)){for(K=0;4>K;++K)ve(V)&&(z.vd[K]=J(V,6));for(K=0;4>K;++K)ve(V)&&(z.od[K]=J(V,6))}if(c.L=z.Tb==0?0:z.zd?1:2,V.Ka)return wn(c,3,"cannot parse filter header");var ne=R;if(R=$=b,b=$+ne,z=ne,c.Xb=(1<<ye(c.m,2))-1,ne<3*(K=c.Xb))v=7;else{for($+=3*K,z-=3*K,ne=0;ne<K;++ne){var de=v[R+0]|v[R+1]<<8|v[R+2]<<16;de>z&&(de=z),ge(c.Jc[+ne],v,$,de),$+=de,z-=de,R+=3}ge(c.Jc[+K],v,$,z),v=$<b?0:5}if(v!=0)return wn(c,v,"cannot parse partitions");for(v=ye($=c.m,7),R=ve($)?J($,4):0,b=ve($)?J($,4):0,z=ve($)?J($,4):0,K=ve($)?J($,4):0,$=ve($)?J($,4):0,ne=c.Qa,de=0;4>de;++de){if(ne.Cb){var Y=ne.Zb[de];ne.Fb||(Y+=v)}else{if(0<de){c.pb[de]=c.pb[0];continue}Y=v}var se=c.pb[de];se.Sc[0]=B0[Si(Y+R,127)],se.Sc[1]=z0[Si(Y+0,127)],se.Eb[0]=2*B0[Si(Y+b,127)],se.Eb[1]=101581*z0[Si(Y+z,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=B0[Si(Y+K,117)],se.Qc[1]=z0[Si(Y+$,127)],se.lc=Y+$}if(!B.Rb)return wn(c,4,"Not a key frame.");for(ve(V),B=c.Pa,v=0;4>v;++v){for(R=0;8>R;++R)for(b=0;3>b;++b)for(z=0;11>z;++z)K=Ee(V,_N[v][R][b][z])?ye(V,8):yN[v][R][b][z],B.Wc[v][R].Yb[b][z]=K;for(R=0;17>R;++R)B.Xc[v][R]=B.Wc[v][wN[R]]}return c.kc=ve(V),c.kc&&(c.Bd=ye(V,8)),c.cb=1}function Zt(c,d,v,b,R,V,B){var z=d[R].Yb[v];for(v=0;16>R;++R){if(!Ee(c,z[v+0]))return R;for(;!Ee(c,z[v+1]);)if(z=d[++R].Yb[0],v=0,R==16)return 16;var $=d[R+1].Yb;if(Ee(c,z[v+2])){var K=c,ne=0;if(Ee(K,(Y=z)[(de=v)+3]))if(Ee(K,Y[de+6])){for(z=0,de=2*(ne=Ee(K,Y[de+8]))+(Y=Ee(K,Y[de+9+ne])),ne=0,Y=gN[de];Y[z];++z)ne+=ne+Ee(K,Y[z]);ne+=3+(8<<de)}else Ee(K,Y[de+7])?(ne=7+2*Ee(K,165),ne+=Ee(K,145)):ne=5+Ee(K,159);else ne=Ee(K,Y[de+4])?3+Ee(K,Y[de+5]):2;z=$[2]}else ne=1,z=$[1];$=B+mN[R],0>(K=c).b&&me(K);var de,Y=K.b,se=(de=K.Ca>>1)-(K.I>>Y)>>31;--K.b,K.Ca+=se,K.Ca|=1,K.I-=(de+1&se)<<Y,V[$]=((ne^se)-se)*b[(0<R)+0]}return 16}function xs(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function mr(c,d,v,b,R){R=c[d+v+32*b]+(R>>3),c[d+v+32*b]=-256&R?0>R?0:255:R}function xn(c,d,v,b,R,V){mr(c,d,0,v,b+R),mr(c,d,1,v,b+V),mr(c,d,2,v,b-V),mr(c,d,3,v,b-R)}function Zi(c){return(20091*c>>16)+c}function Ta(c,d,v,b){var R,V=0,B=s(16);for(R=0;4>R;++R){var z=c[d+0]+c[d+8],$=c[d+0]-c[d+8],K=(35468*c[d+4]>>16)-Zi(c[d+12]),ne=Zi(c[d+4])+(35468*c[d+12]>>16);B[V+0]=z+ne,B[V+1]=$+K,B[V+2]=$-K,B[V+3]=z-ne,V+=4,d++}for(R=V=0;4>R;++R)z=(c=B[V+0]+4)+B[V+8],$=c-B[V+8],K=(35468*B[V+4]>>16)-Zi(B[V+12]),mr(v,b,0,0,z+(ne=Zi(B[V+4])+(35468*B[V+12]>>16))),mr(v,b,1,0,$+K),mr(v,b,2,0,$-K),mr(v,b,3,0,z-ne),V++,b+=32}function ka(c,d,v,b){var R=c[d+0]+4,V=35468*c[d+4]>>16,B=Zi(c[d+4]),z=35468*c[d+1]>>16;xn(v,b,0,R+B,c=Zi(c[d+1]),z),xn(v,b,1,R+V,c,z),xn(v,b,2,R-V,c,z),xn(v,b,3,R-B,c,z)}function Bl(c,d,v,b,R){Ta(c,d,v,b),R&&Ta(c,d+16,v,b+4)}function $t(c,d,v,b){Ql(c,d+0,v,b,1),Ql(c,d+32,v,b+128,1)}function er(c,d,v,b){var R;for(c=c[d+0]+4,R=0;4>R;++R)for(d=0;4>d;++d)mr(v,b,d,R,c)}function Ar(c,d,v,b){c[d+0]&&fn(c,d+0,v,b),c[d+16]&&fn(c,d+16,v,b+4),c[d+32]&&fn(c,d+32,v,b+128),c[d+48]&&fn(c,d+48,v,b+128+4)}function Gn(c,d,v,b){var R,V=s(16);for(R=0;4>R;++R){var B=c[d+0+R]+c[d+12+R],z=c[d+4+R]+c[d+8+R],$=c[d+4+R]-c[d+8+R],K=c[d+0+R]-c[d+12+R];V[0+R]=B+z,V[8+R]=B-z,V[4+R]=K+$,V[12+R]=K-$}for(R=0;4>R;++R)B=(c=V[0+4*R]+3)+V[3+4*R],z=V[1+4*R]+V[2+4*R],$=V[1+4*R]-V[2+4*R],K=c-V[3+4*R],v[b+0]=B+z>>3,v[b+16]=K+$>>3,v[b+32]=B-z>>3,v[b+48]=K-$>>3,b+=64}function $r(c,d,v){var b,R=d-32,V=is,B=255-c[R-1];for(b=0;b<v;++b){var z,$=V,K=B+c[d-1];for(z=0;z<v;++z)c[d+z]=$[K+c[R+z]];d+=32}}function qs(c,d){$r(c,d,4)}function Go(c,d){$r(c,d,8)}function Ko(c,d){$r(c,d,16)}function $s(c,d){var v;for(v=0;16>v;++v)r(c,d+32*v,c,d-32,16)}function es(c,d){var v;for(v=16;0<v;--v)i(c,d,c[d-1],16),d+=32}function Ai(c,d,v){var b;for(b=0;16>b;++b)i(d,v+32*b,c,16)}function zl(c,d){var v,b=16;for(v=0;16>v;++v)b+=c[d-1+32*v]+c[d+v-32];Ai(b>>5,c,d)}function ts(c,d){var v,b=8;for(v=0;16>v;++v)b+=c[d-1+32*v];Ai(b>>4,c,d)}function Vi(c,d){var v,b=8;for(v=0;16>v;++v)b+=c[d+v-32];Ai(b>>4,c,d)}function ph(c,d){Ai(128,c,d)}function xt(c,d,v){return c+2*d+v+2>>2}function Pa(c,d){var v,b=d-32;for(b=new Uint8Array([xt(c[b-1],c[b+0],c[b+1]),xt(c[b+0],c[b+1],c[b+2]),xt(c[b+1],c[b+2],c[b+3]),xt(c[b+2],c[b+3],c[b+4])]),v=0;4>v;++v)r(c,d+32*v,b,0,b.length)}function Bu(c,d){var v=c[d-1],b=c[d-1+32],R=c[d-1+64],V=c[d-1+96];Le(c,d+0,16843009*xt(c[d-1-32],v,b)),Le(c,d+32,16843009*xt(v,b,R)),Le(c,d+64,16843009*xt(b,R,V)),Le(c,d+96,16843009*xt(R,V,V))}function Yo(c,d){var v,b=4;for(v=0;4>v;++v)b+=c[d+v-32]+c[d-1+32*v];for(b>>=3,v=0;4>v;++v)i(c,d+32*v,b,4)}function Ei(c,d){var v=c[d-1+0],b=c[d-1+32],R=c[d-1+64],V=c[d-1-32],B=c[d+0-32],z=c[d+1-32],$=c[d+2-32],K=c[d+3-32];c[d+0+96]=xt(b,R,c[d-1+96]),c[d+1+96]=c[d+0+64]=xt(v,b,R),c[d+2+96]=c[d+1+64]=c[d+0+32]=xt(V,v,b),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=xt(B,V,v),c[d+3+64]=c[d+2+32]=c[d+1+0]=xt(z,B,V),c[d+3+32]=c[d+2+0]=xt($,z,B),c[d+3+0]=xt(K,$,z)}function Ss(c,d){var v=c[d+1-32],b=c[d+2-32],R=c[d+3-32],V=c[d+4-32],B=c[d+5-32],z=c[d+6-32],$=c[d+7-32];c[d+0+0]=xt(c[d+0-32],v,b),c[d+1+0]=c[d+0+32]=xt(v,b,R),c[d+2+0]=c[d+1+32]=c[d+0+64]=xt(b,R,V),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=xt(R,V,B),c[d+3+32]=c[d+2+64]=c[d+1+96]=xt(V,B,z),c[d+3+64]=c[d+2+96]=xt(B,z,$),c[d+3+96]=xt(z,$,$)}function ql(c,d){var v=c[d-1+0],b=c[d-1+32],R=c[d-1+64],V=c[d-1-32],B=c[d+0-32],z=c[d+1-32],$=c[d+2-32],K=c[d+3-32];c[d+0+0]=c[d+1+64]=V+B+1>>1,c[d+1+0]=c[d+2+64]=B+z+1>>1,c[d+2+0]=c[d+3+64]=z+$+1>>1,c[d+3+0]=$+K+1>>1,c[d+0+96]=xt(R,b,v),c[d+0+64]=xt(b,v,V),c[d+0+32]=c[d+1+96]=xt(v,V,B),c[d+1+32]=c[d+2+96]=xt(V,B,z),c[d+2+32]=c[d+3+96]=xt(B,z,$),c[d+3+32]=xt(z,$,K)}function kn(c,d){var v=c[d+0-32],b=c[d+1-32],R=c[d+2-32],V=c[d+3-32],B=c[d+4-32],z=c[d+5-32],$=c[d+6-32],K=c[d+7-32];c[d+0+0]=v+b+1>>1,c[d+1+0]=c[d+0+64]=b+R+1>>1,c[d+2+0]=c[d+1+64]=R+V+1>>1,c[d+3+0]=c[d+2+64]=V+B+1>>1,c[d+0+32]=xt(v,b,R),c[d+1+32]=c[d+0+96]=xt(b,R,V),c[d+2+32]=c[d+1+96]=xt(R,V,B),c[d+3+32]=c[d+2+96]=xt(V,B,z),c[d+3+64]=xt(B,z,$),c[d+3+96]=xt(z,$,K)}function Ca(c,d){var v=c[d-1+0],b=c[d-1+32],R=c[d-1+64],V=c[d-1+96];c[d+0+0]=v+b+1>>1,c[d+2+0]=c[d+0+32]=b+R+1>>1,c[d+2+32]=c[d+0+64]=R+V+1>>1,c[d+1+0]=xt(v,b,R),c[d+3+0]=c[d+1+32]=xt(b,R,V),c[d+3+32]=c[d+1+64]=xt(R,V,V),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=V}function $l(c,d){var v=c[d-1+0],b=c[d-1+32],R=c[d-1+64],V=c[d-1+96],B=c[d-1-32],z=c[d+0-32],$=c[d+1-32],K=c[d+2-32];c[d+0+0]=c[d+2+32]=v+B+1>>1,c[d+0+32]=c[d+2+64]=b+v+1>>1,c[d+0+64]=c[d+2+96]=R+b+1>>1,c[d+0+96]=V+R+1>>1,c[d+3+0]=xt(z,$,K),c[d+2+0]=xt(B,z,$),c[d+1+0]=c[d+3+32]=xt(v,B,z),c[d+1+32]=c[d+3+64]=xt(b,v,B),c[d+1+64]=c[d+3+96]=xt(R,b,v),c[d+1+96]=xt(V,R,b)}function mo(c,d){var v;for(v=0;8>v;++v)r(c,d+32*v,c,d-32,8)}function zu(c,d){var v;for(v=0;8>v;++v)i(c,d,c[d-1],8),d+=32}function As(c,d,v){var b;for(b=0;8>b;++b)i(d,v+32*b,c,8)}function Ra(c,d){var v,b=8;for(v=0;8>v;++v)b+=c[d+v-32]+c[d-1+32*v];As(b>>4,c,d)}function Ui(c,d){var v,b=4;for(v=0;8>v;++v)b+=c[d+v-32];As(b>>3,c,d)}function La(c,d){var v,b=4;for(v=0;8>v;++v)b+=c[d-1+32*v];As(b>>3,c,d)}function qu(c,d){As(128,c,d)}function Ii(c,d,v){var b=c[d-v],R=c[d+0],V=3*(R-b)+M0[1020+c[d-2*v]-c[d+v]],B=Sd[112+(V+4>>3)];c[d-v]=is[255+b+Sd[112+(V+3>>3)]],c[d+0]=is[255+R-B]}function Da(c,d,v,b){var R=c[d+0],V=c[d+v];return ks[255+c[d-2*v]-c[d-v]]>b||ks[255+V-R]>b}function yo(c,d,v,b){return 4*ks[255+c[d-v]-c[d+0]]+ks[255+c[d-2*v]-c[d+v]]<=b}function vo(c,d,v,b,R){var V=c[d-3*v],B=c[d-2*v],z=c[d-v],$=c[d+0],K=c[d+v],ne=c[d+2*v],de=c[d+3*v];return 4*ks[255+z-$]+ks[255+B-K]>b?0:ks[255+c[d-4*v]-V]<=R&&ks[255+V-B]<=R&&ks[255+B-z]<=R&&ks[255+de-ne]<=R&&ks[255+ne-K]<=R&&ks[255+K-$]<=R}function _o(c,d,v,b){var R=2*b+1;for(b=0;16>b;++b)yo(c,d+b,v,R)&&Ii(c,d+b,v)}function wo(c,d,v,b){var R=2*b+1;for(b=0;16>b;++b)yo(c,d+b*v,1,R)&&Ii(c,d+b*v,1)}function $u(c,d,v,b){var R;for(R=3;0<R;--R)_o(c,d+=4*v,v,b)}function Hl(c,d,v,b){var R;for(R=3;0<R;--R)wo(c,d+=4,v,b)}function Ni(c,d,v,b,R,V,B,z){for(V=2*V+1;0<R--;){if(vo(c,d,v,V,B))if(Da(c,d,v,z))Ii(c,d,v);else{var $=c,K=d,ne=v,de=$[K-2*ne],Y=$[K-ne],se=$[K+0],he=$[K+ne],xe=$[K+2*ne],fe=27*(Ne=M0[1020+3*(se-Y)+M0[1020+de-he]])+63>>7,Ae=18*Ne+63>>7,Ne=9*Ne+63>>7;$[K-3*ne]=is[255+$[K-3*ne]+Ne],$[K-2*ne]=is[255+de+Ae],$[K-ne]=is[255+Y+fe],$[K+0]=is[255+se-fe],$[K+ne]=is[255+he-Ae],$[K+2*ne]=is[255+xe-Ne]}d+=b}}function Es(c,d,v,b,R,V,B,z){for(V=2*V+1;0<R--;){if(vo(c,d,v,V,B))if(Da(c,d,v,z))Ii(c,d,v);else{var $=c,K=d,ne=v,de=$[K-ne],Y=$[K+0],se=$[K+ne],he=Sd[112+(4+(xe=3*(Y-de))>>3)],xe=Sd[112+(xe+3>>3)],fe=he+1>>1;$[K-2*ne]=is[255+$[K-2*ne]+fe],$[K-ne]=is[255+de+xe],$[K+0]=is[255+Y-he],$[K+ne]=is[255+se-fe]}d+=b}}function Wl(c,d,v,b,R,V){Ni(c,d,v,1,16,b,R,V)}function Hs(c,d,v,b,R,V){Ni(c,d,1,v,16,b,R,V)}function Oa(c,d,v,b,R,V){var B;for(B=3;0<B;--B)Es(c,d+=4*v,v,1,16,b,R,V)}function m(c,d,v,b,R,V){var B;for(B=3;0<B;--B)Es(c,d+=4,1,v,16,b,R,V)}function C(c,d,v,b,R,V,B,z){Ni(c,d,R,1,8,V,B,z),Ni(v,b,R,1,8,V,B,z)}function G(c,d,v,b,R,V,B,z){Ni(c,d,1,R,8,V,B,z),Ni(v,b,1,R,8,V,B,z)}function ee(c,d,v,b,R,V,B,z){Es(c,d+4*R,R,1,8,V,B,z),Es(v,b+4*R,R,1,8,V,B,z)}function ae(c,d,v,b,R,V,B,z){Es(c,d+4,1,R,8,V,B,z),Es(v,b+4,1,R,8,V,B,z)}function Se(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nt(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new k}function _t(){this.xb=this.a=0,this.l=new Lr,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nt,this.ab=0,this.gc=o(4,Ye),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Lr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(c,d,v,b,R,V,B){for(c=c==null?0:c[d+0],d=0;d<B;++d)R[V+d]=c+v[b+d]&255,c=R[V+d]}function Pn(c,d,v,b,R,V,B){var z;if(c==null)Gt(null,null,v,b,R,V,B);else for(z=0;z<B;++z)R[V+z]=c[d+z]+v[b+z]&255}function Sn(c,d,v,b,R,V,B){if(c==null)Gt(null,null,v,b,R,V,B);else{var z,$=c[d+0],K=$,ne=$;for(z=0;z<B;++z)K=ne+($=c[d+z])-K,ne=v[b+z]+(-256&K?0>K?0:255:K)&255,K=$,R[V+z]=ne}}function h(c,d,v,b){var R=d.width,V=d.o;if(e(c!=null&&d!=null),0>v||0>=b||v+b>V)return null;if(!c.Cc){if(c.ga==null){var B;if(c.ga=new pt,(B=c.ga==null)||(B=d.width*d.o,e(c.Gb.length==0),c.Gb=s(B),c.Uc=0,c.Gb==null?B=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,B=1),B=!B),!B){B=c.ga;var z=c.Fa,$=c.P,K=c.qc,ne=c.mb,de=c.nb,Y=$+1,se=K-1,he=B.l;if(e(z!=null&&ne!=null&&d!=null),$a[0]=null,$a[1]=Gt,$a[2]=Pn,$a[3]=Sn,B.ca=ne,B.tb=de,B.c=d.width,B.i=d.height,e(0<B.c&&0<B.i),1>=K)d=0;else if(B.$a=3&z[$+0],B.Z=z[$+0]>>2&3,B.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||$)d=0;else if(he.put=mt,he.ac=xr,he.bc=Wn,he.ma=B,he.width=d.width,he.height=d.height,he.Da=d.Da,he.v=d.v,he.va=d.va,he.j=d.j,he.o=d.o,B.$a)e:{e(B.$a==1),d=bs();t:for(;;){if(d==null){d=0;break e}if(e(B!=null),B.mc=d,d.c=B.c,d.i=B.i,d.l=B.l,d.l.ma=B,d.l.width=B.c,d.l.height=B.i,d.a=0,le(d.m,z,Y,se),!be(B.c,B.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&ri(d.s)?(B.ic=1,z=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(z),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(B.ic=0,d=Re(d,B.c)),!d))break t;d=1;break e}B.mc=null,d=0}else d=se>=B.c*B.i;B=!d}if(B)return null;c.ga.Lc!=1?c.Ga=0:b=V-v}e(c.ga!=null),e(v+b<=V);e:{if(d=(z=c.ga).c,V=z.l.o,z.$a==0){if(Y=c.rc,se=c.Vc,he=c.Fa,$=c.P+1+v*d,K=c.mb,ne=c.nb+v*d,e($<=c.P+c.qc),z.Z!=0)for(e($a[z.Z]!=null),B=0;B<b;++B)$a[z.Z](Y,se,he,$,K,ne,d),Y=K,se=ne,ne+=d,$+=d;else for(B=0;B<b;++B)r(K,ne,he,$,d),Y=K,se=ne,ne+=d,$+=d;c.rc=Y,c.Vc=se}else{if(e(z.mc!=null),d=v+b,e((B=z.mc)!=null),e(d<=B.i),B.C>=d)d=1;else if(z.ic||pe(),z.ic){z=B.V,Y=B.Ba,se=B.c;var xe=B.i,fe=(he=1,$=B.$/se,K=B.$%se,ne=B.m,de=B.s,B.$),Ae=se*xe,Ne=se*d,De=de.wc,Ce=fe<Ne?or(de,K,$):null;e(fe<=Ae),e(d<=xe),e(ri(de));t:for(;;){for(;!ne.h&&fe<Ne;){if(K&De||(Ce=or(de,K,$)),e(Ce!=null),oe(ne),256>(xe=pn(Ce.G[0],Ce.H[0],ne)))z[Y+fe]=xe,++fe,++K>=se&&(K=0,++$<=d&&!($%16)&&qr(B,$));else{if(!(280>xe)){he=0;break t}xe=Br(xe-256,ne);var ut,Xe=pn(Ce.G[4],Ce.H[4],ne);if(oe(ne),!(fe>=(Xe=zr(se,Xe=Br(Xe,ne)))&&Ae-fe>=xe)){he=0;break t}for(ut=0;ut<xe;++ut)z[Y+fe+ut]=z[Y+fe+ut-Xe];for(fe+=xe,K+=xe;K>=se;)K-=se,++$<=d&&!($%16)&&qr(B,$);fe<Ne&&K&De&&(Ce=or(de,K,$))}e(ne.h==te(ne))}qr(B,$>d?d:$);break t}!he||ne.h&&fe<Ae?(he=0,B.a=ne.h?5:3):B.$=fe,d=he}else d=Sr(B,B.V,B.Ba,B.c,B.i,d,dt);if(!d){b=0;break e}}v+b>=V&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+v*R}function _(c,d,v,b,R,V){for(;0<R--;){var B,z=c,$=d+(v?1:0),K=c,ne=d+(v?0:3);for(B=0;B<b;++B){var de=K[ne+4*B];de!=255&&(de*=32897,z[$+4*B+0]=z[$+4*B+0]*de>>23,z[$+4*B+1]=z[$+4*B+1]*de>>23,z[$+4*B+2]=z[$+4*B+2]*de>>23)}d+=V}}function A(c,d,v,b,R){for(;0<b--;){var V;for(V=0;V<v;++V){var B=c[d+2*V+0],z=15&(K=c[d+2*V+1]),$=4369*z,K=(240&K|K>>4)*$>>16;c[d+2*V+0]=(240&B|B>>4)*$>>16&240|(15&B|B<<4)*$>>16>>4&15,c[d+2*V+1]=240&K|z}d+=R}}function q(c,d,v,b,R,V,B,z){var $,K,ne=255;for(K=0;K<R;++K){for($=0;$<b;++$){var de=c[d+$];V[B+4*$]=de,ne&=de}d+=v,B+=z}return ne!=255}function ue(c,d,v,b,R){var V;for(V=0;V<R;++V)v[b+V]=c[d+V]>>8}function pe(){Ah=_,y5=A,v5=q,_5=ue}function Me(c,d,v){E[c]=function(b,R,V,B,z,$,K,ne,de,Y,se,he,xe,fe,Ae,Ne,De){var Ce,ut=De-1>>1,Xe=z[$+0]|K[ne+0]<<16,Bt=de[Y+0]|se[he+0]<<16;e(b!=null);var it=3*Xe+Bt+131074>>2;for(d(b[R+0],255&it,it>>16,xe,fe),V!=null&&(it=3*Bt+Xe+131074>>2,d(V[B+0],255&it,it>>16,Ae,Ne)),Ce=1;Ce<=ut;++Ce){var en=z[$+Ce]|K[ne+Ce]<<16,Ir=de[Y+Ce]|se[he+Ce]<<16,zt=Xe+en+Bt+Ir+524296,st=zt+2*(en+Bt)>>3;it=st+Xe>>1,Xe=(zt=zt+2*(Xe+Ir)>>3)+en>>1,d(b[R+2*Ce-1],255&it,it>>16,xe,fe+(2*Ce-1)*v),d(b[R+2*Ce-0],255&Xe,Xe>>16,xe,fe+(2*Ce-0)*v),V!=null&&(it=zt+Bt>>1,Xe=st+Ir>>1,d(V[B+2*Ce-1],255&it,it>>16,Ae,Ne+(2*Ce-1)*v),d(V[B+2*Ce+0],255&Xe,Xe>>16,Ae,Ne+(2*Ce+0)*v)),Xe=en,Bt=Ir}1&De||(it=3*Xe+Bt+131074>>2,d(b[R+De-1],255&it,it>>16,xe,fe+(De-1)*v),V!=null&&(it=3*Bt+Xe+131074>>2,d(V[B+De-1],255&it,it>>16,Ae,Ne+(De-1)*v)))}}function kt(){Ps[Ad]=xN,Ps[Ed]=P5,Ps[E5]=SN,Ps[Id]=C5,Ps[Nd]=R5,Ps[F0]=L5,Ps[I5]=AN,Ps[j0]=P5,Ps[V0]=C5,Ps[Td]=R5,Ps[U0]=L5}function Cn(c){return c&~EN?0>c?0:255:c>>D5}function Kt(c,d){return Cn((19077*c>>8)+(26149*d>>8)-14234)}function Rn(c,d,v){return Cn((19077*c>>8)-(6419*d>>8)-(13320*v>>8)+8708)}function Dr(c,d){return Cn((19077*c>>8)+(33050*d>>8)-17685)}function li(c,d,v,b,R){b[R+0]=Kt(c,v),b[R+1]=Rn(c,d,v),b[R+2]=Dr(c,d)}function Ln(c,d,v,b,R){b[R+0]=Dr(c,d),b[R+1]=Rn(c,d,v),b[R+2]=Kt(c,v)}function ui(c,d,v,b,R){var V=Rn(c,d,v);d=V<<3&224|Dr(c,d)>>3,b[R+0]=248&Kt(c,v)|V>>5,b[R+1]=d}function Is(c,d,v,b,R){var V=240&Dr(c,d)|15;b[R+0]=240&Kt(c,v)|Rn(c,d,v)>>4,b[R+1]=V}function Qo(c,d,v,b,R){b[R+0]=255,li(c,d,v,b,R+1)}function gh(c,d,v,b,R){Ln(c,d,v,b,R),b[R+3]=255}function Ti(c,d,v,b,R){li(c,d,v,b,R),b[R+3]=255}function Xo(c,d,v){E[c]=function(b,R,V,B,z,$,K,ne,de){for(var Y=ne+(-2&de)*v;ne!=Y;)d(b[R+0],V[B+0],z[$+0],K,ne),d(b[R+1],V[B+0],z[$+0],K,ne+v),R+=2,++B,++$,ne+=2*v;1&de&&d(b[R+0],V[B+0],z[$+0],K,ne)}}function Hu(c,d,v){return v==0?c==0?d==0?6:5:d==0?4:0:v}function wd(c,d,v,b,R){switch(c>>>30){case 3:Ql(d,v,b,R,0);break;case 2:Ts(d,v,b,R);break;case 1:fn(d,v,b,R)}}function Ns(c,d){var v,b,R=d.M,V=d.Nb,B=c.oc,z=c.pc+40,$=c.oc,K=c.pc+584,ne=c.oc,de=c.pc+600;for(v=0;16>v;++v)B[z+32*v-1]=129;for(v=0;8>v;++v)$[K+32*v-1]=129,ne[de+32*v-1]=129;for(0<R?B[z-1-32]=$[K-1-32]=ne[de-1-32]=129:(i(B,z-32-1,127,21),i($,K-32-1,127,9),i(ne,de-32-1,127,9)),b=0;b<c.za;++b){var Y=d.ya[d.aa+b];if(0<b){for(v=-1;16>v;++v)r(B,z+32*v-4,B,z+32*v+12,4);for(v=-1;8>v;++v)r($,K+32*v-4,$,K+32*v+4,4),r(ne,de+32*v-4,ne,de+32*v+4,4)}var se=c.Gd,he=c.Hd+b,xe=Y.ad,fe=Y.Hc;if(0<R&&(r(B,z-32,se[he].y,0,16),r($,K-32,se[he].f,0,8),r(ne,de-32,se[he].ea,0,8)),Y.Za){var Ae=B,Ne=z-32+16;for(0<R&&(b>=c.za-1?i(Ae,Ne,se[he].y[15],4):r(Ae,Ne,se[he+1].y,0,4)),v=0;4>v;v++)Ae[Ne+128+v]=Ae[Ne+256+v]=Ae[Ne+384+v]=Ae[Ne+0+v];for(v=0;16>v;++v,fe<<=2)Ae=B,Ne=z+M5[v],Ws[Y.Ob[v]](Ae,Ne),wd(fe,xe,16*+v,Ae,Ne)}else if(Ae=Hu(b,R,Y.Ob[0]),qa[Ae](B,z),fe!=0)for(v=0;16>v;++v,fe<<=2)wd(fe,xe,16*+v,B,z+M5[v]);for(v=Y.Gc,Ae=Hu(b,R,Y.Dd),ea[Ae]($,K),ea[Ae](ne,de),fe=xe,Ae=$,Ne=K,255&(Y=0|v)&&(170&Y?So(fe,256,Ae,Ne):An(fe,256,Ae,Ne)),Y=ne,fe=de,255&(v>>=8)&&(170&v?So(xe,320,Y,fe):An(xe,320,Y,fe)),R<c.Ub-1&&(r(se[he].y,0,B,z+480,16),r(se[he].f,0,$,K+224,8),r(se[he].ea,0,ne,de+224,8)),v=8*V*c.B,se=c.sa,he=c.ta+16*b+16*V*c.R,xe=c.qa,Y=c.ra+8*b+v,fe=c.Ha,Ae=c.Ia+8*b+v,v=0;16>v;++v)r(se,he+v*c.R,B,z+32*v,16);for(v=0;8>v;++v)r(xe,Y+v*c.B,$,K+32*v,8),r(fe,Ae+v*c.B,ne,de+32*v,8)}}function Gl(c,d,v,b,R,V,B,z,$){var K=[0],ne=[0],de=0,Y=$!=null?$.kd:0,se=$??new Pe;if(c==null||12>v)return 7;se.data=c,se.w=d,se.ha=v,d=[d],v=[v],se.gb=[se.gb];e:{var he=d,xe=v,fe=se.gb;if(e(c!=null),e(xe!=null),e(fe!=null),fe[0]=0,12<=xe[0]&&!n(c,he[0],"RIFF")){if(n(c,he[0]+8,"WEBP")){fe=3;break e}var Ae=ot(c,he[0]+4);if(12>Ae||4294967286<Ae){fe=3;break e}if(Y&&Ae>xe[0]-8){fe=7;break e}fe[0]=Ae,he[0]+=12,xe[0]-=12}fe=0}if(fe!=0)return fe;for(Ae=0<se.gb[0],v=v[0];;){e:{var Ne=c;xe=d,fe=v;var De=K,Ce=ne,ut=he=[0];if((it=de=[de])[0]=0,8>fe[0])fe=7;else{if(!n(Ne,xe[0],"VP8X")){if(ot(Ne,xe[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var Xe=ot(Ne,xe[0]+8),Bt=1+je(Ne,xe[0]+12);if(2147483648<=Bt*(Ne=1+je(Ne,xe[0]+15))){fe=3;break e}ut!=null&&(ut[0]=Xe),De!=null&&(De[0]=Bt),Ce!=null&&(Ce[0]=Ne),xe[0]+=18,fe[0]-=18,it[0]=1}fe=0}}if(de=de[0],he=he[0],fe!=0)return fe;if(xe=!!(2&he),!Ae&&de)return 3;if(V!=null&&(V[0]=!!(16&he)),B!=null&&(B[0]=xe),z!=null&&(z[0]=0),B=K[0],he=ne[0],de&&xe&&$==null){fe=0;break}if(4>v){fe=7;break}if(Ae&&de||!Ae&&!de&&!n(c,d[0],"ALPH")){v=[v],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Xe=c,fe=d,Ae=v;var it=se.gb;De=se.na,Ce=se.P,ut=se.Sa,Bt=22,e(Xe!=null),e(Ae!=null),Ne=fe[0];var en=Ae[0];for(e(De!=null),e(ut!=null),De[0]=null,Ce[0]=null,ut[0]=0;;){if(fe[0]=Ne,Ae[0]=en,8>en){fe=7;break e}var Ir=ot(Xe,Ne+4);if(4294967286<Ir){fe=3;break e}var zt=8+Ir+1&-2;if(Bt+=zt,0<it&&Bt>it){fe=3;break e}if(!n(Xe,Ne,"VP8 ")||!n(Xe,Ne,"VP8L")){fe=0;break e}if(en[0]<zt){fe=7;break e}n(Xe,Ne,"ALPH")||(De[0]=Xe,Ce[0]=Ne+8,ut[0]=Ir),Ne+=zt,en-=zt}}if(v=v[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],fe!=0)break}v=[v],se.Ja=[se.Ja],se.xa=[se.xa];e:if(it=c,fe=d,Ae=v,De=se.gb[0],Ce=se.Ja,ut=se.xa,Xe=fe[0],Ne=!n(it,Xe,"VP8 "),Bt=!n(it,Xe,"VP8L"),e(it!=null),e(Ae!=null),e(Ce!=null),e(ut!=null),8>Ae[0])fe=7;else{if(Ne||Bt){if(it=ot(it,Xe+4),12<=De&&it>De-12){fe=3;break e}if(Y&&it>Ae[0]-8){fe=7;break e}Ce[0]=it,fe[0]+=8,Ae[0]-=8,ut[0]=Bt}else ut[0]=5<=Ae[0]&&it[Xe+0]==47&&!(it[Xe+4]>>5),Ce[0]=Ae[0];fe=0}if(v=v[0],se.Ja=se.Ja[0],se.xa=se.xa[0],d=d[0],fe!=0)break;if(4294967286<se.Ja)return 3;if(z==null||xe||(z[0]=se.xa?2:1),B=[B],he=[he],se.xa){if(5>v){fe=7;break}z=B,Y=he,xe=V,c==null||5>v?c=0:5<=v&&c[d+0]==47&&!(c[d+4]>>5)?(Ae=[0],it=[0],De=[0],le(Ce=new W,c,d,v),Ur(Ce,Ae,it,De)?(z!=null&&(z[0]=Ae[0]),Y!=null&&(Y[0]=it[0]),xe!=null&&(xe[0]=De[0]),c=1):c=0):c=0}else{if(10>v){fe=7;break}z=he,c==null||10>v||!ji(c,d+3,v-3)?c=0:(Y=c[d+0]|c[d+1]<<8|c[d+2]<<16,xe=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=se.Ja||!xe||!c?c=0:(B&&(B[0]=xe),z&&(z[0]=c),c=1))}if(!c||(B=B[0],he=he[0],de&&(K[0]!=B||ne[0]!=he)))return 3;$!=null&&($[0]=se,$.offset=d-$.w,e(4294967286>d-$.w),e($.offset==$.ha-v));break}return fe==0||fe==7&&de&&$==null?(V!=null&&(V[0]|=se.na!=null&&0<se.na.length),b!=null&&(b[0]=B),R!=null&&(R[0]=he),0):fe}function mh(c,d,v){var b=d.width,R=d.height,V=0,B=0,z=b,$=R;if(d.Da=c!=null&&0<c.Da,d.Da&&(z=c.cd,$=c.bd,V=c.v,B=c.j,11>v||(V&=-2,B&=-2),0>V||0>B||0>=z||0>=$||V+z>b||B+$>R))return 0;if(d.v=V,d.j=B,d.va=V+z,d.o=B+$,d.U=z,d.T=$,d.da=c!=null&&0<c.da,d.da){if(!at(z,$,v=[c.ib],V=[c.hb]))return 0;d.ib=v[0],d.hb=V[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*R/4,d.Kb=0),1}function yh(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Ma(c,d,v,b){if(b==null||0>=c||0>=d)return 2;if(v!=null){if(v.Da){var R=v.cd,V=v.bd,B=-2&v.v,z=-2&v.j;if(0>B||0>z||0>=R||0>=V||B+R>c||z+V>d)return 2;c=R,d=V}if(v.da){if(!at(c,d,R=[v.ib],V=[v.hb]))return 2;c=R[0],d=V[0]}}b.width=c,b.height=d;e:{var $=b.width,K=b.height;if(c=b.S,0>=$||0>=K||!(c>=Ad&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){B=V=R=d=0;var ne=(z=$*F5[c])*K;if(11>c||(V=(K+1)/2*(d=($+1)/2),c==12&&(B=(R=$)*K)),(K=s(ne+2*V+B))==null){c=1;break e}b.sd=K,11>c?(($=b.f.RGBA).eb=K,$.fb=0,$.A=z,$.size=ne):(($=b.f.kb).y=K,$.O=0,$.fa=z,$.Fd=ne,$.f=K,$.N=0+ne,$.Ab=d,$.Cd=V,$.ea=K,$.W=0+ne+V,$.Db=d,$.Ed=V,c==12&&($.F=K,$.J=0+ne+2*V),$.Tc=B,$.lb=R)}if(d=1,R=b.S,V=b.width,B=b.height,R>=Ad&&13>R)if(11>R)c=b.f.RGBA,d&=(z=Math.abs(c.A))*(B-1)+V<=c.size,d&=z>=V*F5[R],d&=c.eb!=null;else{c=b.f.kb,z=(V+1)/2,ne=(B+1)/2,$=Math.abs(c.fa),K=Math.abs(c.Ab);var de=Math.abs(c.Db),Y=Math.abs(c.lb),se=Y*(B-1)+V;d&=$*(B-1)+V<=c.Fd,d&=K*(ne-1)+z<=c.Cd,d=(d&=de*(ne-1)+z<=c.Ed)&$>=V&K>=z&de>=z,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,R==12&&(d&=Y>=V,d&=se<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||v!=null&&v.fd&&(c=yh(b)),c}var Kl=64,ns=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rs=24,Fa=32,Jo=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(c){return c},E.Predictor2=function(c,d,v){return d[v+0]},E.Predictor3=function(c,d,v){return d[v+1]},E.Predictor4=function(c,d,v){return d[v-1]},E.Predictor5=function(c,d,v){return rt(rt(c,d[v+1]),d[v+0])},E.Predictor6=function(c,d,v){return rt(c,d[v-1])},E.Predictor7=function(c,d,v){return rt(c,d[v+0])},E.Predictor8=function(c,d,v){return rt(d[v-1],d[v+0])},E.Predictor9=function(c,d,v){return rt(d[v+0],d[v+1])},E.Predictor10=function(c,d,v){return rt(rt(c,d[v-1]),rt(d[v+0],d[v+1]))},E.Predictor11=function(c,d,v){var b=d[v+0];return 0>=wt(b>>24&255,c>>24&255,(d=d[v-1])>>24&255)+wt(b>>16&255,c>>16&255,d>>16&255)+wt(b>>8&255,c>>8&255,d>>8&255)+wt(255&b,255&c,255&d)?b:c},E.Predictor12=function(c,d,v){var b=d[v+0];return(Jt((c>>24&255)+(b>>24&255)-((d=d[v-1])>>24&255))<<24|Jt((c>>16&255)+(b>>16&255)-(d>>16&255))<<16|Jt((c>>8&255)+(b>>8&255)-(d>>8&255))<<8|Jt((255&c)+(255&b)-(255&d)))>>>0},E.Predictor13=function(c,d,v){var b=d[v-1];return(Nt((c=rt(c,d[v+0]))>>24&255,b>>24&255)<<24|Nt(c>>16&255,b>>16&255)<<16|Nt(c>>8&255,b>>8&255)<<8|Nt(255&c,255&b))>>>0};var vh=E.PredictorAdd0;E.PredictorAdd1=Lt,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var Wu=E.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var ar,bd=E.ColorIndexInverseTransform,bo=E.MapARGB,xo=E.VP8LColorIndexInverseTransformAlpha,_h=E.MapAlpha,wh=E.VP8LPredictorsAdd=[];wh.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var bh,xh,Va,Ua,Ba,Yl,za,Ql,Ts,So,fn,An,lr,Er,Zo,Sh,Gu,xd,h5,f5,d5,p5,g5,m5,Ah,y5,v5,_5,w5=s(511),b5=s(2041),x5=s(225),S5=s(767),A5=0,M0=b5,Sd=x5,is=S5,ks=w5,Ad=0,Ed=1,E5=2,Id=3,Nd=4,F0=5,I5=6,j0=7,V0=8,Td=9,U0=10,lN=[2,3,7],uN=[3,3,11],N5=[280,256,256,256,40],cN=[0,1,1,1,0],hN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pN=8,B0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],z0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Eh=null,gN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],T5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_N=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qa=[],Ws=[],ea=[],bN=1,k5=2,$a=[],Ps=[];Me("UpsampleRgbLinePair",li,3),Me("UpsampleBgrLinePair",Ln,3),Me("UpsampleRgbaLinePair",Ti,4),Me("UpsampleBgraLinePair",gh,4),Me("UpsampleArgbLinePair",Qo,4),Me("UpsampleRgba4444LinePair",Is,2),Me("UpsampleRgb565LinePair",ui,2);var xN=E.UpsampleRgbLinePair,SN=E.UpsampleBgrLinePair,P5=E.UpsampleRgbaLinePair,C5=E.UpsampleBgraLinePair,R5=E.UpsampleArgbLinePair,L5=E.UpsampleRgba4444LinePair,AN=E.UpsampleRgb565LinePair,kd=16,Pd=1<<kd-1,Ih=-227,q0=482,D5=6,EN=(256<<D5)-1,O5=0,IN=s(256),NN=s(256),TN=s(256),kN=s(256),PN=s(q0-Ih),CN=s(q0-Ih);Xo("YuvToRgbRow",li,3),Xo("YuvToBgrRow",Ln,3),Xo("YuvToRgbaRow",Ti,4),Xo("YuvToBgraRow",gh,4),Xo("YuvToArgbRow",Qo,4),Xo("YuvToRgba4444Row",Is,2),Xo("YuvToRgb565Row",ui,2);var M5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cd=[0,2,8],RN=[8,7,6,4,4,2,2,2,1,1,1,1],LN=1;this.WebPDecodeRGBA=function(c,d,v,b,R){var V=Ed,B=new Se,z=new Ke;B.ba=z,z.S=V,z.width=[z.width],z.height=[z.height];var $=z.width,K=z.height,ne=new lt;if(ne==null||c==null)var de=2;else e(ne!=null),de=Gl(c,d,v,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(de!=0?$=0:($!=null&&($[0]=ne.width[0]),K!=null&&(K[0]=ne.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],b!=null&&(b[0]=z.width),R!=null&&(R[0]=z.height);e:{if(b=new Lr,(R=new Pe).data=c,R.w=d,R.ha=v,R.kd=1,d=[0],e(R!=null),((c=Gl(R.data,R.w,R.ha,null,null,null,d,null,R))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(B!=null),b.data=R.data,b.w=R.w+R.offset,b.ha=R.ha-R.offset,b.put=mt,b.ac=xr,b.bc=Wn,b.ma=B,R.xa){if((c=bs())==null){B=1;break e}if(function(Y,se){var he=[0],xe=[0],fe=[0];t:for(;;){if(Y==null)return 0;if(se==null)return Y.a=2,0;if(Y.l=se,Y.a=0,le(Y.m,se.data,se.w,se.ha),!Ur(Y.m,he,xe,fe)){Y.a=3;break t}if(Y.xb=k5,se.width=he[0],se.height=xe[0],!be(he[0],xe[0],1,Y,null))break t;return 1}return e(Y.a!=0),0}(c,b)){if(b=(d=Ma(b.width,b.height,B.Oa,B.ba))==0){t:{b=c;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((R=v.ma)!=null),b.xb!=0){if(b.ca=R.ba,b.tb=R.tb,e(b.ca!=null),!mh(R.Oa,v,Id)){b.a=2;break n}if(!Re(b,v.width)||v.da)break n;if((v.da||ct(b.ca.S))&&pe(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&pe()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!H(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Sr(b,b.V,b.Ba,b.c,b.i,v.o,Ji))break n;R.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=c.a)}else d=c.a}else{if((c=new oi)==null){B=1;break e}if(c.Fa=R.na,c.P=R.P,c.qc=R.Sa,ai(c,b)){if((d=Ma(b.width,b.height,B.Oa,B.ba))==0){if(c.Aa=0,v=B.Oa,e((R=c)!=null),v!=null){if(0<($=0>($=v.Md)?0:100<$?255:255*$/100)){for(K=ne=0;4>K;++K)12>(de=R.pb[K]).lc&&(de.ia=$*RN[0>de.lc?0:de.lc]>>3),ne|=de.ia;ne&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=v.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(Y,se){if(Y==null)return 0;if(se==null)return wn(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!ai(Y,se))return 0;if(e(Y.cb),se.ac==null||se.ac(se)){se.ob&&(Y.L=0);var he=Cd[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=se.v-he>>4,Y.zb=se.j-he>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=se.o+15+he>>4,Y.Hb=se.va+15+he>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var xe=Y.ed;for(he=0;4>he;++he){var fe;if(Y.Qa.Cb){var Ae=Y.Qa.Lb[he];Y.Qa.Fb||(Ae+=xe.Tb)}else Ae=xe.Tb;for(fe=0;1>=fe;++fe){var Ne=Y.gd[he][fe],De=Ae;if(xe.Pc&&(De+=xe.vd[0],fe&&(De+=xe.od[0])),0<(De=0>De?0:63<De?63:De)){var Ce=De;0<xe.wb&&(Ce=4<xe.wb?Ce>>2:Ce>>1)>9-xe.wb&&(Ce=9-xe.wb),1>Ce&&(Ce=1),Ne.dd=Ce,Ne.tc=2*De+Ce,Ne.ld=40<=De?2:15<=De?1:0}else Ne.tc=0;Ne.La=fe}}}he=0}else wn(Y,6,"Frame setup failed"),he=Y.a;if(he=he==0){if(he){Y.$c=0,0<Y.Aa||(Y.Ic=LN);t:{he=Y.Ic,xe=4*(Ce=Y.za);var ut=32*Ce,Xe=Ce+1,Bt=0<Y.L?Ce*(0<Y.Aa?2:1):0,it=(Y.Aa==2?2:1)*Ce;if((Ne=xe+832+(fe=3*(16*he+Cd[Y.L])/2*ut)+(Ae=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=Ne)he=0;else{if(Ne>Y.Vb){if(Y.Vb=0,Y.Ec=s(Ne),Y.Fc=0,Y.Ec==null){he=wn(Y,1,"no memory during frame initialization.");break t}Y.Vb=Ne}Ne=Y.Ec,De=Y.Fc,Y.Ac=Ne,Y.Bc=De,De+=xe,Y.Gd=o(ut,go),Y.Hd=0,Y.rb=o(Xe+1,Zn),Y.sb=1,Y.wa=Bt?o(Bt,jt):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Ce),e(!0),Y.oc=Ne,Y.pc=De,De+=832,Y.ya=o(it,qn),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Ce),Y.R=16*Ce,Y.B=8*Ce,Ce=(ut=Cd[Y.L])*Y.R,ut=ut/2*Y.B,Y.sa=Ne,Y.ta=De+Ce,Y.qa=Y.sa,Y.ra=Y.ta+16*he*Y.R+ut,Y.Ha=Y.qa,Y.Ia=Y.ra+8*he*Y.B+ut,Y.$c=0,De+=fe,Y.mb=Ae?Ne:null,Y.nb=Ae?De:null,e(De+Ae<=Y.Fc+Y.Vb),xs(Y),i(Y.Ac,Y.Bc,0,xe),he=1}}if(he){if(se.ka=0,se.y=Y.sa,se.O=Y.ta,se.f=Y.qa,se.N=Y.ra,se.ea=Y.Ha,se.Vd=Y.Ia,se.fa=Y.R,se.Rc=Y.B,se.F=null,se.J=0,!A5){for(he=-255;255>=he;++he)w5[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)b5[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)x5[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)S5[255+he]=0>he?0:255<he?255:he;A5=1}za=Gn,Ql=Bl,So=$t,fn=er,An=Ar,Ts=ka,lr=Wl,Er=Hs,Zo=C,Sh=G,Gu=Oa,xd=m,h5=ee,f5=ae,d5=_o,p5=wo,g5=$u,m5=Hl,Ws[0]=Yo,Ws[1]=qs,Ws[2]=Pa,Ws[3]=Bu,Ws[4]=Ei,Ws[5]=ql,Ws[6]=Ss,Ws[7]=kn,Ws[8]=$l,Ws[9]=Ca,qa[0]=zl,qa[1]=Ko,qa[2]=$s,qa[3]=es,qa[4]=ts,qa[5]=Vi,qa[6]=ph,ea[0]=Ra,ea[1]=Go,ea[2]=mo,ea[3]=zu,ea[4]=La,ea[5]=Ui,ea[6]=qu,he=1}else he=0}he&&(he=function(en,Ir){for(en.M=0;en.M<en.Va;++en.M){var zt,st=en.Jc[en.M&en.Xb],Ue=en.m,ur=en;for(zt=0;zt<ur.za;++zt){var Vt=Ue,rn=ur,jn=rn.Ac,Hr=rn.Bc+4*zt,ki=rn.zc,tr=rn.ya[rn.aa+zt];if(rn.Qa.Bb?tr.$b=Ee(Vt,rn.Pa.jb[0])?2+Ee(Vt,rn.Pa.jb[2]):Ee(Vt,rn.Pa.jb[1]):tr.$b=0,rn.kc&&(tr.Ad=Ee(Vt,rn.Bd)),tr.Za=!Ee(Vt,145)+0,tr.Za){var ci=tr.Ob,Pi=0;for(rn=0;4>rn;++rn){var Nr,ln=ki[0+rn];for(Nr=0;4>Nr;++Nr){ln=vN[jn[Hr+Nr]][ln];for(var gn=T5[Ee(Vt,ln[0])];0<gn;)gn=T5[2*gn+Ee(Vt,ln[gn])];ln=-gn,jn[Hr+Nr]=ln}r(ci,Pi,jn,Hr,4),Pi+=4,ki[0+rn]=ln}}else ln=Ee(Vt,156)?Ee(Vt,128)?1:3:Ee(Vt,163)?2:0,tr.Ob[0]=ln,i(jn,Hr,ln,4),i(ki,0,ln,4);tr.Dd=Ee(Vt,142)?Ee(Vt,114)?Ee(Vt,183)?1:3:2:0}if(ur.m.Ka)return wn(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(ur=st,Vt=(Ue=en).rb[Ue.sb-1],jn=Ue.rb[Ue.sb+Ue.ja],zt=Ue.ya[Ue.aa+Ue.ja],Hr=Ue.kc?zt.Ad:0)Vt.la=jn.la=0,zt.Za||(Vt.Na=jn.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var nr,mn;if(Vt=jn,jn=ur,Hr=Ue.Pa.Xc,ki=Ue.ya[Ue.aa+Ue.ja],tr=Ue.pb[ki.$b],rn=ki.ad,ci=0,Pi=Ue.rb[Ue.sb-1],ln=Nr=0,i(rn,ci,0,384),ki.Za)var Wr=0,Gs=Hr[3];else{gn=s(16);var cr=Vt.Na+Pi.Na;if(cr=Eh(jn,Hr[1],cr,tr.Eb,0,gn,0),Vt.Na=Pi.Na=(0<cr)+0,1<cr)za(gn,0,rn,ci);else{var Bi=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)rn[ci+gn]=Bi}Wr=1,Gs=Hr[0]}var En=15&Vt.la,Tr=15&Pi.la;for(gn=0;4>gn;++gn){var ss=1&Tr;for(Bi=mn=0;4>Bi;++Bi)En=En>>1|(ss=(cr=Eh(jn,Gs,cr=ss+(1&En),tr.Sc,Wr,rn,ci))>Wr)<<7,mn=mn<<2|(3<cr?3:1<cr?2:rn[ci+0]!=0),ci+=16;En>>=4,Tr=Tr>>1|ss<<7,Nr=(Nr<<8|mn)>>>0}for(Gs=En,Wr=Tr>>4,nr=0;4>nr;nr+=2){for(mn=0,En=Vt.la>>4+nr,Tr=Pi.la>>4+nr,gn=0;2>gn;++gn){for(ss=1&Tr,Bi=0;2>Bi;++Bi)cr=ss+(1&En),En=En>>1|(ss=0<(cr=Eh(jn,Hr[2],cr,tr.Qc,0,rn,ci)))<<3,mn=mn<<2|(3<cr?3:1<cr?2:rn[ci+0]!=0),ci+=16;En>>=2,Tr=Tr>>1|ss<<5}ln|=mn<<4*nr,Gs|=En<<4<<nr,Wr|=(240&Tr)<<nr}Vt.la=Gs,Pi.la=Wr,ki.Hc=Nr,ki.Gc=ln,ki.ia=43690&ln?0:tr.ia,Hr=!(Nr|ln)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[zt.$b][zt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Hr),ur.Ka)return wn(en,7,"Premature end-of-file encountered.")}if(xs(en),Ue=Ir,ur=1,zt=(st=en).D,Vt=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(zt.M=st.M,zt.uc=Vt,Ns(st,zt),ur=1,zt=(mn=st.D).Nb,Vt=(ln=Cd[st.L])*st.R,jn=ln/2*st.B,gn=16*zt*st.R,Bi=8*zt*st.B,Hr=st.sa,ki=st.ta-Vt+gn,tr=st.qa,rn=st.ra-jn+Bi,ci=st.Ha,Pi=st.Ia-jn+Bi,Tr=(En=mn.M)==0,Nr=En>=st.Va-1,st.Aa==2&&Ns(st,mn),mn.uc)for(ss=(cr=st).D.M,e(cr.D.uc),mn=cr.yb;mn<cr.Hb;++mn){Wr=mn,Gs=ss;var Ci=(os=(Gr=cr).D).Nb;nr=Gr.R;var os=os.wa[os.Y+Wr],as=Gr.sa,zi=Gr.ta+16*Ci*nr+16*Wr,ls=os.dd,Dn=os.tc;if(Dn!=0)if(e(3<=Dn),Gr.L==1)0<Wr&&p5(as,zi,nr,Dn+4),os.La&&m5(as,zi,nr,Dn),0<Gs&&d5(as,zi,nr,Dn+4),os.La&&g5(as,zi,nr,Dn);else{var us=Gr.B,Ks=Gr.qa,Xl=Gr.ra+8*Ci*us+8*Wr,ta=Gr.Ha,Gr=Gr.Ia+8*Ci*us+8*Wr;Ci=os.ld,0<Wr&&(Er(as,zi,nr,Dn+4,ls,Ci),Sh(Ks,Xl,ta,Gr,us,Dn+4,ls,Ci)),os.La&&(xd(as,zi,nr,Dn,ls,Ci),f5(Ks,Xl,ta,Gr,us,Dn,ls,Ci)),0<Gs&&(lr(as,zi,nr,Dn+4,ls,Ci),Zo(Ks,Xl,ta,Gr,us,Dn+4,ls,Ci)),os.La&&(Gu(as,zi,nr,Dn,ls,Ci),h5(Ks,Xl,ta,Gr,us,Dn,ls,Ci))}}if(st.ia&&alert("todo:DitherRow"),Ue.put!=null){if(mn=16*En,En=16*(En+1),Tr?(Ue.y=st.sa,Ue.O=st.ta+gn,Ue.f=st.qa,Ue.N=st.ra+Bi,Ue.ea=st.Ha,Ue.W=st.Ia+Bi):(mn-=ln,Ue.y=Hr,Ue.O=ki,Ue.f=tr,Ue.N=rn,Ue.ea=ci,Ue.W=Pi),Nr||(En-=ln),En>Ue.o&&(En=Ue.o),Ue.F=null,Ue.J=null,st.Fa!=null&&0<st.Fa.length&&mn<En&&(Ue.J=h(st,Ue,mn,En-mn),Ue.F=st.mb,Ue.F==null&&Ue.F.length==0)){ur=wn(st,3,"Could not decode alpha data.");break t}mn<Ue.j&&(ln=Ue.j-mn,mn=Ue.j,e(!(1&ln)),Ue.O+=st.R*ln,Ue.N+=st.B*(ln>>1),Ue.W+=st.B*(ln>>1),Ue.F!=null&&(Ue.J+=Ue.width*ln)),mn<En&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=mn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=En-mn,ur=Ue.put(Ue))}zt+1!=st.Ic||Nr||(r(st.sa,st.ta-Vt,Hr,ki+16*st.R,Vt),r(st.qa,st.ra-jn,tr,rn+8*st.B,jn),r(st.Ha,st.Ia-jn,ci,Pi+8*st.B,jn))}if(!ur)return wn(en,6,"Output aborted.")}return 1}(Y,se)),se.bc!=null&&se.bc(se),he&=1}return he?(Y.cb=0,he):0})(c,b)||(d=c.a)}}else d=c.a}d==0&&B.Oa!=null&&B.Oa.fd&&(d=yh(B.ba))}B=d}V=B!=0?null:11>V?z.f.RGBA.eb:z.f.kb.y}else V=null;return V};var F5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,D){for(var w="",T=0;T<4;T++)w+=String.fromCharCode(E[D++]);return w}function f(E,D){return E[D+0]|E[D+1]<<8}function g(E,D){return(E[D+0]|E[D+1]<<8|E[D+2]<<16)>>>0}function y(E,D){return(E[D+0]|E[D+1]<<8|E[D+2]<<16|E[D+3]<<24)>>>0}new l;var p=[0],I=[0],S=[],O=new l,x=t,P=function(E,D){var w={},T=0,k=!1,X=0,ce=0;if(w.frames=[],!function(j,W){for(var Q=0;Q<4;Q++)if(j[W+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(E,D)){for(y(E,D+=4),D+=8;D<E.length;){var ge=u(E,D),ye=y(E,D+=4);D+=4;var J=ye+(1&ye);switch(ge){case"VP8 ":case"VP8L":w.frames[T]===void 0&&(w.frames[T]={}),(_e=w.frames[T]).src_off=k?ce:D-8,_e.src_size=X+ye+8,T++,k&&(k=!1,X=0,ce=0);break;case"VP8X":(_e=w.header={}).feature_flags=E[D];var le=D+4;_e.canvas_width=1+g(E,le),le+=3,_e.canvas_height=1+g(E,le),le+=3;break;case"ALPH":k=!0,X=J+8,ce=D-8;break;case"ANIM":(_e=w.header).bgcolor=y(E,D),le=D+4,_e.loop_count=f(E,le),le+=2;break;case"ANMF":var we,_e;(_e=w.frames[T]={}).offset_x=2*g(E,D),D+=3,_e.offset_y=2*g(E,D),D+=3,_e.width=1+g(E,D),D+=3,_e.height=1+g(E,D),D+=3,_e.duration=g(E,D),D+=3,we=E[D++],_e.dispose=1&we,_e.blend=we>>1&1}ge!="ANMF"&&(D+=J)}return w}}(x,0);P.response=x,P.rgbaoutput=!0,P.dataurl=!1;var L=P.header?P.header:null,U=P.frames?P.frames:null;if(L){L.loop_counter=L.loop_count,p=[L.canvas_height],I=[L.canvas_width];for(var Z=0;Z<U.length&&U[Z].blend!=0;Z++);}var ie=U[0],F=O.WebPDecodeRGBA(x,ie.src_off,ie.src_size,I,p);ie.rgba=F,ie.imgwidth=I[0],ie.imgheight=p[0];for(var N=0;N<I[0]*p[0]*4;N++)S[N]=F[N];return this.width=I,this.height=p,this.data=S,this}(function(t){var e,n,r,i,s,o,a,l,u,f=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var g=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=j;Object.defineProperty(this,"pdf",{get:function(){return W}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(H){Q=!!H}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(H){te=!!H}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(H){isNaN(H)||(re=H)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(H){isNaN(H)||(oe=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Ve;typeof H=="number"?Ve=[H,H,H,H]:((Ve=new Array(4))[0]=H[0],Ve[1]=H.length>=2?H[1]:Ve[0],Ve[2]=H.length>=3?H[2]:Ve[0],Ve[3]=H.length>=4?H[3]:Ve[1]),u.margin=Ve}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(H){me=H}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(H){ve=H}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(H){Ee=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof f&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(H){Le=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Ve;Ve=y(H),this.ctx.fillStyle=Ve.style,this.ctx.isFillTransparent=Ve.a===0,this.ctx.fillOpacity=Ve.a,this.pdf.setFillColor(Ve.r,Ve.g,Ve.b,{a:Ve.a}),this.pdf.setTextColor(Ve.r,Ve.g,Ve.b,{a:Ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Ve=y(H);this.ctx.strokeStyle=Ve.style,this.ctx.isStrokeTransparent=Ve.a===0,this.ctx.strokeOpacity=Ve.a,Ve.a===0?this.pdf.setDrawColor(255,255,255):(Ve.a,this.pdf.setDrawColor(Ve.r,Ve.g,Ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Be=null,je=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(H){Be=null,je=null,ot=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Ve;if(this.ctx.font=H,(Ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var bt=Ve[1];Ve[2];var at=Ve[3],Ie=Ve[4];Ve[5];var He=Ve[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(ze==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var ft=function(We){var Nn,Ft,Je=[],Pt=We.trim();if(Pt==="")return fm;if(Pt in i4)return[i4[Pt]];for(;Pt!=="";){switch(Ft=null,Nn=(Pt=o4(Pt)).charAt(0)){case'"':case"'":Ft=jV(Pt.substring(1),Nn);break;default:Ft=VV(Pt)}if(Ft===null||(Je.push(Ft[0]),(Pt=o4(Ft[1]))!==""&&Pt.charAt(0)!==","))return fm;Pt=Pt.replace(/^,/,"")}return Je}(He);if(this.fontFaces){var rt=function(We,Nn){var Ft=We.getFontList(),Je=JSON.stringify(Ft);if(Be===null||je!==Je){var Pt=function(nn){var tt=[];return Object.keys(nn).forEach(function(on){nn[on].forEach(function(ct){var gt=null;switch(ct){case"bold":gt={family:on,weight:"bold"};break;case"italic":gt={family:on,style:"italic"};break;case"bolditalic":gt={family:on,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:on}}gt!==null&&(gt.ref={name:on,style:ct},tt.push(gt))})}),tt}(Ft);Be=function(nn){for(var tt={},on=0;on<nn.length;++on){var ct=hm(nn[on]),gt=ct.family,an=ct.stretch,Ke=ct.style,lt=ct.weight;tt[gt]=tt[gt]||{},tt[gt][an]=tt[gt][an]||{},tt[gt][an][Ke]=tt[gt][an][Ke]||{},tt[gt][an][Ke][lt]=ct}return tt}(Pt.concat(Nn)),je=Je}return Be}(this.pdf,this.fontFaces),Jt=ft.map(function(We){return{family:We,stretch:"normal",weight:at,style:bt}}),Nt=function(We,Nn,Ft){for(var Je=(Ft=Ft||{}).defaultFontFamily||"times",Pt=Object.assign({},FV,Ft.genericFontFamilies||{}),nn=null,tt=null,on=0;on<Nn.length;++on)if(Pt[(nn=hm(Nn[on])).family]&&(nn.family=Pt[nn.family]),We.hasOwnProperty(nn.family)){tt=We[nn.family];break}if(!(tt=tt||We[Je]))throw new Error("Could not find a font-family for the rule '"+s4(nn)+"' and default family '"+Je+"'.");if(tt=function(ct,gt){if(gt[ct])return gt[ct];var an=Z2[ct],Ke=an<=Z2.normal?-1:1,lt=r4(gt,zI,an,Ke);if(!lt)throw new Error("Could not find a matching font-stretch value for "+ct);return lt}(nn.stretch,tt),tt=function(ct,gt){if(gt[ct])return gt[ct];for(var an=BI[ct],Ke=0;Ke<an.length;++Ke)if(gt[an[Ke]])return gt[an[Ke]];throw new Error("Could not find a matching font-style for "+ct)}(nn.style,tt),!(tt=function(ct,gt){if(gt[ct])return gt[ct];if(ct===400&&gt[500])return gt[500];if(ct===500&&gt[400])return gt[400];var an=MV[ct],Ke=r4(gt,qI,an,ct<400?-1:1);if(!Ke)throw new Error("Could not find a matching font-weight for value "+ct);return Ke}(nn.weight,tt)))throw new Error("Failed to resolve a font for the rule '"+s4(nn)+"'.");return tt}(rt,Jt);this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var wt="";(at==="bold"||parseInt(at,10)>=700||bt==="bold")&&(wt="bold"),bt==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Lt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<ft.length;et++){if(this.pdf.internal.getFont(ft[et],wt,{noFallback:!0,disableWarning:!0})!==void 0){Lt=ft[et];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(ft[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Lt=ft[et],wt="bold";else if(this.pdf.internal.getFont(ft[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Lt=ft[et],wt="normal";break}}if(Lt===""){for(var Tt=0;Tt<ft.length;Tt++)if(Ut[ft[Tt]]){Lt=Ut[ft[Tt]];break}}Lt=Lt===""?"Times":Lt,this.pdf.setFont(Lt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};g.prototype.setLineDash=function(j){this.lineDash=j},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(j,W){if(isNaN(j)||isNaN(W))throw In.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(j,W));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(j,W)},g.prototype.closePath=function(){var j=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&vn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){j=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},g.prototype.lineTo=function(j,W){if(isNaN(j)||isNaN(W))throw In.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(j,W));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(j,W,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(j)||isNaN(W))throw In.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(Q,te)),oe=this.ctx.transform.applyToPoint(new o(j,W));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},g.prototype.bezierCurveTo=function(j,W,Q,te,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te))throw In.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(re,oe)),ve=this.ctx.transform.applyToPoint(new o(j,W)),Ee=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Ee.x,y2:Ee.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},g.prototype.arc=function(j,W,Q,te,re,oe){if(isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te)||isNaN(re))throw In.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(j,W));j=me.x,W=me.y;var ve=this.ctx.transform.applyToPoint(new o(0,Q)),Ee=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ve.x-Ee.x,2)+Math.pow(ve.y-Ee.y,2))}Math.abs(re-te)>=2*Math.PI&&(te=0,re=2*Math.PI),this.path.push({type:"arc",x:j,y:W,radius:Q,startAngle:te,endAngle:re,counterclockwise:oe})},g.prototype.arcTo=function(j,W,Q,te,re){throw new Error("arcTo not implemented.")},g.prototype.rect=function(j,W,Q,te){if(isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te))throw In.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,W),this.lineTo(j+Q,W),this.lineTo(j+Q,W+te),this.lineTo(j,W+te),this.lineTo(j,W),this.lineTo(j+Q,W),this.lineTo(j,W)},g.prototype.fillRect=function(j,W,Q,te){if(isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te))throw In.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,W,Q,te),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},g.prototype.strokeRect=function(j,W,Q,te){if(isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te))throw In.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");I.call(this)||(this.beginPath(),this.rect(j,W,Q,te),this.stroke())},g.prototype.clearRect=function(j,W,Q,te){if(isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te))throw In.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,W,Q,te))},g.prototype.save=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},g.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(W),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(j){var W,Q,te,re;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))W=0,Q=0,te=0,re=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(oe!==null)W=parseInt(oe[1]),Q=parseInt(oe[2]),te=parseInt(oe[3]),re=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)W=parseInt(oe[1]),Q=parseInt(oe[2]),te=parseInt(oe[3]),re=parseFloat(oe[4]);else{if(re=1,typeof j=="string"&&j.charAt(0)!=="#"){var me=new DI(j);j=me.ok?me.toHex():"#000000"}j.length===4?(W=j.substring(1,2),W+=W,Q=j.substring(2,3),Q+=Q,te=j.substring(3,4),te+=te):(W=j.substring(1,3),Q=j.substring(3,5),te=j.substring(5,7)),W=parseInt(W,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:W,g:Q,b:te,a:re,style:j}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},I=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(j,W,Q,te){if(isNaN(W)||isNaN(Q)||typeof j!="string")throw In.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var re=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;T.call(this,{text:j,x:W,y:Q,scale:oe,angle:re,align:this.textAlign,maxWidth:te})}},g.prototype.strokeText=function(j,W,Q,te){if(isNaN(W)||isNaN(Q)||typeof j!="string")throw In.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!I.call(this)){te=isNaN(te)?void 0:te;var re=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;T.call(this,{text:j,x:W,y:Q,scale:oe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:te})}},g.prototype.measureText=function(j){if(typeof j!="string")throw In.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Q=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),re=W.getStringUnitWidth(j)*te/W.internal.scaleFactor;return new function(oe){var me=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:re*=Math.round(96*Q/72*1e4)/1e4})},g.prototype.scale=function(j,W){if(isNaN(j)||isNaN(W))throw In.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(j,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.rotate=function(j){if(isNaN(j))throw In.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.translate=function(j,W){if(isNaN(j)||isNaN(W))throw In.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,j,W);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.transform=function(j,W,Q,te,re,oe){if(isNaN(j)||isNaN(W)||isNaN(Q)||isNaN(te)||isNaN(re)||isNaN(oe))throw In.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(j,W,Q,te,re,oe);this.ctx.transform=this.ctx.transform.multiply(me)},g.prototype.setTransform=function(j,W,Q,te,re,oe){j=isNaN(j)?1:j,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,re=isNaN(re)?0:re,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(j,W,Q,te,re,oe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(j,W,Q,te,re,oe,me,ve,Ee){var Le=this.pdf.getImageProperties(j),Be=1,je=1,ot=1,H=1;te!==void 0&&ve!==void 0&&(ot=ve/te,H=Ee/re,Be=Le.width/te*ve/te,je=Le.height/re*Ee/re),oe===void 0&&(oe=W,me=Q,W=0,Q=0),te!==void 0&&ve===void 0&&(ve=te,Ee=re),te===void 0&&ve===void 0&&(ve=Le.width,Ee=Le.height);var Ve=this.ctx.transform.decompose(),bt=J(Ve.rotate.shx),at=new l,Ie=(at=(at=(at=at.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new a(oe-W*ot,me-Q*H,te*Be,re*je));if(this.autoPaging){for(var He,ze=O.call(this,Ie),ft=[],rt=0;rt<ze.length;rt+=1)ft.indexOf(ze[rt])===-1&&ft.push(ze[rt]);L(ft);for(var Jt=ft[0],Nt=ft[ft.length-1],wt=Jt;wt<Nt+1;wt++){this.pdf.setPage(wt);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=wt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=wt===1?0:et+(wt-2)*Tt;if(this.ctx.clip_path.length!==0){var Nn=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(He,this.posX+this.margin[3],-We+Ut+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=Nn}var Ft=JSON.parse(JSON.stringify(Ie));Ft=P([Ft],this.posX+this.margin[3],-We+Ut+this.ctx.prevPageLastElemOffset)[0];var Je=(wt>Jt||wt<Nt)&&S.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Tt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,bt),Je&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,bt)};var O=function(j,W,Q){var te=[];W=W||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+re)/Q)+1);break;case"arc":te.push(Math.floor((j.y+re-j.radius)/Q)+1),te.push(Math.floor((j.y+re+j.radius)/Q)+1);break;case"qct":var oe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((oe.y+re)/Q)+1),te.push(Math.floor((oe.y+oe.h+re)/Q)+1);break;case"bct":var me=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((me.y+re)/Q)+1),te.push(Math.floor((me.y+me.h+re)/Q)+1);break;case"rect":te.push(Math.floor((j.y+re)/Q)+1),te.push(Math.floor((j.y+j.h+re)/Q)+1)}for(var ve=0;ve<te.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<te[ve];)x.call(this);return te},x=function(){var j=this.fillStyle,W=this.strokeStyle,Q=this.font,te=this.lineCap,re=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=W,this.font=Q,this.lineCap=te,this.lineWidth=re,this.lineJoin=oe},P=function(j,W,Q){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=W,j[te].y2+=Q;case"qct":j[te].x1+=W,j[te].y1+=Q;default:j[te].x+=W,j[te].y+=Q}return j},L=function(j){return j.sort(function(W,Q){return W-Q})},U=function(j,W){var Q=this.fillStyle,te=this.strokeStyle,re=this.lineCap,oe=this.lineWidth,me=Math.abs(oe*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var Ee,Le,Be=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),ot=[],H=0;H<je.length;H++)if(je[H].x!==void 0)for(var Ve=O.call(this,je[H]),bt=0;bt<Ve.length;bt+=1)ot.indexOf(Ve[bt])===-1&&ot.push(Ve[bt]);for(var at=0;at<ot.length;at++)for(;this.pdf.internal.getNumberOfPages()<ot[at];)x.call(this);L(ot);for(var Ie=ot[0],He=ot[ot.length-1],ze=Ie;ze<He+1;ze++){this.pdf.setPage(ze),this.fillStyle=Q,this.strokeStyle=te,this.lineCap=re,this.lineWidth=me,this.lineJoin=ve;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=ze===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=ze===1?0:Jt+(ze-2)*Nt;if(this.ctx.clip_path.length!==0){var Lt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ee,this.posX+this.margin[3],-wt+rt+this.ctx.prevPageLastElemOffset),Z.call(this,j,!0),this.path=Lt}if(Le=JSON.parse(JSON.stringify(Be)),this.path=P(Le,this.posX+this.margin[3],-wt+rt+this.ctx.prevPageLastElemOffset),W===!1||ze===0){var Ut=(ze>Ie||ze<He)&&S.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Nt,null).clip().discardPath()),Z.call(this,j,W),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}this.path=Be}else this.lineWidth=me,Z.call(this,j,W),this.lineWidth=oe},Z=function(j,W){if((j!=="stroke"||W||!I.call(this))&&(j==="stroke"||W||!p.call(this))){for(var Q,te,re=[],oe=this.path,me=0;me<oe.length;me++){var ve=oe[me];switch(ve.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ve,deltas:[],abs:[]});break;case"lt":var Ee=re.length;if(oe[me-1]&&!isNaN(oe[me-1].x)&&(Q=[ve.x-oe[me-1].x,ve.y-oe[me-1].y],Ee>0)){for(;Ee>=0;Ee--)if(re[Ee-1].close!==!0&&re[Ee-1].begin!==!0){re[Ee-1].deltas.push(Q),re[Ee-1].abs.push(ve);break}}break;case"bct":Q=[ve.x1-oe[me-1].x,ve.y1-oe[me-1].y,ve.x2-oe[me-1].x,ve.y2-oe[me-1].y,ve.x-oe[me-1].x,ve.y-oe[me-1].y],re[re.length-1].deltas.push(Q);break;case"qct":var Le=oe[me-1].x+2/3*(ve.x1-oe[me-1].x),Be=oe[me-1].y+2/3*(ve.y1-oe[me-1].y),je=ve.x+2/3*(ve.x1-ve.x),ot=ve.y+2/3*(ve.y1-ve.y),H=ve.x,Ve=ve.y;Q=[Le-oe[me-1].x,Be-oe[me-1].y,je-oe[me-1].x,ot-oe[me-1].y,H-oe[me-1].x,Ve-oe[me-1].y],re[re.length-1].deltas.push(Q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ve)}}te=W?null:j==="stroke"?"stroke":"fill";for(var bt=!1,at=0;at<re.length;at++)if(re[at].arc)for(var Ie=re[at].abs,He=0;He<Ie.length;He++){var ze=Ie[He];ze.type==="arc"?N.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,W,!bt):k.call(this,ze.x,ze.y),bt=!0}else if(re[at].close===!0)this.pdf.internal.out("h"),bt=!1;else if(re[at].begin!==!0){var ft=re[at].start.x,rt=re[at].start.y;X.call(this,re[at].deltas,ft,rt),bt=!0}te&&E.call(this,te),W&&D.call(this)}},ie=function(j){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Q;case"top":return j+W-Q;case"hanging":return j+W-2*Q;case"middle":return j+W/2-Q;default:return j}},F=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(W,Q){this.colorStops.push([W,Q])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(j,W,Q,te,re,oe,me,ve,Ee){for(var Le=ge.call(this,Q,te,re,oe),Be=0;Be<Le.length;Be++){var je=Le[Be];Be===0&&(Ee?w.call(this,je.x1+j,je.y1+W):k.call(this,je.x1+j,je.y1+W)),ce.call(this,j,W,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}ve?D.call(this):E.call(this,me)},E=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},w=function(j,W){this.pdf.internal.out(n(j)+" "+r(W)+" m")},T=function(j){var W;switch(j.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var Q,te,re,oe=this.pdf.getTextDimensions(j.text),me=ie.call(this,j.y),ve=F.call(this,me)-oe.h,Ee=this.ctx.transform.applyToPoint(new o(j.x,me));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Be=new l;Be=(Be=(Be=Be.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var je=this.ctx.transform.applyToRectangle(new a(j.x,me,oe.w,oe.h)),ot=Be.applyToRectangle(new a(j.x,ve,oe.w,oe.h)),H=O.call(this,ot),Ve=[],bt=0;bt<H.length;bt+=1)Ve.indexOf(H[bt])===-1&&Ve.push(H[bt]);L(Ve);for(var at=Ve[0],Ie=Ve[Ve.length-1],He=at;He<Ie+1;He++){this.pdf.setPage(He);var ze=He===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],Jt=rt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],wt=Nt-this.margin[3],Lt=He===1?0:ft+(He-2)*Jt;if(this.ctx.clip_path.length!==0){var Ut=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Q,this.posX+this.margin[3],-1*Lt+ze),Z.call(this,"fill",!0),this.path=Ut}var et=P([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Lt+ze+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),re=this.lineWidth,this.lineWidth=re*j.scale);var Tt=this.autoPaging!=="text";if(Tt||et.y+et.h<=rt){if(Tt||et.y>=ze&&et.x<=Nt){var We=Tt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Nt-et.x)[0],Nn=P([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Lt+ze+this.ctx.prevPageLastElemOffset)[0],Ft=Tt&&(He>at||He<Ie)&&S.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Jt,null).clip().discardPath()),this.pdf.text(We,Nn.x,Nn.y,{angle:j.angle,align:W,renderingMode:j.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else et.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-et.y);j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=re)}}else j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),re=this.lineWidth,this.lineWidth=re*j.scale),this.pdf.text(j.text,Ee.x+this.posX,Ee.y+this.posY,{angle:j.angle,align:W,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=re)},k=function(j,W,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(j+Q)+" "+r(W+te)+" l")},X=function(j,W,Q){return this.pdf.lines(j,W,Q,null,null)},ce=function(j,W,Q,te,re,oe,me,ve){this.pdf.internal.out([e(i(Q+j)),e(s(te+W)),e(i(re+j)),e(s(oe+W)),e(i(me+j)),e(s(ve+W)),"c"].join(" "))},ge=function(j,W,Q,te){for(var re=2*Math.PI,oe=Math.PI/2;W>Q;)W-=re;var me=Math.abs(Q-W);me<re&&te&&(me=re-me);for(var ve=[],Ee=te?-1:1,Le=W;me>1e-5;){var Be=Le+Ee*Math.min(me,oe);ve.push(ye.call(this,j,Le,Be)),me-=Math.abs(Be-Le),Le=Be}return ve},ye=function(j,W,Q){var te=(Q-W)/2,re=j*Math.cos(te),oe=j*Math.sin(te),me=re,ve=-oe,Ee=me*me+ve*ve,Le=Ee+me*re+ve*oe,Be=4/3*(Math.sqrt(2*Ee*Le)-Le)/(me*oe-ve*re),je=me-Be*ve,ot=ve+Be*me,H=je,Ve=-ot,bt=te+W,at=Math.cos(bt),Ie=Math.sin(bt);return{x1:j*Math.cos(W),y1:j*Math.sin(W),x2:je*at-ot*Ie,y2:je*Ie+ot*at,x3:H*at-Ve*Ie,y3:H*Ie+Ve*at,x4:j*Math.cos(Q),y4:j*Math.sin(Q)}},J=function(j){return 180*j/Math.PI},le=function(j,W,Q,te,re,oe){var me=j+.5*(Q-j),ve=W+.5*(te-W),Ee=re+.5*(Q-re),Le=oe+.5*(te-oe),Be=Math.min(j,re,me,Ee),je=Math.max(j,re,me,Ee),ot=Math.min(W,oe,ve,Le),H=Math.max(W,oe,ve,Le);return new a(Be,ot,je-Be,H-ot)},we=function(j,W,Q,te,re,oe,me,ve){var Ee,Le,Be,je,ot,H,Ve,bt,at,Ie,He,ze,ft,rt,Jt=Q-j,Nt=te-W,wt=re-Q,Lt=oe-te,Ut=me-re,et=ve-oe;for(Le=0;Le<41;Le++)at=(Ve=(Be=j+(Ee=Le/40)*Jt)+Ee*((ot=Q+Ee*wt)-Be))+Ee*(ot+Ee*(re+Ee*Ut-ot)-Ve),Ie=(bt=(je=W+Ee*Nt)+Ee*((H=te+Ee*Lt)-je))+Ee*(H+Ee*(oe+Ee*et-H)-bt),Le==0?(He=at,ze=Ie,ft=at,rt=Ie):(He=Math.min(He,at),ze=Math.min(ze,Ie),ft=Math.max(ft,at),rt=Math.max(rt,Ie));return new a(Math.round(He),Math.round(ze),Math.round(ft-He),Math.round(rt-ze))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,W,Q=(j=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:W}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ht.API),function(t){var e=function(o){var a,l,u,f,g,y,p,I,S,O;for(l=[],u=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(g=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(g=((g=((g=((g=(g-(O=g%85))/85)-(S=g%85))/85)-(I=g%85))/85)-(p=g%85))/85)%85,l.push(y+33,p+33,I+33,S+33,O+33)):l.push(122);return function(x,P){for(var L=P;L>0;L--)x.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,f,g,y=String,p="length",I=255,S="charCodeAt",O="slice",x="replace";for(o[O](-2),o=o[O](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],f=0,g=(o+=a="uuuuu"[O](o[p]%5||5))[p];g>f;f+=5)l=52200625*(o[S](f)-33)+614125*(o[S](f+1)-33)+7225*(o[S](f+2)-33)+85*(o[S](f+3)-33)+(o[S](f+4)-33),u.push(I&l>>24,I&l>>16,I&l>>8,I&l);return function(P,L){for(var U=L;U>0;U--)P.pop()}(u,a[p]),y.fromCharCode.apply(y,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=U2(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,f){var g=new XMLHttpRequest,y=0,p=function(I){var S=I.length,O=[],x=String.fromCharCode;for(y=0;y<S;y+=1)O.push(x(255&I.charCodeAt(y)));return O.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?f(p(this.responseText)):f(void 0)}),g.send(null),u&&g.status===200)return p(g.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):B1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):B1(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=vn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(a(g,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return(f=f.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var I=f[p],S=I.src.find(function(O){return O.format==="truetype"});S&&u.addFont(S.url,I.ref.name,I.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,g){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,f),y}).then(f,g).then(function(y){return u.updateProgress(1),y})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),y=u.call(g,a,l);return o.convert(y,f.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ht.getPageSize=function(a,l,u){if(vn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,y=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var I,S=0,O=0;if(p.hasOwnProperty(y))S=p[y][1]/g,O=p[y][0]/g;else try{S=u[1],O=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",O>S&&(I=O,O=S,S=I);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",S>O&&(I=O,O=S,S=I)}return{width:O,height:S,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(hm):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(ht.API),ht.API.addJS=function(t){return l4=t,this.internal.events.subscribe("postPutResources",function(){vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vp!==void 0&&a4!==void 0&&this.internal.out("/Names <</JavaScript "+vp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var g=n.internal.newObject();f.push(g);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var y,p=256*g.charCodeAt(4)+g.charCodeAt(5),I=g.length,S={width:0,height:0,numcomponents:1},O=4;O<I;O+=2){if(O+=p,e.indexOf(g.charCodeAt(O+1))!==-1){y=256*g.charCodeAt(O+5)+g.charCodeAt(O+6),S={width:256*g.charCodeAt(O+7)+g.charCodeAt(O+8),height:y,numcomponents:g.charCodeAt(O+9)};break}p=256*g.charCodeAt(O+2)+g.charCodeAt(O+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=xV(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(N){for(var E=N.width,D=N.height,w=N.data,T=N.palette,k=N.depth,X=!1,ce=[],ge=[],ye=void 0,J=!1,le=0,we=0;we<T.length;we++){var _e=nx(T[we],4),j=_e[0],W=_e[1],Q=_e[2],te=_e[3];ce.push(j,W,Q),te!=null&&(te===0?(le++,ge.length<1&&ge.push(we)):te<255&&(J=!0))}if(J||le>1){X=!0,ge=void 0;var re=E*D;ye=new Uint8Array(re);for(var oe=new DataView(w.buffer),me=0;me<re;me++){var ve=dm(oe,me,k),Ee=nx(T[ve],4)[3];ye[me]=Ee}}else le===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:w,alphaBytes:ye,needSMask:X,palette:ce,mask:ge}}(s):l===2||l===4?function(N){for(var E=N.data,D=N.width,w=N.height,T=N.channels,k=N.depth,X=T===2?"DeviceGray":"DeviceRGB",ce=T-1,ge=D*w,ye=ce,J=ge*ye,le=1*ge,we=Math.ceil(J*k/8),_e=Math.ceil(le*k/8),j=new Uint8Array(we),W=new Uint8Array(_e),Q=new DataView(E.buffer),te=new DataView(j.buffer),re=new DataView(W.buffer),oe=!1,me=0;me<ge;me++){for(var ve=me*T,Ee=0;Ee<ye;Ee++)y4(te,dm(Q,ve+Ee,k),me*ye+Ee,k);var Le=dm(Q,ve+ye,k);Le<(1<<k)-1&&(oe=!0),y4(re,Le,1*me,k)}return{colorSpace:X,colorsPerPixel:ce,sMaskBitsPerComponent:oe?k:void 0,colorBytes:j,alphaBytes:W,needSMask:oe}}(s):function(N){var E=N.data,D=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(w){for(var T=w.length,k=new Uint8Array(2*T),X=new DataView(k.buffer,k.byteOffset,k.byteLength),ce=0;ce<T;ce++)X.setUint16(2*ce,w[ce],!1);return k}(E):E,needSMask:!1}}(s);var g,y,p,I=i,S=I.colorSpace,O=I.colorsPerPixel,x=I.sMaskBitsPerComponent,P=I.colorBytes,L=I.alphaBytes,U=I.needSMask,Z=I.palette,ie=I.mask,F=null;return r!==ht.API.image_compression.NONE&&typeof U2=="function"?(F=function(N){var E;switch(N){case ht.API.image_compression.FAST:E=11;break;case ht.API.image_compression.MEDIUM:E=13;break;case ht.API.image_compression.SLOW:E=14;break;default:E=12}return E}(r),g=this.decode.FLATE_DECODE,y="/Predictor ".concat(F," /Colors ").concat(O," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=f4(P,Math.ceil(o*O*f/8),O,f,r),U&&(p=f4(L,Math.ceil(o*x/8),1,x,r))):(g=void 0,y=void 0,t=P,U&&(p=L)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:g,decodeParameters:y,transparency:ie,palette:Z,sMask:p,predictor:F,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:x,colorSpace:S}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new qV(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},f=new pm(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),Qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){In.log("bit decode error:"+n)}},Qs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Qs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Qs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Qs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},Qs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},Qs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Qs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Qs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Qs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new pm(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ht.API),_4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new _4(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new pm(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var f=r[u],g=r[u+1],y=r[u+2],p=r[u+3];s[a++]=f,s[a++]=g,s[a++]=y,o[l++]=p}var I=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:I,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zu=ht.API,_p=Zu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,g=e.doKerning!==!1,y=0,p=t.length,I=0,S=a[0]||l,O=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=g&&vn(u[r])==="object"&&!isNaN(parseInt(u[r][I],10))?u[r][I]/f:0,O.push((a[r]||S)/l+y)),I=r;return O},u4=Zu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Zu.processArabic&&(t=Zu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:_p.apply(this,arguments).reduce(function(s,o){return s+o},0)},c4=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},h4=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,f=[],g=[f],y=n.textIndent||0,p=0,I=0,S=t.split(" "),O=_p.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),P=[];S.map(function(U){(U=U.split(/\s*\n/)).length>1?P=P.concat(U.map(function(Z,ie){return(ie&&Z.length?`
`:"")+Z})):P.push(U[0])}),S=P,l=u4.apply(this,[x,n])}for(s=0,o=S.length;s<o;s++){var L=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),L=1),y+p+(I=(i=_p.apply(this,[r,n])).reduce(function(U,Z){return U+Z},0))>e||L){if(I>e){for(a=c4.apply(this,[r,i,e-(y+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)g.push([a.shift()]);I=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(U,Z){return U+Z},0)}else f=[r];g.push(f),y=I+l,p=O}else f.push(r),y+=p+I,p=O}return u=l?function(U,Z){return(Z?x:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(u)},Zu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle),y="Unicode";return g.metadata[y]?{widths:g.metadata[y].widths||{0:1},kerning:g.metadata[y].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(h4.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(y){return"0x"+parseInt(y,10).toString(16)},a=t.__fontmetrics__.compress=function(y){var p,I,S,O,x=["{"];for(var P in y){if(p=y[P],isNaN(parseInt(P,10))?I="'"+P+"'":(P=parseInt(P,10),I=(I=o(P).slice(2)).slice(0,-1)+i[I.slice(-1)]),typeof p=="number")p<0?(S=o(p).slice(3),O="-"):(S=o(p).slice(2),O=""),S=O+S.slice(0,-1)+i[S.slice(-1)];else{if(vn(p)!=="object")throw new Error("Don't know what to do with value type "+vn(p)+".");S=a(p)}x.push(I+S)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,I,S,O,x={},P=1,L=x,U=[],Z="",ie="",F=y.length-1,N=1;N<F;N+=1)(O=y[N])=="'"?p?(S=p.join(""),p=void 0):p=[]:p?p.push(O):O=="{"?(U.push([L,S]),L={},S=void 0):O=="}"?((I=U.pop())[0][I[1]]=L,S=void 0,L=I[0]):O=="-"?P=-1:S===void 0?r.hasOwnProperty(O)?(Z+=r[O],S=parseInt(Z,16)*P,P=1,Z=""):Z+=O:r.hasOwnProperty(O)?(ie+=r[O],L[S]=parseInt(ie,16)*P,P=1,S=void 0,ie=""):ie+=O;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var p=y.font,I=g.Unicode[p.postScriptName];I&&(p.metadata.Unicode={},p.metadata.Unicode.widths=I.widths,p.metadata.Unicode.kerning=I.kerning);var S=f.Unicode[p.postScriptName];S&&(p.metadata.Unicode.encoding=S,p.encoding=S.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Hp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw In.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw In.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Et.canvg?Promise.resolve(Et.canvg):B1(()=>import("./index.es-C05BUtBZ.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,f=0,g=0;function y(I,S){var O,x=!1;for(O=0;O<I.length;O+=1)I[O]===S&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(g=0;g<p;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(vn(t)==="object"){for(i in t)if(s=t[i],y(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var I,S=[];for(I in n)n[I].explicitSet===!0&&(n[I].type==="name"?S.push("/"+I+" /"+n[I].value):S.push("/"+I+" "+n[I].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ht.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],g=0,y=s.length;g<y;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(u[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,u,f,g,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,y=(a=Object.keys(s).sort(function(p,I){return p-I})).length;g<y;g++)o=a[g],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",I=0;I<y.length;I++)p+=String.fromCharCode(y[I]);var S=u();f({data:p,addLength1:!0,objectId:S}),l("endobj");var O=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:O}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sc(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var P=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+sc(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+O+" 0 R"),l("/BaseFont /"+sc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+P+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,y="",p=0;p<g.length;p++)y+=String.fromCharCode(g[p]);var I=u();f({data:y,addLength1:!0,objectId:I}),l("endobj");var S=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var O=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+I+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+sc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+sc(a.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,f=s.options||{},g=s.mutex||{},y=g.pdfEscape,p=g.activeFontKey,I=g.fonts,S=p,O="",x=0,P="",L=I[S].encoding;if(I[S].encoding!=="Identity-H")return{text:a,x:l,y:u,options:f,mutex:g};for(P=a,S=p,Array.isArray(a)&&(P=a[0]),x=0;x<P.length;x+=1)I[S].metadata.hasOwnProperty("cmap")&&(o=I[S].metadata.cmap.unicode.codeMap[P[x].charCodeAt(0)]),o||P[x].charCodeAt(0)<256&&I[S].metadata.hasOwnProperty("Unicode")?O+=P[x]:O+="";var U="";return parseInt(S.slice(1))<14||L==="WinAnsiEncoding"?U=y(O,S).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(U=n(O,I[S])),g.isHex=!0,{text:U,x:l,y:u,options:f,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,f,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,L=0;this.__bidiEngine__={};var U=function(w){var T=w.charCodeAt(),k=T>>8,X=S[k];return X!==void 0?g[256*X+(255&T)]:k===252||k===253?"AL":x.test(k)?"L":k===8?"R":"N"},Z=function(w){for(var T,k=0;k<w.length;k++){if((T=U(w.charAt(k)))==="L")return!1;if(T==="R")return!0}return!1},ie=function(w,T,k,X){var ce,ge,ye,J,le=T[X];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(le="AN");break;case"AL":P=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":X<1||X+1>=T.length||(ce=k[X-1])!=="EN"&&ce!=="AN"||(ge=T[X+1])!=="EN"&&ge!=="AN"?le="N":P&&(ge="AN"),le=ge===ce?ge:"N";break;case"ES":le=(ce=X>0?k[X-1]:"B")==="EN"&&X+1<T.length&&T[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&k[X-1]==="EN"){le="EN";break}if(P){le="N";break}for(ye=X+1,J=T.length;ye<J&&T[ye]==="ET";)ye++;le=ye<J&&T[ye]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(J=T.length,ye=X+1;ye<J&&T[ye]==="NSM";)ye++;if(ye<J){var we=w[X],_e=we>=1425&&we<=2303||we===64286;if(ce=T[ye],_e&&(ce==="R"||ce==="AL")){le="R";break}}}le=X<1||(ce=T[X-1])==="B"?"N":k[X-1];break;case"B":P=!1,i=!0,le=L;break;case"S":s=!0,le="N"}return le},F=function(w,T,k){var X=w.split("");return k&&N(X,k,{hiLevel:L}),X.reverse(),T&&T.reverse(),X.join("")},N=function(w,T,k){var X,ce,ge,ye,J,le=-1,we=w.length,_e=0,j=[],W=L?p:y,Q=[];for(P=!1,i=!1,s=!1,ce=0;ce<we;ce++)Q[ce]=U(w[ce]);for(ge=0;ge<we;ge++){if(J=_e,j[ge]=ie(w,Q,j,ge),X=240&(_e=W[J][I[j[ge]]]),_e&=15,T[ge]=ye=W[_e][5],X>0)if(X===16){for(ce=le;ce<ge;ce++)T[ce]=1;le=-1}else le=-1;if(W[_e][6])le===-1&&(le=ge);else if(le>-1){for(ce=le;ce<ge;ce++)T[ce]=ye;le=-1}Q[ge]==="B"&&(T[ge]=0),k.hiLevel|=ye}s&&function(te,re,oe){for(var me=0;me<oe;me++)if(te[me]==="S"){re[me]=L;for(var ve=me-1;ve>=0&&te[ve]==="WS";ve--)re[ve]=L}}(Q,T,we)},E=function(w,T,k,X,ce){if(!(ce.hiLevel<w)){if(w===1&&L===1&&!i)return T.reverse(),void(k&&k.reverse());for(var ge,ye,J,le,we=T.length,_e=0;_e<we;){if(X[_e]>=w){for(J=_e+1;J<we&&X[J]>=w;)J++;for(le=_e,ye=J-1;le<ye;le++,ye--)ge=T[le],T[le]=T[ye],T[ye]=ge,k&&(ge=k[le],k[le]=k[ye],k[ye]=ge);_e=J}_e++}}},D=function(w,T,k){var X=w.split(""),ce={hiLevel:L};return k||(k=[]),N(X,k,ce),function(ge,ye,J){if(J.hiLevel!==0&&f)for(var le,we=0;we<ge.length;we++)ye[we]===1&&(le=O.indexOf(ge[we]))>=0&&(ge[we]=O[le+1])}(X,k,ce),E(2,X,T,k,ce),E(1,X,T,k,ce),X.join("")};return this.__bidiEngine__.doBidiReorder=function(w,T,k){if(function(ce,ge){if(ge)for(var ye=0;ye<ce.length;ye++)ge[ye]=ye;a===void 0&&(a=Z(ce)),u===void 0&&(u=Z(ce))}(w,T),o||!l||u)if(o&&l&&a^u)L=a?1:0,w=F(w,T,k);else if(!o&&l&&u)L=a?1:0,w=D(w,T,k),w=F(w,T);else if(!o||a||l||u){if(o&&!l&&a^u)w=F(w,T),a?(L=0,w=D(w,T,k)):(L=1,w=D(w,T,k),w=F(w,T));else if(o&&a&&!l&&u)L=1,w=D(w,T,k),w=F(w,T);else if(!o&&!l&&a^u){var X=f;a?(L=1,w=D(w,T,k),L=0,f=!1,w=D(w,T,k),f=X):(L=0,w=D(w,T,k),w=F(w,T),L=1,f=!1,w=D(w,T,k),f=X,w=F(w,T))}}else L=0,w=D(w,T,k);else L=a?1:0,w=D(w,T,k);return w},this.__bidiEngine__.setOptions=function(w){w&&(o=w.isInputVisual,l=w.isOutputVisual,a=w.isInputRtl,u=w.isOutputRtl,f=w.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Fl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new iU(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new $V(this.contents),this.head=new WV(this),this.name=new XV(this),this.cmap=new HI(this),this.toUnicode={},this.hhea=new GV(this),this.maxp=new JV(this),this.hmtx=new ZV(this),this.post=new YV(this),this.os2=new KV(this),this.loca=new rU(this),this.glyf=new eU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var po,Fl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),$V=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,f,g,y,p,I,S;for(S in p=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),o=Math.floor(g/l),f=16*p-g,(i=new Fl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(g),i.writeShort(o),i.writeShort(f),s=16*p,u=i.pos+s,a=null,I=[],n)for(y=n[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),I=I.concat(y),S==="head"&&(a=u),u+=y.length;u%4;)I.push(0),u++;return i.write(I),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=WI.call(n);n.length%4;)n.push(0);for(s=new Fl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),HV={}.hasOwnProperty,Wo=function(t,e){for(var n in e)HV.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};po=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var WV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Fl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),w4=function(){function t(e,n){var r,i,s,o,a,l,u,f,g,y,p,I,S,O,x,P,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,s=function(){var U,Z;for(Z=[],l=U=0;0<=y?U<y:U>y;l=0<=y?++U:--U)Z.push(e.readUInt16());return Z}(),e.pos+=2,S=function(){var U,Z;for(Z=[],l=U=0;0<=y?U<y:U>y;l=0<=y?++U:--U)Z.push(e.readUInt16());return Z}(),u=function(){var U,Z;for(Z=[],l=U=0;0<=y?U<y:U>y;l=0<=y?++U:--U)Z.push(e.readUInt16());return Z}(),f=function(){var U,Z;for(Z=[],l=U=0;0<=y?U<y:U>y;l=0<=y?++U:--U)Z.push(e.readUInt16());return Z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var U,Z;for(Z=[],l=U=0;0<=i?U<i:U>i;l=0<=i?++U:--U)Z.push(e.readUInt16());return Z}(),l=x=0,L=s.length;x<L;l=++x)for(O=s[l],r=P=I=S[l];I<=O?P<=O:P>=O;r=I<=O?++P:--P)f[l]===0?o=r+u[l]:(o=a[f[l]/2+(r-I)-(y-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=g}return t.encode=function(e,n){var r,i,s,o,a,l,u,f,g,y,p,I,S,O,x,P,L,U,Z,ie,F,N,E,D,w,T,k,X,ce,ge,ye,J,le,we,_e,j,W,Q,te,re,oe,me,ve,Ee,Le,Be;switch(X=new Fl,o=Object.keys(e).sort(function(je,ot){return je-ot}),n){case"macroman":for(S=0,O=function(){var je=[];for(I=0;I<256;++I)je.push(0);return je}(),P={0:0},s={},ce=0,le=o.length;ce<le;ce++)P[ve=e[i=o[ce]]]==null&&(P[ve]=++S),s[i]={old:e[i],new:P[e[i]]},O[i]=P[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(O),{charMap:s,subtable:X.data,maxGlyphID:S+1};case"unicode":for(T=[],g=[],L=0,P={},r={},x=u=null,ge=0,we=o.length;ge<we;ge++)P[Z=e[i=o[ge]]]==null&&(P[Z]=++L),r[i]={old:Z,new:P[Z]},a=P[Z]-i,x!=null&&a===u||(x&&g.push(x),T.push(i),u=a),x=i;for(x&&g.push(x),g.push(65535),T.push(65535),D=2*(E=T.length),N=2*Math.pow(Math.log(E)/Math.LN2,2),y=Math.log(N/2)/Math.LN2,F=2*E-N,l=[],ie=[],p=[],I=ye=0,_e=T.length;ye<_e;I=++ye){if(w=T[I],f=g[I],w===65535){l.push(0),ie.push(0);break}if(w-(k=r[w].new)>=32768)for(l.push(0),ie.push(2*(p.length+E-I)),i=J=w;w<=f?J<=f:J>=f;i=w<=f?++J:--J)p.push(r[i].new);else l.push(k-w),ie.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*E+2*p.length),X.writeUInt16(0),X.writeUInt16(D),X.writeUInt16(N),X.writeUInt16(y),X.writeUInt16(F),oe=0,j=g.length;oe<j;oe++)i=g[oe],X.writeUInt16(i);for(X.writeUInt16(0),me=0,W=T.length;me<W;me++)i=T[me],X.writeUInt16(i);for(Ee=0,Q=l.length;Ee<Q;Ee++)a=l[Ee],X.writeUInt16(a);for(Le=0,te=ie.length;Le<te;Le++)U=ie[Le],X.writeUInt16(U);for(Be=0,re=p.length;Be<re;Be++)S=p[Be],X.writeUInt16(S);return{charMap:r,subtable:X.data,maxGlyphID:L+1}}},t}(),HI=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new w4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=w4.encode(e,n),(i=new Fl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),GV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),KV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),YV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),QV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},XV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,f,g,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=f=0,g=r.length;f<g;s=++f)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new QV(u,i),l[y=i.nameID]==null&&(l[y]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),JV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ZV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,g,y;for(y=[],u=0,f=(g=this.metrics).length;u<f;u++)s=g[u],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),WI=[].slice,eU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,f,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Fl(n.read(i))).readShort(),u=a.readShort(),g=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new nU(a,u,g,l,f):new tU(a,o,u,g,l,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),tU=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),nU=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Fl(WI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),rU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wo(t,po),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),iU=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,f,g,y,p,I,S,O,x;for(i in r=HI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},x=r.charMap)p[(l=x[i]).old]=l.new;for(I in y=r.maxGlyphID,o)I in p||(p[I]=y++);return f=function(P){var L,U;for(L in U={},P)U[P[L]]=L;return U}(p),g=Object.keys(f).sort(function(P,L){return P-L}),S=function(){var P,L,U;for(U=[],P=0,L=g.length;P<L;P++)a=g[P],U.push(f[a]);return U}(),s=this.font.glyf.encode(o,S,p),u=this.font.loca.encode(s.offsets,S),O={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function GI(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,f=/\r\n|\r|\n/g,g="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof t=="string"?t.split(f):t,y=g.length||1),n+=a*(2-s),r.valign==="middle"?n-=y/2*u:r.valign==="bottom"&&(n-=y*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),g&&y>=1){for(var I=0;I<g.length;I++)i.text(g[I],e-i.getStringUnitWidth(g[I])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var b4={},Mc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:b4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return b4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),ey=function(t,e){return ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ey(t,e)};function KI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ey(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var YI=function(t){KI(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function sU(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function oU(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Gg(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function QI(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=XI(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function XI(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function O0(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function JI(t,e){var n=O0(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function aU(t,e,n,r,i){var s={},o=1.3333333333333333,a=gm(e,function(L){return i.getComputedStyle(L).backgroundColor});a!=null&&(s.fillColor=a);var l=gm(e,function(L){return i.getComputedStyle(L).color});l!=null&&(s.textColor=l);var u=uU(r,n);u&&(s.cellPadding=u);var f="borderTopColor",g=o*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var p=(parseFloat(y)||0)/g;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var I=gm(e,function(L){return i.getComputedStyle(L)[f]});I!=null&&(s.lineColor=I);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var O=parseInt(r.fontSize||"");isNaN(O)||(s.fontSize=O/o);var x=lU(r);x&&(s.fontStyle=x);var P=(r.fontFamily||"").toLowerCase();return t.indexOf(P)!==-1&&(s.font=P),s}function lU(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function gm(t,e){var n=ZI(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function ZI(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:ZI(t.parentElement,e):n}function uU(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=O0(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function eN(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],g=[],y=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:g,foot:y};for(var p=0;p<a.rows.length;p++){var I=a.rows[p],S=(o=(s=I==null?void 0:I.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),O=cU(l,u,n,I,r,i);O&&(S==="thead"?f.push(O):S==="tfoot"?y.push(O):g.push(O))}return{head:f,body:g,foot:y}}function cU(t,e,n,r,i,s){for(var o=new YI(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=aU(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:hU(l)})}}var g=n.getComputedStyle(r);if(o.length>0&&(i||g.display!=="none"))return o}function hU(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function fU(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function pa(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function tN(t,e){var n=new Mc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();fU(i,r,e);var s=pa({},i,r,e),o;typeof window<"u"&&(o=window);var a=dU(i,r,e),l=pU(i,r,e),u=gU(n,s),f=yU(n,s,o);return{id:e.tableId,content:f,hooks:l,styles:a,settings:u}}function dU(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],g=n[l];r.columnStyles=pa({},u,f,g)}else{var y=[t,e,n],p=y.map(function(I){return I[l]||{}});r[l]=pa({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function pU(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function gU(t,e){var n,r,i,s,o,a,l,u,f,g,y,p,I=O0(e.margin,40/t.scaleFactor()),S=(n=mU(t,e.startY))!==null&&n!==void 0?n:I.top,O;e.showFoot===!0?O="everyPage":e.showFoot===!1?O="never":O=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var P=(s=e.useCss)!==null&&s!==void 0?s:!1,L=e.theme||(P?"plain":"striped"),U=!!e.horizontalPageBreak,Z=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:P,theme:L,startY:S,margin:I,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:x,showFoot:O,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:U,horizontalPageBreakRepeat:Z,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function mU(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function yU(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=eN(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||vU(r,i,s);return{columns:l,head:r,body:i,foot:s}}function vU(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var ty=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),_U=function(t){KI(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(ty),wU=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],f=new _U(e,this,r,i,s,o),g=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new ty(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new ty(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),nN=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof YI&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),rN=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=O0(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),bU=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function xU(t,e){SU(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=ny(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=ny(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),EU(e),IU(e,t),AU(e)}function SU(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=JI(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,l,null);var g=u.padding("horizontal");u.contentWidth=Gg(u.text,u.styles,t)+g;var y=Gg(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=y+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},g=f.cellWidth||f.minCellWidth;g&&typeof g=="number"&&(l.minWidth=g,l.wrappedWidth=g)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function ny(t,e,n){for(var r=e,i=t.reduce(function(p,I){return p+I.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,f=n(o),g=u<f?f:u;e-=g-o.width,o.width=g}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(p){return e<0?p.width>n(p):!0});y.length&&(e=ny(y,e,n))}return e}function AU(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var g=r.length-i,y=f.rowSpan>g?g:f.rowSpan;e[l.index]={cell:f,left:y,row:s}}}}}function EU(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function IU(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=x4(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=x4(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var g=u.styles.overflow(u.text,f);typeof g=="string"?u.text=[g]:u.text=g}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<y*u.rowSpan?n={height:y,count:u.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>s.height&&(s.height=y)}}n.count--}}function x4(t,e,n,r,i){return t.map(function(s){return NU(s,e,n,r,i)})}function NU(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Gg(t,n,r))return t;for(;e<Gg(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function iN(t,e){var n=new Mc(t),r=TU(e,n.scaleFactor()),i=new wU(e,r);return xU(n,i),n.applyStyles(n.userStyles),i}function TU(t,e){var n=t.content,r=PU(n.columns);if(n.head.length===0){var i=S4(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=S4(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:mm("head",n.head,r,o,s,e),body:mm("body",n.body,r,o,s,e),foot:mm("foot",n.foot,r,o,s,e)}}function mm(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var f=0,g={},y=0,p=0,I=0,S=n;I<S.length;I++){var O=S[I];if(o[O.index]==null||o[O.index].left===0)if(p===0){var x=void 0;Array.isArray(l)?x=l[O.index-y-f]:x=l[O.dataKey];var P={};typeof x=="object"&&!Array.isArray(x)&&(P=(x==null?void 0:x.styles)||{});var L=CU(t,O,u,i,r,s,P),U=new rN(x,L,t);g[O.dataKey]=U,g[O.index]=U,p=U.colSpan-1,o[O.index]={left:U.rowSpan-1,times:p}}else p--,y++;else o[O.index].left--,p=o[O.index].times,f++}return new nN(l,u,t,g)});return a}function S4(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=kU(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function kU(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function PU(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new bU(i,e,n)})}function CU(t,e,n,r,i,s,o){var a=oU(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=pa({},a.table,a[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=t==="body"?f:{},y=t==="body"&&n%2===0?pa({},a.alternateRow,i.alternateRowStyles):{},p=sU(s),I=pa({},p,u,y,g);return pa(I,o)}function RU(t,e,n){var r;n===void 0&&(n={});var i=JI(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(y){var p=e.columns.find(function(I){return I.dataKey===y||I.index===y});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var g=e.columns[f].wrappedWidth;if(u||i>=g)u=!1,o.push(f),a.push(e.columns[f]),i-=g;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function LU(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=RU(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function sN(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(y,p){return y+p.height},0);a+=u}var f=new Mc(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&(aN(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var g=pa({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?DU(f,e,g,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(y){return Ea(f,e,y,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(y,p){var I=p===e.body.length-1;Kg(f,e,y,I,g,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(y){return Ea(f,e,y,s,e.columns)})),QI(f,e,g,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function DU(t,e,n,r){var i=LU(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?_f(t,e,n,r,u.columns,!0):A4(t,e,r,u.columns),OU(t,e,n,r,u.columns),ym(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?_f(t,e,n,r,f,!0):A4(t,e,r,f),u=E4(t,e,o+1,r,f),ym(t,e,r,f)}var g=u-o;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),_f(t,e,n,r,y.columns,!0),E4(t,e,o+1,r,y.columns,g),ym(t,e,r,y.columns)}),o=u};o<e.body.length-1;)l()}function A4(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ea(t,e,s,n,r)})}function OU(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;Kg(t,e,s,a,n,r,i)})}function E4(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var f=n+u===e.body.length-1,g=oN(t,e,f,r);l.canEntireRowFit(g,i)&&(Ea(t,e,l,r,i),a=n+u)}),a}function ym(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ea(t,e,s,n,r)})}function MU(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function FU(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new rN(u.raw,u.styles,u.section);f=pa(f,u),f.text=[];var g=MU(u,e,r);u.text.length>g&&(f.text=u.text.splice(g,u.text.length));var y=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(y,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(y,p),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var I=new nN(t.raw,-1,t.section,i,!0);I.height=s;for(var S=0,O=n.columns;S<O.length;S++){var l=O[S],f=I.cells[l.index];f&&(f.height=I.height);var u=t.cells[l.index];u&&(u.height=t.height)}return I}function jU(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(r.columns),g=e.getMaxCellHeight(r.columns)>a;return g?(f&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function Kg(t,e,n,r,i,s,o){var a=oN(t,e,r,s);if(n.canEntireRowFit(a,o))Ea(t,e,n,s,o);else if(jU(t,n,a,e)){var l=FU(n,a,e,t);Ea(t,e,n,s,o),_f(t,e,i,s,o),Kg(t,e,l,r,i,s,o)}else _f(t,e,i,s,o),Kg(t,e,n,r,i,s,o)}function Ea(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}VU(t,l,r);var f=l.getTextPos();GI(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function VU(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=XI(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),UU(t,e,n,r.lineWidth))}function UU(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,f,g,y,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,g,y,p,"S")}}function oN(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function _f(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Ea(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;QI(t,e,n,r),aN(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Ea(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function aN(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function BU(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=tN(this,r),s=iN(this,i);return sN(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){GI(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Mc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Mc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Mc(this),s=eN(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var vm;function zU(t,e){var n=tN(t,e),r=iN(t,n);sN(t,r)}try{if(typeof window<"u"&&window){var I4=window,N4=I4.jsPDF||((vm=I4.jspdf)===null||vm===void 0?void 0:vm.jsPDF);N4&&BU(N4)}}catch(t){console.error("Could not apply autoTable plugin",t)}const bn={baseFare:50,baseFareEspecial:60,waitingRate:3,distanceRates:[{min:0,max:3.99,price:50},{min:4,max:4.99,price:55},{min:5,max:5.99,price:60},{min:6,max:6.99,price:65},{min:7,max:7.99,price:70},{min:8,max:1/0,basePrice:80,extraRate:16}],paradaRapida:20,paradaServicio:50},Bh=[{id:"normal",name:"Viaje Normal",description:"Tarifa por distancia recorrida"},{id:"walmart",name:"Ruta Walmart",description:"Centro  Walmart Guzmn",distanceKm:5.2,fixedPrice:60},{id:"tecnologico",name:"Ruta Tecnolgico",description:"Centro  Tec. Guzmn",distanceKm:5.9,fixedPrice:70},{id:"cristoRey",name:"Ruta Cristo Rey",description:"Centro  Cerro Cristo Rey",subTrips:[{id:"cristoRey-cano",name:"Cao",fixedPrice:60},{id:"cristoRey-mitad",name:"Mitad",fixedPrice:70},{id:"cristoRey-arriba",name:"Arriba",fixedPrice:80}]},{id:"colmena",name:"La Colmena",description:"Precio base $120",fixedPrice:120}],qU=(t,e)=>{const r=6356752314245e-6,i=1/298.257223563,s=t.latitude*Math.PI/180,o=e.latitude*Math.PI/180,l=(e.longitude-t.longitude)*Math.PI/180,u=Math.atan((1-i)*Math.tan(s)),f=Math.atan((1-i)*Math.tan(o)),g=Math.sin(u),y=Math.cos(u),p=Math.sin(f),I=Math.cos(f);let S=l,O,x=100,P,L,U,Z,ie;do{const k=Math.sin(S),X=Math.cos(S);if(L=Math.sqrt(I*k*(I*k)+(y*p-g*I*X)*(y*p-g*I*X)),L===0)return 0;Z=g*p+y*I*X,ie=Math.atan2(L,Z);const ce=y*I*k/L;P=1-ce*ce,U=Z-2*g*p/P,isNaN(U)&&(U=0);const ge=i/16*P*(4+i*(4-3*P));O=S,S=l+(1-ge)*i*ce*(ie+ge*L*(U+ge*Z*(-1+2*U*U)))}while(Math.abs(S-O)>1e-12&&--x>0);if(x===0){const X=(e.latitude-t.latitude)*Math.PI/180,ce=(e.longitude-t.longitude)*Math.PI/180,ge=Math.sin(X/2)*Math.sin(X/2)+Math.cos(t.latitude*Math.PI/180)*Math.cos(e.latitude*Math.PI/180)*Math.sin(ce/2)*Math.sin(ce/2);return 6371e3*(2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge)))}const F=P*(6378137*6378137-r*r)/(r*r),N=1+F/16384*(4096+F*(-768+F*(320-175*F))),E=F/1024*(256+F*(-128+F*(74-47*F))),D=E*L*(U+E/4*(Z*(-1+2*U*U)-E/6*U*(-3+4*L*L)*(-3+4*U*U)));return r*N*(ie-D)*1.15};function $U({isAdmin:t=!1}){const[e,n]=qe.useState({distance:0,cost:bn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1,rawDistance:0}),[r,i]=qe.useState(null),[s,o]=qe.useState(null),[a,l]=qe.useState("requesting"),[u,f]=qe.useState(Bh[0]),[g,y]=qe.useState(null);qe.useState(!1),qe.useState(!1);const[p,I]=qe.useState(!1),[S,O]=qe.useState(null),[x,P]=qe.useState(!1);qe.useState(""),qe.useState(!1);const[L,U]=qe.useState(0),[Z,ie]=qe.useState(!1),[F,N]=qe.useState(!1),[E,D]=qe.useState(!1),[w,T]=qe.useState({active:!1,withCage:null,cost:0}),[k,X]=qe.useState(!1),[ce,ge]=qe.useState({active:!1,type:"recoger",cost:0});qe.useState(!1);const[ye,J]=qe.useState(0),[le,we]=qe.useState(0),[_e,j]=qe.useState(!1),[W,Q]=qe.useState({active:!1,ninos:0,adultos:0,cost:0}),[te,re]=qe.useState(!1),[oe,me]=qe.useState(!1),[ve,Ee]=qe.useState(null),[Le,Be]=qe.useState(!1),je=qe.useRef(null),[ot,H]=qe.useState(!1),[Ve,bt]=qe.useState(!1),[at,Ie]=qe.useState(0),[He,ze]=qe.useState(!1),[ft,rt]=qe.useState(!1),[Jt,Nt]=qe.useState(""),[wt,Lt]=qe.useState([]),[Ut,et]=qe.useState([]),[Tt,We]=qe.useState(!1),[Nn,Ft]=qe.useState(!1),[Je,Pt]=qe.useState(null),[nn,tt]=qe.useState(!1),[on,ct]=qe.useState(!1),[gt,an]=qe.useState(!1),[Ke,lt]=qe.useState("normal"),qt=qe.useRef(!1),Jn=qe.useRef(null),Fn=qe.useRef(null),ni=qe.useRef(null),xr=be=>{if(g&&be.id==="cristoRey")return g.fixedPrice;const Re=Ke==="especial"?bn.baseFareEspecial:bn.baseFare;return be.fixedPrice||Re},mt=(be,Re=!1)=>{we(dt=>dt+1),J(dt=>dt+be),Re&&(n(dt=>({...dt,distance:0,rawDistance:0})),Jn.current=null),re(!1)},Wn=qe.useCallback((be,Re,dt=!1,Dt=ye)=>{const Ct=w.active?w.cost:0,At=W.active?W.cost:0;if(dt&&ve)return Dt+70+Re*bn.waitingRate+Ct+At;if(u.id==="colmena"){let jt=120;if(be>4.9){const Zn=be-4.9;jt=120+Math.ceil(Zn)*10}return Dt+jt+Re*bn.waitingRate+Ct+At}const Wt=(u.id!=="normal"||dt&&!ve)&&be>=3.7?5:0;let cn;if(ce.active)cn=ce.cost;else if(u.id==="cristoRey"&&g)cn=g.fixedPrice;else{const jt=Ke==="especial"?bn.baseFareEspecial:bn.baseFare;cn=u.fixedPrice||jt}let Fe=cn;if(u.id!=="normal"){if(be>5){const jt=be-5;Fe+=jt*10}}else for(const jt of bn.distanceRates)if(be>=jt.min&&be<=jt.max){if(jt.extraRate&&be>8){const Zn=be-8;Fe=jt.basePrice-bn.baseFare+cn+Zn*jt.extraRate}else{const Zn=jt.price-bn.baseFare;Fe=cn+Zn}break}return Dt+Fe+Re*bn.waitingRate+Ct+At+Wt},[u,g,w,ce,W,ye,ve,Ke]),Ur=be=>{const Re=Math.floor(be/60),dt=be%60;return`${Re}:${dt.toString().padStart(2,"0")}`},Br=qe.useCallback(be=>{if(i(be),l("available"),qt.current&&!e.isPaused)if(Jn.current){const Re=qU(Jn.current,be);if(Re>15){const Dt=Re/1e3;n(Ct=>{const At=Ct.rawDistance+Dt,cn=Math.floor(At)*.125,Fe=Math.max(0,At-cn),jt=Math.floor(Ct.waitingTime/60);return{...Ct,rawDistance:At,distance:Fe,cost:Wn(Fe,jt,oe)}}),Jn.current=be}}else Jn.current=be},[Wn,e.isPaused,oe]);qe.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(be=>{const Re={latitude:be.coords.latitude,longitude:be.coords.longitude,timestamp:Date.now()};i(Re),Jn.current=Re,l("available")},be=>{be.code===be.PERMISSION_DENIED?l("denied"):l("unavailable")},{enableHighAccuracy:!0}):l("unavailable")},[]);const zr=()=>{Fn.current=Date.now(),ni.current=setInterval(()=>{if(Fn.current){const be=Math.floor((Date.now()-Fn.current)/1e3),Re=L+be;n(dt=>({...dt,waitingTime:Re}))}},1e3)},pn=()=>{if(ni.current&&(clearInterval(ni.current),ni.current=null),Fn.current){const be=Math.floor((Date.now()-Fn.current)/1e3);U(Re=>Re+be)}Fn.current=null},Tn=()=>{if(r){qt.current=!0,Jn.current=null,U(0),n(Re=>({...Re,distance:0,rawDistance:0,waitingTime:0,isRunning:!0,isPaused:!1}));const be=navigator.geolocation.watchPosition(Re=>{const dt={latitude:Re.coords.latitude,longitude:Re.coords.longitude,timestamp:Date.now()};Br(dt)},Re=>console.error("GPS Error:",Re),{enableHighAccuracy:!0,maximumAge:500,timeout:1e4});o(be)}},or=()=>{n(be=>{const Re=!be.isPaused;return Re?zr():pn(),{...be,isPaused:Re}})},Rr=()=>{s&&(navigator.geolocation.clearWatch(s),o(null)),pn();const be={tripType:u.name,distance:e.distance,waitingTime:e.waitingTime,cost:e.cost,timestamp:new Date().toLocaleString(),isSorianaActive:oe,petConfig:{...w},servicioEspecialConfig:{...ce},personasExtrasConfig:{...W},numeroParadas:le,costoParadas:ye};O(be),I(!0),qt.current=!1,U(0);const Re=Bh[0];f(Re),y(null),n({distance:0,rawDistance:0,cost:Ke==="especial"?bn.baseFareEspecial:bn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1}),N(!1),T({active:!1,withCage:null,cost:0}),ge({active:!1,type:null,cost:0}),Q({active:!1,ninos:0,adultos:0,cost:0}),me(!1),Ee(null),J(0),we(0),lt("normal"),Jn.current=r},Ji=()=>{Le?(je.current&&(clearInterval(je.current),je.current=null),Be(!1)):(Be(!0),je.current=setInterval(()=>{n(be=>{const Re=be.distance+.1,dt=Math.floor(be.waitingTime/60);return{...be,distance:Re,rawDistance:Re,cost:Wn(Re,dt,oe)}})},1e3))};qe.useEffect(()=>()=>{je.current&&clearInterval(je.current)},[]),qe.useEffect(()=>{if(!e.isRunning){const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:Wn(Re.distance,be,oe)}))}},[u,g,e.isRunning,Wn,oe,e.distance,e.waitingTime]),qe.useEffect(()=>{if(e.isRunning){const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:Wn(Re.distance,be,oe)}))}},[Wn,e.waitingTime,e.isRunning,oe]),qe.useEffect(()=>{if(W.active||e.isRunning||w.active||ce.active||oe||ye>0){const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:Wn(Re.distance,be,oe)}))}},[Wn,W,w,ce,oe,ye,e.isRunning,e.distance,e.waitingTime]),qe.useEffect(()=>{const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:Wn(Re.distance,be,oe)}))},[Ke,Wn,oe,e.distance,e.waitingTime]),qe.useEffect(()=>{(async()=>{try{const Re=$i.currentUser;if(Re){const dt=new Date().toISOString().split("T")[0],Dt=Js(To,"gananciasDiarias",Re.uid),Ct=await zp(Dt);if(Ct.exists()){const cn=(Ct.data().ganancias||[]).find(Fe=>Fe.fecha===dt);Ie((cn==null?void 0:cn.total)||0)}}}catch(Re){console.error("Error al cargar ganancias del da:",Re)}})()},[]),qe.useEffect(()=>{(async()=>{try{const Re=$i.currentUser;if(Re){const dt=Js(To,"usuarios",Re.uid),Dt=await zp(dt);if(Dt.exists()){const Ct=Dt.data();Pt({email:Ct.email||"",nombre:Ct.nombre||"",telefono:Ct.telefono||"",idZello:Ct.idZello||"",vehiculo:Ct.vehiculo||"",placas:Ct.placas||"",createdAt:Ct.createdAt||null})}}}catch(Re){console.error("Error al cargar datos del usuario:",Re)}})()},[]);const ri=async()=>{try{const be=$i.currentUser;if(!be)return;const Re=[],dt=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],Dt=new Date,Ct=[];for(let At=0;At<12;At++){const Wt=new Date(Dt.getFullYear(),Dt.getMonth()-At,1),cn=`${dt[Wt.getMonth()]}_${Wt.getFullYear()}`;Re.push(cn)}for(const At of Re)try{const Wt=Js(To,"bitacora_ganancias",be.uid),cn=up(Wt,At),Fe=V1(cn);(await U1(Fe)).empty||Ct.push(At)}catch(Wt){console.error(`Error checking month ${At}:`,Wt)}et(Ct)}catch(be){console.error("Error loading available months:",be)}},ii=async be=>{try{const Re=$i.currentUser;if(Re&&be){const dt=Js(To,"bitacora_ganancias",Re.uid),Dt=up(dt,be),Ct=V1(Dt,Gb("dia","asc")),At=await U1(Ct),Wt=[];At.forEach(cn=>{const Fe=cn.data();Wt.push({dia:Fe.dia,ganancia:Fe.ganancia||0})}),Lt(Wt)}}catch(Re){console.error("Error al cargar datos mensuales:",Re),Lt([])}},qr=async()=>{try{an(!0);const be=$i.currentUser;if(!be){alert("Usuario no autenticado"),an(!1);return}const Re=new Date,dt=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],Dt=[],Ct=[];for(let $t=1;$t<=3;$t++){const er=new Date(Re.getFullYear(),Re.getMonth()-$t,1),Ar=`${dt[er.getMonth()]}_${er.getFullYear()}`,Gn=`${dt[er.getMonth()].charAt(0).toUpperCase()+dt[er.getMonth()].slice(1)} ${er.getFullYear()}`;Dt.push(Ar),Ct.push(Gn)}const At=[];for(let $t=0;$t<Dt.length;$t++){const er=Dt[$t];try{const Ar=Js(To,"bitacora_ganancias",be.uid),Gn=up(Ar,er),$r=V1(Gn,Gb("dia","asc")),qs=await U1($r),Go=[];let Ko=0;qs.forEach(zl=>{const ts=zl.data();Go.push({dia:ts.dia,ganancia:ts.ganancia||0}),Ko+=ts.ganancia||0});const[$s,es]=er.split("_"),Ai=`${$s.charAt(0).toUpperCase()+$s.slice(1)} de ${es}`;At.push({month:Ai,days:Go,total:Ko,hasData:!qs.empty})}catch(Ar){console.error(`Error al cargar datos de ${er}:`,Ar);const[Gn,$r]=er.split("_"),qs=`${Gn.charAt(0).toUpperCase()+Gn.slice(1)} de ${$r}`;At.push({month:qs,days:[],total:0,hasData:!1})}}const Wt=At.filter($t=>$t.hasData),cn=Wt.map($t=>$t.month).join(", ");if(Wt.length<3){an(!1),ct(!1),tt(!1),alert(`No es posible generar la constancia: se requieren al menos 3 meses completos de historial.

Meses detectados: ${cn||"Ninguno"}`);return}const Fe=new ht,jt=Fe.internal.pageSize.getHeight(),Zn=Fe.internal.pageSize.getWidth();let yt=20;const qn=new Date,zs="Ciudad Guzmn, Jalisco",go=qn.toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"});Fe.setTextColor(0,0,0),Fe.setFontSize(11),Fe.text(`${zs} a ${go}`,20,yt),yt+=15,Fe.setFontSize(11),Fe.setFont(void 0,"bold"),Fe.text("PRESENTE",20,yt),yt+=15,Fe.setFont(void 0,"normal"),Fe.setFontSize(10);const Si=Fe.splitTextToSize("SpeedCabsZapotlan S.A.S de C.V., a travs de su Director General, Ernesto Ruiz Angeles, hace constar lo siguiente:",Zn-40);Fe.text(Si,20,yt),yt+=Si.length*5+10;const Lr=(Je==null?void 0:Je.nombre)||"N/A",oi=(Je==null?void 0:Je.vehiculo)||"N/A",wn=(Je==null?void 0:Je.placas)||"N/A";let ji="N/A";if(Je!=null&&Je.createdAt)try{ji=(Je.createdAt.toDate?Je.createdAt.toDate():new Date(Je.createdAt)).toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"})}catch{ji="N/A"}const ai=`${Lr}, con vehculo ${oi}, placas ${wn}, trabaja actualmente en esta compaa utilizando uno de nuestros sistemas. ${Lr} ha prestado sus servicios a esta empresa desde ${ji}.`,Zt=Fe.splitTextToSize(ai,Zn-40);Fe.text(Zt,20,yt),yt+=Zt.length*5+10;const xs=At.reduce(($t,er)=>$t+er.total,0),mr=xs/3;Fe.setFont(void 0,"bold"),Fe.setFontSize(11),Fe.text("RESUMEN DE INGRESOS NETOS",20,yt),yt+=10,Fe.setFont(void 0,"normal"),Fe.setFontSize(10),At.forEach($t=>{const er=$t.month.charAt(0).toUpperCase()+$t.month.slice(1);Fe.text(`- ${er}: $${$t.total.toFixed(2)} MXN`,30,yt),yt+=7}),yt+=5,Fe.setFont(void 0,"bold");const xn=`Ingreso Promedio Mensual: $${mr.toFixed(2)} MXN`;Fe.text(xn,20,yt),yt+=7;const Zi=`Total 3 Meses: $${xs.toFixed(2)} MXN`;Fe.text(Zi,20,yt),yt+=15,Fe.setFont(void 0,"normal"),Fe.text("Se extiende la presente constancia para los fines que al interesado convengan.",20,yt),yt+=20,Fe.text("Atentamente,",20,yt),yt+=30,Fe.setLineWidth(.5),Fe.line(20,yt,100,yt),yt+=7,Fe.setFont(void 0,"bold"),Fe.text("Ernesto Ruiz Angeles",20,yt),yt+=5,Fe.setFont(void 0,"normal"),Fe.text("Director General",20,yt),yt+=5,Fe.text("SpeedCabsZapotlan S.A.S de C.V.",20,yt);const ka=()=>{const $t=jt-15;Fe.setFontSize(8),Fe.setTextColor(100,100,100),Fe.setFont(void 0,"normal"),Fe.text("SpeedCabsZapotlan S.A.S de C.V. - Sistema de Gestin de Viajes",Zn/2,$t,{align:"center"}),Fe.setTextColor(0,0,0)};Fe.addPage(),yt=20,Fe.setFont(void 0,"bold"),Fe.setFontSize(12),Fe.text("DETALLE DE GANANCIAS POR MES Y DA",20,yt),yt+=15,Fe.setFont(void 0,"normal"),Fe.setFontSize(9),At.forEach(($t,er)=>{yt>jt-40&&(ka(),Fe.addPage(),yt=20),Fe.setFont(void 0,"bold"),Fe.setFontSize(10);const Ar=$t.month.charAt(0).toUpperCase()+$t.month.slice(1);if(Fe.text(Ar,20,yt),yt+=8,Fe.setFont(void 0,"normal"),Fe.setFontSize(9),$t.days.length>0){const Gn=$t.days.map($r=>[`${$r.dia}`,`$${$r.ganancia.toFixed(2)}`]);zU(Fe,{head:[["Da","Ganancia (MXN)"]],body:Gn,startY:yt,styles:{fontSize:8},headStyles:{fillColor:[31,41,55],textColor:255},margin:{left:20,right:20}}),yt=Fe.lastAutoTable.finalY+10}Fe.setFont(void 0,"bold"),Fe.setFontSize(9),Fe.text(`Total ${Ar}: $${$t.total.toFixed(2)} MXN`,20,yt),yt+=10}),ka();const Bl=`Comprobante_Ingresos_${be.uid}_${new Date().toISOString().split("T")[0]}.pdf`;Fe.save(Bl),ct(!1),tt(!1),an(!1),alert("Comprobante de ingresos generado exitosamente")}catch(be){console.error("Error al generar comprobante:",be),alert("Error al generar el comprobante"),an(!1)}},Sr=(be,Re)=>{Q(dt=>{const Dt=Math.max(0,dt[be]+Re),Ct=be==="adultos"?Dt:dt.adultos,At=be==="ninos"?Dt:dt.ninos,Wt=Ct*20+At*10;return{active:Ct>0||At>0,adultos:Ct,ninos:At,cost:Wt}})},si=()=>e.isRunning?e.isPaused?"bg-yellow-400":"bg-green-500":a==="available"?"bg-blue-400":"bg-red-500",bs=()=>{if(e.isRunning)return e.isPaused?"EN PAUSA - ESPERANDO":"VIAJE EN CURSO";switch(a){case"available":return"GPS DISPONIBLE";case"requesting":return"BUSCANDO SEAL GPS...";case"denied":return"ACCESO GPS DENEGADO";case"unavailable":return"GPS NO DISPONIBLE";default:return"ESTADO DESCONOCIDO"}};return M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 font-sans text-white",children:[M.jsxs("button",{onClick:()=>ze(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-green-600 hover:bg-green-500 text-white rounded-full shadow-lg flex items-center justify-center font-bold text-lg transition duration-200 z-40 border-2 border-green-400",children:["$",at.toFixed(0)]}),M.jsx("button",{onClick:()=>We(!0),className:"fixed bottom-24 right-6 w-16 h-16 bg-blue-700 hover:bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center transition duration-200 z-40 border-2 border-blue-500",children:M.jsx(np,{className:"w-8 h-8"})}),t&&M.jsx("button",{onClick:()=>bt(!0),className:"fixed bottom-42 right-6 w-16 h-16 bg-gray-700 hover:bg-gray-600 text-white rounded-full shadow-lg flex items-center justify-center transition duration-200 z-40 border-2 border-red-500",title:"Panel de Administracin",children:M.jsx(fw,{className:"w-8 h-8"})}),M.jsxs("div",{className:"max-w-md mx-auto",children:[He&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-green-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ganancias del Da"}),M.jsx("button",{onClick:()=>ze(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),M.jsxs("div",{className:"bg-gray-700 border border-green-500/50 p-6 rounded-lg mb-6 text-center",children:[M.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Total Acumulado"}),M.jsxs("p",{className:"text-5xl font-extrabold text-green-400",children:["$",at.toFixed(0),M.jsx("span",{className:"text-lg text-gray-400 ml-2",children:"MXN"})]})]}),M.jsx("button",{onClick:async()=>{try{const be=$i.currentUser;if(be&&at>0){const Re=new Date,Dt=`${["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][Re.getMonth()]}_${Re.getFullYear()}`,Ct=Js(To,"bitacora_ganancias",be.uid),At=up(Ct,Dt);await JO(At,{dia:Re.getDate(),fecha_cierre:pf(),ganancia:at});const Wt=new Date().toISOString().split("T")[0],cn=Js(To,"gananciasDiarias",be.uid),Fe=await zp(cn);let jt=[];Fe.exists()&&(jt=Fe.data().ganancias||[]),jt.findIndex(yt=>yt.fecha===Wt)===-1&&jt.push({fecha:Wt,total:0}),await Ug(cn,{userId:be.uid,ganancias:jt,ultimaActualizacion:pf()},{merge:!0})}Ie(0),ze(!1)}catch(be){console.error("Error al guardar bitcora:",be)}},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 rounded-xl transition duration-200 mb-2",children:"Terminar Da"}),M.jsx("button",{onClick:()=>ze(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cerrar"})]})}),ft&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-2",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 w-full h-full shadow-2xl flex flex-col overflow-hidden",children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsx("h2",{className:"text-3xl font-bold text-white",children:"Ganancias Mensuales"}),M.jsx("button",{onClick:()=>{rt(!1),Nt(""),Lt([])},className:"text-gray-400 hover:text-white text-4xl",children:""})]}),M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"block text-gray-300 text-lg mb-2",children:"Selecciona el mes:"}),M.jsxs("select",{value:Jt,onChange:be=>{Nt(be.target.value),be.target.value?ii(be.target.value):Lt([])},className:"w-full bg-gray-700 text-white p-4 rounded-lg border border-gray-600 text-lg",children:[M.jsx("option",{value:"",children:"-- Selecciona un mes --"}),Ut.map(be=>M.jsx("option",{value:be,children:be.replace("_"," ").toUpperCase()},be))]})]}),Jt&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"bg-gray-700 border border-blue-500/50 p-6 rounded-lg mb-6",children:[M.jsx("p",{className:"text-gray-300 text-xl mb-2 text-center",children:"Total del Mes"}),M.jsxs("p",{className:"text-6xl font-extrabold text-blue-400 text-center",children:["$",wt.reduce((be,Re)=>be+Re.ganancia,0).toFixed(0),M.jsx("span",{className:"text-2xl text-gray-400 ml-2",children:"MXN"})]})]}),M.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 flex-1 overflow-hidden flex flex-col",children:[M.jsx("h3",{className:"text-white font-bold mb-4 text-center text-2xl",children:"Ganancias por Da"}),wt.length>0?M.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:M.jsx("div",{className:"grid grid-cols-3 gap-4",children:wt.map((be,Re)=>M.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600 hover:border-blue-500 transition text-center",children:[M.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-2",children:M.jsx("span",{className:"text-white font-bold text-lg",children:be.dia})}),M.jsxs("span",{className:"text-green-400 font-bold text-xl block",children:["$",be.ganancia.toFixed(0)]})]},Re))})}):M.jsx("p",{className:"text-gray-400 text-center text-xs py-2",children:"No hay datos para este mes"})]})]}),M.jsx("button",{onClick:()=>{rt(!1),Nt(""),Lt([])},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 rounded-xl transition duration-200 mt-6 text-xl",children:"Cerrar"})]})}),Tt&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(np,{className:"w-6 h-6 text-blue-500 mr-2"}),M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel de Usuario"})]}),M.jsx("button",{onClick:()=>We(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),M.jsx("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Opciones de usuario"}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("button",{onClick:()=>{We(!1),Ft(!0)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:M.jsxs("div",{className:"flex items-center justify-center",children:[M.jsx(np,{className:"w-5 h-5 mr-2"}),"Ver Perfil"]})}),M.jsx("button",{onClick:async()=>{We(!1),await ri(),rt(!0)},className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:M.jsxs("div",{className:"flex items-center justify-center",children:[M.jsx(xP,{className:"w-5 h-5 mr-2"}),"Ganancias Mensuales"]})}),M.jsx("button",{onClick:()=>{We(!1),tt(!0)},className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:M.jsxs("div",{className:"flex items-center justify-center",children:[M.jsx(aw,{className:"w-5 h-5 mr-2"}),"Comprobante de Ingresos"]})}),M.jsx("button",{onClick:async()=>{try{await PL($i),We(!1)}catch(be){console.error("Error al cerrar sesin:",be)}},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:M.jsxs("div",{className:"flex items-center justify-center",children:[M.jsx(TP,{className:"w-5 h-5 mr-2"}),"Salir"]})})]}),M.jsx("button",{onClick:()=>We(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-4",children:"Cerrar"})]})}),nn&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(aw,{className:"w-6 h-6 text-purple-500 mr-2"}),M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Comprobante de Ingresos"})]}),M.jsx("button",{onClick:()=>tt(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),M.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Se generar un comprobante de ingresos de los ltimos 3 meses"}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("button",{onClick:()=>ct(!0),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Aceptar"}),M.jsx("button",{onClick:()=>tt(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cancelar"})]})]})}),on&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Generando Comprobante"}),M.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Se descargar un documento PDF con tu comprobante de ingresos de los ltimos 3 meses"}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("button",{onClick:qr,disabled:gt,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${gt?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:gt?"Generando...":"Confirmar y Descargar"}),M.jsx("button",{onClick:()=>{ct(!1),tt(!1)},disabled:gt,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${gt?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-500 text-white"}`,children:"Cancelar"})]})]})}),Nn&&Je&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(np,{className:"w-6 h-6 text-blue-500 mr-2"}),M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Mi Perfil"})]}),M.jsx("button",{onClick:()=>Ft(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[M.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Nombre"}),M.jsx("p",{className:"text-white font-semibold text-lg",children:Je.nombre})]}),M.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[M.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Email"}),M.jsx("p",{className:"text-white font-semibold text-sm",children:Je.email})]}),M.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[M.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Telfono"}),M.jsx("p",{className:"text-white font-semibold text-lg",children:Je.telefono})]}),M.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[M.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"ID Zello"}),M.jsx("p",{className:"text-white font-semibold text-lg",children:Je.idZello})]})]}),M.jsx("button",{onClick:()=>Ft(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-6",children:"Cerrar"})]})}),Ve&&t&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-red-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(fw,{className:"w-6 h-6 text-red-500 mr-2"}),M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel Admin"})]}),M.jsx("button",{onClick:()=>bt(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),M.jsx("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Funciones administrativas del sistema"}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("button",{onClick:()=>{Ji(),bt(!1)},className:`w-full font-bold py-3 rounded-xl transition duration-200 text-sm ${Le?"bg-green-600 hover:bg-green-500":"bg-yellow-600 hover:bg-yellow-500"} text-white`,children:M.jsxs("div",{className:"flex items-center justify-center",children:[M.jsx(DP,{className:"w-5 h-5 mr-2"}),Le?"Detener Simulacin":"Iniciar Simulacin"]})}),M.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(SP,{className:"w-5 h-5 text-blue-400 mr-2"}),M.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Tipo de Ruta:"})]}),M.jsx("span",{className:"text-sm font-bold text-white",children:u.name})]})}),M.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(PP,{className:"w-5 h-5 text-blue-400 mr-2"}),M.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Zona Especial ($70)"})]}),M.jsx("button",{onClick:()=>me(!oe),className:`px-4 py-1.5 rounded-full text-xs font-semibold transition ${oe?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:oe?"Activo":"Inactivo"})]})}),M.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Ver estadsticas generales"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Ver Estadsticas"}),M.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Ver todos los viajes"),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Ver Todos los Viajes"}),M.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Configuracin avanzada"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Configuracin Avanzada"})]}),M.jsx("button",{onClick:()=>bt(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-4",children:"Cerrar"})]})}),ot&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h2",{className:"text-2xl font-bold text-white",children:"Precios Forneos"}),M.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),M.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Consulta los precios para viajes forneos"}),M.jsx("a",{href:"https://precios.speedcabszapotlan.com",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 shadow-lg block text-center mb-3",children:"Abrir Precios Forneos"}),M.jsx("button",{onClick:()=>H(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cerrar"})]})}),p&&S&&M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:M.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[M.jsxs("div",{className:"flex items-center justify-center mb-4",children:[M.jsx(lw,{className:"w-8 h-8 text-blue-400 mr-2"}),M.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Resumen del Viaje"})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsx("div",{className:"bg-gray-700 border border-gray-600 p-3 rounded-lg",children:M.jsx("div",{className:"text-center",children:M.jsx("span",{className:"text-blue-400 font-bold text-lg",children:S.tripType})})}),M.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-gray-300",children:"Distancia recorrida:"}),M.jsxs("span",{className:"font-bold text-lg text-blue-400",children:[S.distance.toFixed(3)," km"]})]}),M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),M.jsx("span",{className:"font-bold text-lg text-blue-400",children:Ur(S.waitingTime)})]}),M.jsx("div",{className:"border-t border-gray-600 pt-3 mt-3",children:M.jsxs("div",{className:"space-y-2 mb-2",children:[(()=>{var Fe,jt,Zn,yt;const Re=Math.floor(S.waitingTime/60)*bn.waitingRate,dt=S.petConfig.active?S.petConfig.cost:0,Dt=S.personasExtrasConfig.active?S.personasExtrasConfig.cost:0;if(S.isSorianaActive&&Math.abs(S.cost-(70+S.costoParadas+Re+dt+Dt))<1)return M.jsxs(M.Fragment,{children:[S.numeroParadas>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm bg-blue-900/30 p-2 rounded",children:[M.jsxs("span",{className:"text-blue-300",children:["Paradas (",S.numeroParadas,"):"]}),M.jsxs("span",{className:"text-white font-semibold",children:["$",S.costoParadas," MXN"]})]}),M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Zona especial (tarifa fija):"}),M.jsx("span",{className:"text-white font-semibold",children:"$70 MXN"})]}),Re>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",Re.toFixed(0)," MXN"]})]}),dt>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Mascota:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",dt," MXN"]})]}),Dt>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Pasajeros adicionales:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",Dt," MXN"]})]})]});let At;S.servicioEspecialConfig.active?At=S.servicioEspecialConfig.cost:S.tripType.includes("Cristo Rey")?At=((Zn=(jt=(Fe=Bh.find(qn=>qn.name===S.tripType))==null?void 0:Fe.subTrips)==null?void 0:jt.find(qn=>qn.name===S.tripType))==null?void 0:Zn.fixedPrice)||bn.baseFare:At=((yt=Bh.find(qn=>qn.name===S.tripType))==null?void 0:yt.fixedPrice)||bn.baseFare;let Wt=0;if(S.tripType.includes("Colmena"))S.distance>4.9&&S.distance-4.9;else if(S.tripType!=="Viaje Normal")S.distance>5&&S.distance-5;else for(const qn of bn.distanceRates)if(S.distance>=qn.min&&S.distance<=qn.max){if(qn.extraRate&&S.distance>8){const zs=S.distance-8;qn.basePrice-bn.baseFare+At+zs*qn.extraRate}else qn.price-bn.baseFare;break}(S.tripType!=="Viaje Normal"||S.isSorianaActive&&!S.costoParadas)&&S.distance>=3.7&&(Wt=5);const cn=S.cost-S.costoParadas-Re-dt-Dt-Wt;return M.jsxs(M.Fragment,{children:[S.numeroParadas>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm bg-blue-900/30 p-2 rounded",children:[M.jsxs("span",{className:"text-blue-300",children:["Paradas (",S.numeroParadas,"):"]}),M.jsxs("span",{className:"text-white font-semibold",children:["$",S.costoParadas," MXN"]})]}),M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Tarifa de ruta:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",cn.toFixed(2)," MXN"]})]}),Re>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",Re.toFixed(0)," MXN"]})]}),dt>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Mascota:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",dt," MXN"]})]}),Dt>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Pasajeros adicionales:"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",Dt," MXN"]})]}),Wt>0&&M.jsxs("div",{className:"flex justify-between items-center text-sm",children:[M.jsx("span",{className:"text-gray-300",children:"Cargo adicional (>3.7 km):"}),M.jsxs("span",{className:"text-white font-semibold",children:["$",Wt," MXN"]})]})]})})(),M.jsxs("div",{className:"flex justify-between items-center mt-3 border-t border-blue-500/50 pt-3",children:[M.jsx("span",{className:"text-xl text-white",children:"TOTAL:"}),M.jsxs("span",{className:"text-3xl font-extrabold text-blue-400",children:["$",S.cost.toFixed(0)]})]})]})})]}),M.jsx("button",{onClick:async()=>{const be=at+S.cost;Ie(be);try{const dt=$i.currentUser;if(dt){const Dt=Js(To,"gananciasDiarias",dt.uid);await Ug(Dt,{total:be},{merge:!0})}}catch(dt){console.error("Error al guardar ganancias:",dt)}I(!1);const Re=Bh[0];f(Re),y(null),n({distance:0,rawDistance:0,cost:bn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1}),N(!1),T({active:!1,withCage:null,cost:0}),ge({active:!1,type:null,cost:0}),Q({active:!1,ninos:0,adultos:0,cost:0}),me(!1),Ee(null),J(0),we(0),lt("normal"),U(0)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 shadow-lg",children:"Cerrar"})]})]})}),M.jsxs("header",{className:"mb-6",children:[M.jsxs("h1",{className:"text-4xl font-extrabold text-white text-center mb-1 flex items-center justify-center",children:[M.jsx(IP,{className:"w-8 h-8 text-blue-400 mr-2"}),"Recorrido GPS"]}),M.jsxs("div",{className:`text-center py-1.5 px-3 rounded-full text-sm font-semibold text-gray-900 ${si()}`,children:[M.jsx(kP,{className:"w-4 h-4 inline-block mr-1"}),bs()]}),M.jsx("div",{className:"mt-3 text-center",children:M.jsx("button",{onClick:()=>H(!0),className:"inline-block bg-blue-600 hover:bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Foraneos"})})]}),M.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl mb-6 border border-gray-700",children:[M.jsxs("div",{className:"flex justify-between items-end mb-4",children:[M.jsxs("div",{className:"text-left",children:[M.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase",children:"Distancia Recorrida"}),M.jsxs("p",{className:"text-4xl font-bold text-white leading-none",children:[e.distance.toFixed(3),M.jsx("span",{className:"text-lg font-normal text-gray-400 ml-1",children:"km"})]})]}),M.jsxs("div",{className:"text-right",children:[M.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase",children:"Tiempo de Espera"}),M.jsx("p",{className:"text-2xl font-bold text-white leading-none",children:Ur(e.waitingTime)})]})]}),M.jsxs("div",{className:"text-center bg-black/50 p-3 rounded-xl border border-blue-500/50",children:[M.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase block",children:"Tarifa Total"}),M.jsxs("p",{className:"text-6xl font-extrabold text-blue-400 mt-1",children:["$",Math.ceil(e.cost).toFixed(0),M.jsx("span",{className:"text-xl font-normal text-gray-400 ml-1",children:"MXN"})]}),M.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(Tarifa Base: $",xr(u).toFixed(2),")"]})]})]}),M.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:e.isRunning?M.jsxs(M.Fragment,{children:[M.jsxs("button",{onClick:or,className:`flex flex-col items-center justify-center p-3 rounded-xl shadow-lg transition duration-200 ${e.isPaused?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:[e.isPaused?M.jsx(cw,{className:"w-6 h-6 text-white"}):M.jsx(CP,{className:"w-6 h-6 text-white"}),M.jsx("span",{className:"text-xs mt-1 font-bold text-white",children:e.isPaused?"Reanudar":"Pausar"})]}),M.jsxs("button",{onClick:Rr,className:"col-span-2 flex flex-col items-center justify-center p-3 rounded-xl bg-red-600 hover:bg-red-500 text-white shadow-lg transition duration-200",children:[M.jsx(LP,{className:"w-6 h-6"}),M.jsx("span",{className:"text-xs mt-1 font-bold",children:"Finalizar"})]})]}):M.jsx(M.Fragment,{children:M.jsxs("button",{onClick:Tn,className:`col-span-3 flex flex-col items-center justify-center p-3 rounded-xl shadow-lg transition duration-200 ${a==="available"?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-300 cursor-not-allowed"}`,disabled:a!=="available",children:[M.jsx(cw,{className:"w-8 h-8"}),M.jsx("span",{className:"text-md mt-1 font-bold",children:"INICIAR VIAJE"})]})})}),e.isRunning&&M.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700 relative",children:[M.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[M.jsx(lw,{className:"w-5 h-5 text-blue-400 mr-2"}),"Paradas"]}),M.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[M.jsx("span",{className:"text-gray-300",children:"Nmero de paradas:"}),M.jsx("span",{className:"font-bold text-white",children:le})]}),M.jsxs("div",{className:"flex justify-between items-center text-sm mb-4",children:[M.jsx("span",{className:"text-gray-300",children:"Costo acumulado:"}),M.jsxs("span",{className:"font-bold text-blue-400",children:["$",ye.toFixed(0)," MXN"]})]}),M.jsx("button",{onClick:()=>re(!0),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-xl transition duration-200",disabled:te,children:"Aadir Parada"}),te&&M.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center p-4 rounded-xl z-10",children:M.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg w-full max-w-xs shadow-2xl border border-blue-500/50",children:[M.jsx("h4",{className:"text-lg font-bold text-white mb-3 text-center",children:"Tipo de Parada:"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("button",{onClick:()=>mt(bn.paradaRapida),className:"w-full flex items-center justify-between p-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold transition duration-150",children:[M.jsx(EP,{className:"w-5 h-5"}),M.jsx("span",{className:"text-sm",children:"Parada Rpida"}),M.jsxs("span",{className:"text-lg font-extrabold",children:["+$",bn.paradaRapida]})]}),M.jsxs("button",{onClick:()=>mt(bn.paradaServicio,!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-yellow-600 hover:bg-yellow-500 text-white font-bold transition duration-150",children:[M.jsx(RP,{className:"w-5 h-5"}),M.jsx("span",{className:"text-sm",children:"Parada con Servicio"}),M.jsxs("span",{className:"text-lg font-extrabold",children:["+$",bn.paradaServicio]})]})]}),M.jsx("button",{onClick:()=>re(!1),className:"w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white text-sm py-2 rounded-lg",children:"Cancelar"})]})})]}),M.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:[M.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>ie(be=>!be),children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(AP,{className:"w-5 h-5 text-blue-400 mr-2"}),M.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Servicios Adicionales"})]}),Z?M.jsx(ow,{className:"w-5 h-5 text-white"}):M.jsx(sw,{className:"w-5 h-5 text-white"})]}),Z&&M.jsxs("div",{className:"mt-3 border-t border-gray-700 pt-3 space-y-3",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("div",{className:"flex items-center",children:M.jsx("span",{className:"text-sm text-white",children:"Mascota"})}),M.jsx("button",{onClick:()=>D(be=>!be),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${w.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:w.active?"Activo":"Aadir"})]}),E&&M.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-xs text-gray-300",children:"Con jaula/transportadora?"}),M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("button",{onClick:()=>{T({active:!0,withCage:!0,cost:20}),D(!1)},className:`px-3 py-1 text-xs rounded-full ${w.withCage===!0?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"S ($20)"}),M.jsx("button",{onClick:()=>{T({active:!0,withCage:!1,cost:30}),D(!1)},className:`px-3 py-1 text-xs rounded-full ${w.withCage===!1?"bg-red-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"No ($30)"})]})]}),M.jsx("button",{onClick:()=>{T({active:!1,withCage:null,cost:0}),D(!1)},className:"w-full bg-red-700 text-white text-xs py-1 rounded",disabled:e.isRunning,children:"Eliminar"})]}),M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("div",{className:"flex items-center",children:M.jsx("span",{className:"text-sm text-white",children:"Servicio Especial"})}),M.jsx("button",{onClick:()=>X(be=>!be),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ce.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:ce.active?"Activo":"Aadir"})]}),k&&M.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-xs text-gray-300",children:"Selecciona tipo de servicio:"}),M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("button",{onClick:()=>{ge({active:!0,type:"recoger",cost:60}),X(!1)},className:`px-3 py-1 text-xs rounded-full ${ce.type==="recoger"?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"Recoger ($60)"}),M.jsx("button",{onClick:()=>{ge({active:!0,type:"comprar",cost:70}),X(!1)},className:`px-3 py-1 text-xs rounded-full ${ce.type==="comprar"?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"Comprar ($70)"})]})]}),M.jsx("button",{onClick:()=>{ge({active:!1,type:null,cost:0}),X(!1)},className:"w-full bg-red-700 text-white text-xs py-1 rounded",disabled:e.isRunning,children:"Eliminar"})]}),M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("div",{className:"flex items-center",children:M.jsx("span",{className:"text-sm text-white",children:"Pasajeros Adicionales"})}),M.jsx("button",{onClick:()=>j(be=>!be),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${W.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:W.active?"Activo":"Aadir"})]}),_e&&M.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-xs text-gray-300",children:"Adultos ($20 c/u):"}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("button",{onClick:()=>Sr("adultos",-1),className:`p-1 rounded-full transition ${W.adultos>0&&!e.isRunning?"bg-red-500 hover:bg-red-400":"bg-gray-600 cursor-not-allowed"}`,disabled:W.adultos===0||e.isRunning,children:M.jsx(uw,{className:"w-4 h-4 text-white"})}),M.jsx("span",{className:"w-6 text-center text-white font-bold text-sm",children:W.adultos}),M.jsx("button",{onClick:()=>Sr("adultos",1),className:`p-1 rounded-full transition ${e.isRunning?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-400"}`,disabled:e.isRunning,children:M.jsx(hw,{className:"w-4 h-4 text-white"})})]})]}),M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-xs text-gray-300",children:"Nios ($10 c/u):"}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("button",{onClick:()=>Sr("ninos",-1),className:`p-1 rounded-full transition ${W.ninos>0&&!e.isRunning?"bg-red-500 hover:bg-red-400":"bg-gray-600 cursor-not-allowed"}`,disabled:W.ninos===0||e.isRunning,children:M.jsx(uw,{className:"w-4 h-4 text-white"})}),M.jsx("span",{className:"w-6 text-center text-white font-bold text-sm",children:W.ninos}),M.jsx("button",{onClick:()=>Sr("ninos",1),className:`p-1 rounded-full transition ${e.isRunning?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-400"}`,disabled:e.isRunning,children:M.jsx(hw,{className:"w-4 h-4 text-white"})})]})]}),M.jsxs("p",{className:"text-right text-sm font-bold text-blue-400",children:["Costo adicional: $",W.cost," MXN"]}),M.jsx("button",{onClick:()=>j(!1),className:"w-full bg-blue-700 text-white text-xs py-1 rounded",children:"Guardar"})]})]})]}),M.jsx("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Tipo de Tarifa"}),M.jsxs("div",{className:"flex gap-4",children:[M.jsxs("label",{className:"flex items-center cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:Ke==="normal",onChange:()=>lt("normal"),disabled:e.isRunning,className:"mr-2 w-4 h-4"}),M.jsx("span",{className:`text-sm ${Ke==="normal"?"text-green-400 font-bold":"text-gray-400"}`,children:"Normal ($50)"})]}),M.jsxs("label",{className:"flex items-center cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:Ke==="especial",onChange:()=>lt("especial"),disabled:e.isRunning,className:"mr-2 w-4 h-4"}),M.jsx("span",{className:`text-sm ${Ke==="especial"?"text-blue-400 font-bold":"text-gray-400"}`,children:"Especial ($60)"})]})]})]})}),M.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:[M.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>P(be=>!be),children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(NP,{className:"w-5 h-5 text-gray-400 mr-2"}),M.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Informacin de Tarifas"})]}),x?M.jsx(ow,{className:"w-5 h-5 text-white"}):M.jsx(sw,{className:"w-5 h-5 text-white"})]}),x&&M.jsxs("div",{className:"mt-3 border-t border-gray-700 pt-3 space-y-3 text-sm text-gray-300",children:[M.jsxs("p",{className:"font-bold text-white",children:["Tarifa Base: $",Ke==="especial"?bn.baseFareEspecial:bn.baseFare," MXN (",Ke==="especial"?"Especial":"Normal",")"]}),M.jsxs("p",{className:"font-bold text-white",children:["Costo por Tiempo de Espera: $",bn.waitingRate," MXN/min"]}),M.jsx("h4",{className:"font-bold text-blue-400 mt-3",children:"Tarifas por Distancia (Viaje Normal):"}),M.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:bn.distanceRates.map((be,Re)=>M.jsx("li",{children:be.max===1/0?`> ${be.min.toFixed(2)} km: Base $${be.basePrice} + $${be.extraRate}/km extra`:`${be.min.toFixed(2)} - ${be.max.toFixed(2)} km: $${be.price} MXN`},Re))})]})]}),M.jsxs("footer",{className:"mt-6 text-center text-xs text-gray-500",children:[r&&M.jsxs("p",{children:["GPS: Lat ",r.latitude.toFixed(6),", Lon ",r.longitude.toFixed(6)]}),e.isRunning&&M.jsxs("p",{children:["Distancia Cruda: ",e.rawDistance.toFixed(3)," km"]})]})]})]})}const HU=({children:t})=>{const[e,n]=qe.useState(null),[r,i]=qe.useState(!0),[s,o]=qe.useState(!1),[a,l]=qe.useState({email:"",idZello:"",nombre:"",telefono:""}),[u,f]=qe.useState(!1);qe.useEffect(()=>{const I=kL($i,S=>{(async()=>S?await g(S):(n(null),i(!1)))()});return()=>I()},[]);const g=async I=>{try{const S=Js(To,"usuarios",I.uid);(await zp(S)).exists()?(await Ug(S,{ultimaConexion:pf()},{merge:!0}),n(I),i(!1)):(l({email:I.email||"",idZello:"",nombre:I.displayName||"",telefono:""}),o(!0),i(!1))}catch(S){console.error("Error al verificar usuario:",S),n(I),i(!1)}},y=async I=>{if(I.preventDefault(),!!$i.currentUser){f(!0);try{const S=Js(To,"usuarios",$i.currentUser.uid);await Ug(S,{uid:$i.currentUser.uid,email:a.email,idZello:a.idZello,nombre:a.nombre,telefono:a.telefono,createdAt:pf(),ultimaConexion:pf()}),n($i.currentUser),o(!1)}catch(S){console.error("Error al registrar usuario:",S),alert("Error al registrar los datos. Por favor, intenta de nuevo.")}finally{f(!1)}}},p=async()=>{try{await QL($i,tM)}catch(I){console.error("Error al iniciar sesin:",I)}};return r?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:M.jsx("div",{className:"text-white text-xl",children:"Cargando..."})}):s?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700 max-w-md w-full",children:[M.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-4",children:"Registro de Usuario"}),M.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Completa tus datos para continuar"}),M.jsxs("form",{onSubmit:y,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),M.jsx("input",{type:"email",value:a.email,onChange:I=>l({...a,email:I.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"ID Zello"}),M.jsx("input",{type:"text",value:a.idZello,onChange:I=>l({...a,idZello:I.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Tu ID de Zello"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Nombre"}),M.jsx("input",{type:"text",value:a.nombre,onChange:I=>l({...a,nombre:I.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Nombre completo"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Telfono"}),M.jsx("input",{type:"tel",value:a.telefono,onChange:I=>l({...a,telefono:I.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Nmero de telfono"})]}),M.jsx("button",{type:"submit",disabled:u,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${u?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:u?"Registrando...":"Completar Registro"}),M.jsx("button",{type:"button",onClick:()=>o(!1),disabled:u,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${u?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:"Cancelar"})]})]})}):e?M.jsx("div",{className:"relative",children:J5.isValidElement(t)&&typeof t.type!="string"?J5.cloneElement(t,{isAdmin:(e==null?void 0:e.email)==="trabajoonline88@gmail.com"}):t}):M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700 max-w-md w-full",children:[M.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-6",children:"Recorrido GPS"}),M.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Inicia sesin para continuar"}),M.jsxs("button",{onClick:p,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 flex items-center justify-center gap-3",children:[M.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[M.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),M.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),M.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),M.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Iniciar sesin con Google"]})]})})};US(document.getElementById("root")).render(M.jsx(qe.StrictMode,{children:M.jsx(HU,{children:M.jsx($U,{})})}));export{vn as _,GU as c,GN as g};
